<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>CXI: CryptoServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CXI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CryptoServerAPI</b></li><li class="navelem"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html">CryptoServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_crypto_server_a_p_i_1_1_crypto_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CryptoServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements an interface to Utimaco's Hardware Security Module "CryptoServer".  
 <a href="class_crypto_server_a_p_i_1_1_crypto_server.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for CryptoServer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_crypto_server_a_p_i_1_1_crypto_server.png" usemap="#CryptoServer_map" alt=""/>
  <map id="CryptoServer_map" name="CryptoServer_map">
<area href="class_crypto_server_a_p_i_1_1_crypto_server_cluster.html" title="This class implements an interface to a cluster of Utimaco&#39;s Hardware Security Moduls &quot;CryptoServer&quot;..." alt="CryptoServerCluster" shape="rect" coords="0,56,129,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<tr class="memitem:ac32a9f3c51a66fca6e2f0eb5b03777b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ac32a9f3c51a66fca6e2f0eb5b03777b0">CryptoServer</a> (String device, int timeout)  throws IOException, NumberFormatException, CryptoServerException   </td></tr>
<tr class="memdesc:ac32a9f3c51a66fca6e2f0eb5b03777b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new connection to a CryptoServer.  <a href="#ac32a9f3c51a66fca6e2f0eb5b03777b0"></a><br/></td></tr>
<tr class="separator:ac32a9f3c51a66fca6e2f0eb5b03777b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac3c87f10788131be026a5ad6e6da72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#abac3c87f10788131be026a5ad6e6da72">CryptoServer</a> (String device)  throws IOException, NumberFormatException, CryptoServerException   </td></tr>
<tr class="memdesc:abac3c87f10788131be026a5ad6e6da72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new connection to a CryptoServer.  <a href="#abac3c87f10788131be026a5ad6e6da72"></a><br/></td></tr>
<tr class="separator:abac3c87f10788131be026a5ad6e6da72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fade436a5ebdd3d98e9eb3030ddf661"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a7fade436a5ebdd3d98e9eb3030ddf661">CryptoServer</a> (<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_config.html">CryptoServerConfig</a> config)  throws IOException, NumberFormatException, CryptoServerException   </td></tr>
<tr class="memdesc:a7fade436a5ebdd3d98e9eb3030ddf661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new connection to a CryptoServer.  <a href="#a7fade436a5ebdd3d98e9eb3030ddf661"></a><br/></td></tr>
<tr class="separator:a7fade436a5ebdd3d98e9eb3030ddf661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Basic Functions</div></td></tr>
<tr class="memitem:a5ae591df94fc66ccb85cbb6565368bca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a5ae591df94fc66ccb85cbb6565368bca">close</a> ()</td></tr>
<tr class="memdesc:a5ae591df94fc66ccb85cbb6565368bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the current session, invalidates authentication and closes the connection to the CryptoServer.  <a href="#a5ae591df94fc66ccb85cbb6565368bca"></a><br/></td></tr>
<tr class="separator:a5ae591df94fc66ccb85cbb6565368bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35f208dce82e5cfc5b5256ab46284ef"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ae35f208dce82e5cfc5b5256ab46284ef">getDevice</a> ()</td></tr>
<tr class="memdesc:ae35f208dce82e5cfc5b5256ab46284ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the device specifier of the connected CryptoServer.  <a href="#ae35f208dce82e5cfc5b5256ab46284ef"></a><br/></td></tr>
<tr class="separator:ae35f208dce82e5cfc5b5256ab46284ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae44a6096c42cdb61adc10370ca2a42b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ae44a6096c42cdb61adc10370ca2a42b6">setTimeout</a> (int timeout)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:ae44a6096c42cdb61adc10370ca2a42b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the (read) timeout for all comunication with the CryptoServer.  <a href="#ae44a6096c42cdb61adc10370ca2a42b6"></a><br/></td></tr>
<tr class="separator:ae44a6096c42cdb61adc10370ca2a42b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556668ae26748c5d696c34d3915e08d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a556668ae26748c5d696c34d3915e08d8">getTimeout</a> ()</td></tr>
<tr class="memdesc:a556668ae26748c5d696c34d3915e08d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current (read) timeout for all communication with the CryptoServer.  <a href="#a556668ae26748c5d696c34d3915e08d8"></a><br/></td></tr>
<tr class="separator:a556668ae26748c5d696c34d3915e08d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423176472c59fc830966db5244e84f3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a423176472c59fc830966db5244e84f3e">setTrace</a> (PrintStream out, boolean flag)</td></tr>
<tr class="memdesc:a423176472c59fc830966db5244e84f3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables the trace function.  <a href="#a423176472c59fc830966db5244e84f3e"></a><br/></td></tr>
<tr class="separator:a423176472c59fc830966db5244e84f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ee094ca3f45aa4156b97d34fe678bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a22ee094ca3f45aa4156b97d34fe678bf">restart</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a22ee094ca3f45aa4156b97d34fe678bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboots the CryptoServer.  <a href="#a22ee094ca3f45aa4156b97d34fe678bf"></a><br/></td></tr>
<tr class="separator:a22ee094ca3f45aa4156b97d34fe678bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:ad20897c5c8bd47f5d4005989bead0e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reboots the CryptoServer.  <a href="#ad20897c5c8bd47f5d4005989bead0e55"></a><br/></td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbfdcdccbb8a31299074fd97c6706ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#acbbfdcdccbb8a31299074fd97c6706ba">waitReady</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:acbbfdcdccbb8a31299074fd97c6706ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the CryptoServer is ready to receive commands.  <a href="#acbbfdcdccbb8a31299074fd97c6706ba"></a><br/></td></tr>
<tr class="separator:acbbfdcdccbb8a31299074fd97c6706ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9f9a92af555d621d1ca9ceb827557c"><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c">exec</a> (int fc, int sfc, byte[] cmd)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a6e9f9a92af555d621d1ca9ceb827557c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a command of the CryptoServer.  <a href="#a6e9f9a92af555d621d1ca9ceb827557c"></a><br/></td></tr>
<tr class="separator:a6e9f9a92af555d621d1ca9ceb827557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Authentication &amp; Secure Messaging</div></td></tr>
<tr class="memitem:a58ade920d99eae1875d9324497b75876"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a58ade920d99eae1875d9324497b75876">logonPassword</a> (String user, byte[] password)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a58ade920d99eae1875d9324497b75876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticates a user and establishs a secure messaging session with the CryptoServer.  <a href="#a58ade920d99eae1875d9324497b75876"></a><br/></td></tr>
<tr class="separator:a58ade920d99eae1875d9324497b75876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba141f72e598227f5fa17947d9494f68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#aba141f72e598227f5fa17947d9494f68">logonPassword</a> (String user, String password)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:aba141f72e598227f5fa17947d9494f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticates a user and establishs a secure messaging session with the CryptoServer.  <a href="#aba141f72e598227f5fa17947d9494f68"></a><br/></td></tr>
<tr class="separator:aba141f72e598227f5fa17947d9494f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754899025f580b46523a8af6bac88129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a754899025f580b46523a8af6bac88129">logonSign</a> (String user, String keySpec, String pin)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a754899025f580b46523a8af6bac88129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Authenticates a user and establishes a secure messaging session with the CryptoServer.  <a href="#a754899025f580b46523a8af6bac88129"></a><br/></td></tr>
<tr class="separator:a754899025f580b46523a8af6bac88129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36eda859ee0a2b35349a37892f605228"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a36eda859ee0a2b35349a37892f605228">logoff</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a36eda859ee0a2b35349a37892f605228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates a secure messaging session and invalidates authentication.  <a href="#a36eda859ee0a2b35349a37892f605228"></a><br/></td></tr>
<tr class="separator:a36eda859ee0a2b35349a37892f605228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91cdbb3f8790ae7318fa1bf05a8ad57f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a91cdbb3f8790ae7318fa1bf05a8ad57f">getAuthState</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a91cdbb3f8790ae7318fa1bf05a8ad57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns resulting authentication state.  <a href="#a91cdbb3f8790ae7318fa1bf05a8ad57f"></a><br/></td></tr>
<tr class="separator:a91cdbb3f8790ae7318fa1bf05a8ad57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a001b480dcfcacc0079bc11c00420ac0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a001b480dcfcacc0079bc11c00420ac0d">prepareAuthenticationClrPwd</a> (String user, byte[] password)  throws CryptoServerException   </td></tr>
<tr class="memdesc:a001b480dcfcacc0079bc11c00420ac0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "Clear Password" mechanism.  <a href="#a001b480dcfcacc0079bc11c00420ac0d"></a><br/></td></tr>
<tr class="separator:a001b480dcfcacc0079bc11c00420ac0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c49a712c0a73a83941244dbd8201f0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8c49a712c0a73a83941244dbd8201f0c">prepareAuthenticationShaPwd</a> (String user, byte[] password)  throws CryptoServerException   </td></tr>
<tr class="memdesc:a8c49a712c0a73a83941244dbd8201f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "SHA-1 Hashed Password" mechanism.  <a href="#a8c49a712c0a73a83941244dbd8201f0c"></a><br/></td></tr>
<tr class="separator:a8c49a712c0a73a83941244dbd8201f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6156e24d2c79f13321173e4e4049026d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6156e24d2c79f13321173e4e4049026d">prepareAuthenticationHMAC</a> (String user, byte[] password)  throws CryptoServerException   </td></tr>
<tr class="memdesc:a6156e24d2c79f13321173e4e4049026d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "HMAC Password" mechanism.  <a href="#a6156e24d2c79f13321173e4e4049026d"></a><br/></td></tr>
<tr class="separator:a6156e24d2c79f13321173e4e4049026d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a62528b490cef50478cbd48c4069be9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6a62528b490cef50478cbd48c4069be9">prepareAuthenticationHMAC</a> (String user, String password)  throws CryptoServerException   </td></tr>
<tr class="memdesc:a6a62528b490cef50478cbd48c4069be9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "HMAC Password" mechanism.  <a href="#a6a62528b490cef50478cbd48c4069be9"></a><br/></td></tr>
<tr class="separator:a6a62528b490cef50478cbd48c4069be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862fb3ae0b474502bab41901010863d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a862fb3ae0b474502bab41901010863d1">prepareAuthenticationRSASign</a> (String user, String keySpec, String pin)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a862fb3ae0b474502bab41901010863d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "RSA Signature" mechanism.  <a href="#a862fb3ae0b474502bab41901010863d1"></a><br/></td></tr>
<tr class="separator:a862fb3ae0b474502bab41901010863d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da939230d68f3678d26fc8c357f827d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8da939230d68f3678d26fc8c357f827d">prepareAuthenticationRSASC</a> (String user, String pin)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a8da939230d68f3678d26fc8c357f827d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to authenticate the subsequent commands with "RSA Smartcard" mechanism.  <a href="#a8da939230d68f3678d26fc8c357f827d"></a><br/></td></tr>
<tr class="separator:a8da939230d68f3678d26fc8c357f827d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b5a743288eba6e3334ca96875e336d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a7b5a743288eba6e3334ca96875e336d3">setKeepAuthentication</a> (boolean repeat)</td></tr>
<tr class="memdesc:a7b5a743288eba6e3334ca96875e336d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the authentication repeat mode.  <a href="#a7b5a743288eba6e3334ca96875e336d3"></a><br/></td></tr>
<tr class="separator:a7b5a743288eba6e3334ca96875e336d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d77ca15b06b80b1a3268860c6fa9d5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4d77ca15b06b80b1a3268860c6fa9d5e">endAuthentication</a> ()</td></tr>
<tr class="memdesc:a4d77ca15b06b80b1a3268860c6fa9d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops authentication.  <a href="#a4d77ca15b06b80b1a3268860c6fa9d5e"></a><br/></td></tr>
<tr class="separator:a4d77ca15b06b80b1a3268860c6fa9d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8071834322d4565dbb18824e759b6cfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8071834322d4565dbb18824e759b6cfb">getSessionKeyPwd</a> (String user, byte[] password)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a8071834322d4565dbb18824e759b6cfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password.  <a href="#a8071834322d4565dbb18824e759b6cfb"></a><br/></td></tr>
<tr class="separator:a8071834322d4565dbb18824e759b6cfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a928170ae55060314ad5b28e09892056e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a928170ae55060314ad5b28e09892056e">getSessionKeyHMAC</a> (String user, byte[] password)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a928170ae55060314ad5b28e09892056e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password.  <a href="#a928170ae55060314ad5b28e09892056e"></a><br/></td></tr>
<tr class="separator:a928170ae55060314ad5b28e09892056e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da6e331b154c2c6b175bdc01ca2adca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a5da6e331b154c2c6b175bdc01ca2adca">getSessionKeyHMAC</a> (String user, String password)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a5da6e331b154c2c6b175bdc01ca2adca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password.  <a href="#a5da6e331b154c2c6b175bdc01ca2adca"></a><br/></td></tr>
<tr class="separator:a5da6e331b154c2c6b175bdc01ca2adca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61197346e08e9191c0f07faeed3418c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a61197346e08e9191c0f07faeed3418c3">getSessionKeyRSA</a> (String user, String keySpec, String pin)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a61197346e08e9191c0f07faeed3418c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using RSA encryption.  <a href="#a61197346e08e9191c0f07faeed3418c3"></a><br/></td></tr>
<tr class="separator:a61197346e08e9191c0f07faeed3418c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4052bfa7a0a85ae427190b98c0a8f29a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4052bfa7a0a85ae427190b98c0a8f29a">getSessionKeyDH</a> (int size)  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:a4052bfa7a0a85ae427190b98c0a8f29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using Diffie-Hellman key agreement.  <a href="#a4052bfa7a0a85ae427190b98c0a8f29a"></a><br/></td></tr>
<tr class="separator:a4052bfa7a0a85ae427190b98c0a8f29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebbf0e31f38963a49a36c26d4a7ff68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a1ebbf0e31f38963a49a36c26d4a7ff68">setKeepSessionAlive</a> (boolean flag)</td></tr>
<tr class="memdesc:a1ebbf0e31f38963a49a36c26d4a7ff68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts or stops an additional thread that keeps the current session alive and prevents it from expiring after 15 minutes idle time.  <a href="#a1ebbf0e31f38963a49a36c26d4a7ff68"></a><br/></td></tr>
<tr class="separator:a1ebbf0e31f38963a49a36c26d4a7ff68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dadb75302f91acfdcf90b1005bc8d3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a7dadb75302f91acfdcf90b1005bc8d3a">setFastSessionKeyGeneration</a> (boolean fast)</td></tr>
<tr class="memdesc:a7dadb75302f91acfdcf90b1005bc8d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets session key generation mode.  <a href="#a7dadb75302f91acfdcf90b1005bc8d3a"></a><br/></td></tr>
<tr class="separator:a7dadb75302f91acfdcf90b1005bc8d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b16707173c01d00834d6f4a029f7cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#aa6b16707173c01d00834d6f4a029f7cb">setEndSessionOnShutdown</a> (boolean flag)</td></tr>
<tr class="memdesc:aa6b16707173c01d00834d6f4a029f7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables or disables a ShutdownHook for terminating active sessions.  <a href="#aa6b16707173c01d00834d6f4a029f7cb"></a><br/></td></tr>
<tr class="separator:aa6b16707173c01d00834d6f4a029f7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2374749894ffad1ff00139bcdf9b70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70">endSession</a> ()  throws IOException, CryptoServerException   </td></tr>
<tr class="memdesc:ada2374749894ffad1ff00139bcdf9b70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates a secure messaging session.  <a href="#ada2374749894ffad1ff00139bcdf9b70"></a><br/></td></tr>
<tr class="separator:ada2374749894ffad1ff00139bcdf9b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Deprecated</div></td></tr>
<tr class="memitem:ab25732799cd856e61e2cbdc96e3266b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ab25732799cd856e61e2cbdc96e3266b9">keepAuthentication</a> ()</td></tr>
<tr class="separator:ab25732799cd856e61e2cbdc96e3266b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09f5730178615dde4de7fd45048b6d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ae09f5730178615dde4de7fd45048b6d8">keepSessionAlive</a> ()</td></tr>
<tr class="separator:ae09f5730178615dde4de7fd45048b6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2910a8e3a270b32fc3274c5c5483c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a9a2910a8e3a270b32fc3274c5c5483c0">setTrace</a> (PrintStream out)</td></tr>
<tr class="separator:a9a2910a8e3a270b32fc3274c5c5483c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405680102ca990a8bd7a53fb73d5a0cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a405680102ca990a8bd7a53fb73d5a0cd">setTrace</a> (boolean flag)</td></tr>
<tr class="separator:a405680102ca990a8bd7a53fb73d5a0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4d9a3b828e0b27900656a849d310d60b"><td class="memItemLeft" align="right" valign="top">static String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4d9a3b828e0b27900656a849d310d60b">getName</a> ()</td></tr>
<tr class="memdesc:a4d9a3b828e0b27900656a849d310d60b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the CryptoServerAPI.  <a href="#a4d9a3b828e0b27900656a849d310d60b"></a><br/></td></tr>
<tr class="separator:a4d9a3b828e0b27900656a849d310d60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f0ba5f2f1127d1d5b3753d38d0a7ce"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#aa3f0ba5f2f1127d1d5b3753d38d0a7ce">getVersion</a> ()</td></tr>
<tr class="memdesc:aa3f0ba5f2f1127d1d5b3753d38d0a7ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version of the CryptoServerAPI (x.xx)  <a href="#aa3f0ba5f2f1127d1d5b3753d38d0a7ce"></a><br/></td></tr>
<tr class="separator:aa3f0ba5f2f1127d1d5b3753d38d0a7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements an interface to Utimaco's Hardware Security Module "CryptoServer". </p>
<p>Each instance of this class handles a connection to one dedicated <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a>. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_cluster.html">CryptoServerAPI.CryptoServerCluster</a> on how to create an instance to a cluster of CryptoServer.</dd></dl>
<dl class="section user"><dt>Example:</dt><dd></dd></dl>
<p>The following code illustrates the usage of the class <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a>: </p>
<div class="fragment"><div class="line"><span class="comment">// open connection to CryptoServer with a connection timeout of 3 seconds</span></div>
<div class="line">CryptoServer cs = <span class="keyword">new</span> CryptoServer(<span class="stringliteral">&quot;192.168.4.1&quot;</span>, 3000);</div>
<div class="line"></div>
<div class="line"><span class="comment">// set command (read) timeout to 60 seconds</span></div>
<div class="line">cs.setTimeout(60000);</div>
<div class="line"></div>
<div class="line"><span class="comment">// logon first user &#39;paul&#39; with password &#39;utimaco&#39;</span></div>
<div class="line">cs.logonPassword(<span class="stringliteral">&quot;paul&quot;</span>, <span class="stringliteral">&quot;utimaco&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// logon second user &#39;kate&#39; with encrypted keyfile &#39;rsa.key&#39; and password &#39;123456&#39;</span></div>
<div class="line">cs.logonSign(<span class="stringliteral">&quot;kate&quot;</span>, <span class="stringliteral">&quot;rsa.key&quot;</span>, <span class="stringliteral">&quot;123456&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// logon third user &#39;bill&#39; with smartcard / USB connected reader</span></div>
<div class="line">cs.logonSign(<span class="stringliteral">&quot;bill&quot;</span>, <span class="stringliteral">&quot;:cs2:cyb:USB0&quot;</span>, null);</div>
<div class="line"></div>
<div class="line"><span class="comment">// get resulting authentication status (permission sum of paul, kate and bill)</span></div>
<div class="line"><span class="keywordtype">int</span> auth_state = cs.getAuthState();</div>
<div class="line">System.out.println(<span class="stringliteral">&quot;AuthState: &quot;</span> + Integer.toHexString(auth_state));</div>
<div class="line"></div>
<div class="line"><span class="comment">// execute echo command</span></div>
<div class="line">byte [] answ = cs.exec(0x83, 1, <span class="stringliteral">&quot;Hello Echo&quot;</span>.getBytes());</div>
<div class="line">CryptoServerUtil.xtrace(<span class="stringliteral">&quot;answ&quot;</span>, answ);</div>
<div class="line"></div>
<div class="line"><span class="comment">// end session</span></div>
<div class="line">cs.logoff();</div>
<div class="line"></div>
<div class="line"><span class="comment">// close connection</span></div>
<div class="line">cs.close();</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac32a9f3c51a66fca6e2f0eb5b03777b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html">CryptoServer</a> </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, NumberFormatException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new connection to a CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Address of the CryptoServer. May contain the prefix "TCP:" followed by the IP address or port number and IP address (seperated by a '@'), or the prefix "PCI:" followed by the device name of a PCI device.<br/>
 Examples:<br/>
<ul>
<li>"TCP:192.168.4.99"</li>
<li>"TCP:288@192.168.4.201"</li>
<li>"PCI:0"</li>
<li>"PCI:/dev/cs2" </li>
</ul>
</td></tr>
    <tr><td class="paramname">timeout</td><td>Timeout in milliseconds to establich the connection. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abac3c87f10788131be026a5ad6e6da72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html">CryptoServer</a> </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td>  throws IOException, NumberFormatException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new connection to a CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>Address of the CryptoServer. May contain the prefix "TCP:" followed by the IP address or port number and IP address (seperated by a '@'), or the prefix "PCI:" followed by the device name of a PCI device.<br/>
 Examples:<br/>
<ul>
<li>"TCP:192.168.4.99"</li>
<li>"TCP:288@192.168.4.201"</li>
<li>"PCI:0"</li>
<li>"PCI:/dev/cs2" </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7fade436a5ebdd3d98e9eb3030ddf661"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html">CryptoServer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_config.html">CryptoServerConfig</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td>  throws IOException, NumberFormatException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new connection to a CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Configuration object. The following key names will be recognized:<br/>
<br/>
 <table class="doxtable">
<tr>
<th>Key </th><th>Mandatory </th><th>Default Value </th><th>Description  </th></tr>
<tr>
<td>Device </td><td>Yes </td><td>- </td><td>Device specifier of CryptoServer to be connected.<br/>
 Optionally multiple device specifier can be assigned in order to establish a fault-tolerant connection to a cluster of CryptoServer (failover).<br/>
 The values have to be separated either by a space or tab character or have to be spread over multiple lines each ended by a backslash character (see <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_config.html">CryptoServerConfig</a>).  </td></tr>
<tr>
<td>Timeout </td><td>No </td><td>60000 </td><td>Timeout in milliseconds the API waits for an answer on command execution  </td></tr>
<tr>
<td>ConnectionTimeout </td><td>No </td><td>3000 </td><td>Timeout in milliseconds the API waits on attempt to connect to a CryptoServer  </td></tr>
<tr>
<td>EndSessionOnShutdown </td><td>No </td><td>false </td><td>Enables or disables a ShutdownHook for terminating active sessions  </td></tr>
<tr>
<td>KeepSessionAlive </td><td>No </td><td>false </td><td>Prevents a secure messaging session from expiring after having been idle for more than 15 minutes  </td></tr>
<tr>
<td><br/>
 </td><td></td><td></td><td></td></tr>
</table>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4d9a3b828e0b27900656a849d310d60b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static String getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the CryptoServerAPI. </p>
<dl class="section return"><dt>Returns</dt><dd>name string </dd></dl>

</div>
</div>
<a class="anchor" id="aa3f0ba5f2f1127d1d5b3753d38d0a7ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double getVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the version of the CryptoServerAPI (x.xx) </p>
<dl class="section return"><dt>Returns</dt><dd>version string </dd></dl>

</div>
</div>
<a class="anchor" id="a5ae591df94fc66ccb85cbb6565368bca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates the current session, invalidates authentication and closes the connection to the CryptoServer. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70">endSession()</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4d77ca15b06b80b1a3268860c6fa9d5e">endAuthentication()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ae35f208dce82e5cfc5b5256ab46284ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getDevice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the device specifier of the connected CryptoServer. </p>

</div>
</div>
<a class="anchor" id="ae44a6096c42cdb61adc10370ca2a42b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the (read) timeout for all comunication with the CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout in milliseconds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a556668ae26748c5d696c34d3915e08d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getTimeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current (read) timeout for all communication with the CryptoServer. </p>
<dl class="section return"><dt>Returns</dt><dd>Timeout in milliseconds. </dd></dl>

</div>
</div>
<a class="anchor" id="a423176472c59fc830966db5244e84f3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTrace </td>
          <td>(</td>
          <td class="paramtype">PrintStream&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables the trace function. </p>
<p>If enabled all data send to and received from the CryptoServer is printed to the output stream. This is for debugging purpose only. Don't use the trace function in a real life application to avoid disclosure of secret information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>trace function swichted on if true, swichted off if false. </td></tr>
    <tr><td class="paramname">out</td><td>OutputStream to which the trace output is send (e.g. System.out). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a22ee094ca3f45aa4156b97d34fe678bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reboots the CryptoServer. </p>
<p>Secure messaging with the CryptoServer is terminated. This method waits until the boot cycle has been finished and the CryptoServer is ready to receive commands again. </p>

</div>
</div>
<a class="anchor" id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reboots the CryptoServer. </p>
<p>Secure messaging with the CryptoServer is terminated. This method returns immediately. The CryptoServer should not be accessed until the reboot is completed.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a22ee094ca3f45aa4156b97d34fe678bf">CryptoServer.restart()</a> should be used rather that <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ad20897c5c8bd47f5d4005989bead0e55">CryptoServer.reset()</a> as the restart method waits until the boot cycle is finished and the CryptoServer is ready again.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a22ee094ca3f45aa4156b97d34fe678bf">CryptoServer.restart</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acbbfdcdccbb8a31299074fd97c6706ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until the CryptoServer is ready to receive commands. </p>
<p>This command should be used after <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ad20897c5c8bd47f5d4005989bead0e55" title="Reboots the CryptoServer.">CryptoServer.reset()</a> has been called. </p>

</div>
</div>
<a class="anchor" id="a6e9f9a92af555d621d1ca9ceb827557c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] exec </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sfc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>cmd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a command of the CryptoServer. </p>
<p>First the command data is send to the CryptoServer. Then the answer from the CryptoServer is received and returned. This method blocks until an answer was received from the CryptoSever or an error occurs. If authentication was requested by calling one of the prepareAuthentication...() methods, the command data send to the CryptoServer is authenticated. If secure messaging is established for this connection, then the data send to and received from the CryptoServer is encrypted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fc</td><td>Function code of the function called. </td></tr>
    <tr><td class="paramname">sfc</td><td>Sub-Function code of the function called. </td></tr>
    <tr><td class="paramname">cmd</td><td>Command data send to the CryptoServer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Answer data received from the CryptoServer. </dd></dl>

</div>
</div>
<a class="anchor" id="a58ade920d99eae1875d9324497b75876"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logonPassword </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticates a user and establishs a secure messaging session with the CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. May contain binary data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6156e24d2c79f13321173e4e4049026d">prepareAuthenticationHMAC</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8c49a712c0a73a83941244dbd8201f0c">prepareAuthenticationShaPwd</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a001b480dcfcacc0079bc11c00420ac0d">prepareAuthenticationClrPwd</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4052bfa7a0a85ae427190b98c0a8f29a">getSessionKeyDH</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aba141f72e598227f5fa17947d9494f68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logonPassword </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticates a user and establishs a secure messaging session with the CryptoServer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Should contain ISO8859-15 characters only..</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6156e24d2c79f13321173e4e4049026d">prepareAuthenticationHMAC</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8c49a712c0a73a83941244dbd8201f0c">prepareAuthenticationShaPwd</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a001b480dcfcacc0079bc11c00420ac0d">prepareAuthenticationClrPwd</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4052bfa7a0a85ae427190b98c0a8f29a">getSessionKeyDH</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a754899025f580b46523a8af6bac88129"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logonSign </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>keySpec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Authenticates a user and establishes a secure messaging session with the CryptoServer. </p>
<dl class="section note"><dt>Note</dt><dd>The authentication mechanism of the user has to one of the following mechanisms:<ul>
<li>AUTH_MECH_RSA_SIGN: The user authenticates with a RSA signature.<br/>
 The key source may be either a key file or a smartcard.<br/>
 In the latter case the PinPad reader has to be connected to the host.</li>
<li>AUTH_MECH_RSA_SC: The user authenticates with a RSA signature.<br/>
 The key source has to be a smartcard.<br/>
 The PinPad reader has to be connected directly to the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> (and not to the host).</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">keySpec</td><td>Specifies either the name of a - optionally encrypted - key file that contains the private key of the user<br/>
 or the combination of smartcard and PinPad reader (e.g. ':cs2:cyb:COM3', ':cs2:auto:USB0'). </td></tr>
    <tr><td class="paramname">pin</td><td>Keyfile: Password, if the key file is encrypted, or null.<br/>
 Smartcard: Pin of smartcard or null to enter pin at PinPad reader.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a862fb3ae0b474502bab41901010863d1">prepareAuthenticationRSASign</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a8da939230d68f3678d26fc8c357f827d">prepareAuthenticationRSASC</a> </dd>
<dd>
<a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4052bfa7a0a85ae427190b98c0a8f29a">getSessionKeyDH</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a36eda859ee0a2b35349a37892f605228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logoff </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates a secure messaging session and invalidates authentication. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70">endSession()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a91cdbb3f8790ae7318fa1bf05a8ad57f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getAuthState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns resulting authentication state. </p>
<dl class="section return"><dt>Returns</dt><dd>resulting authentication state (== sum of permissions of all users currently logged on to the session). </dd></dl>

</div>
</div>
<a class="anchor" id="a001b480dcfcacc0079bc11c00420ac0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationClrPwd </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "Clear Password" mechanism. </p>
<p>The next commands executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Up to 16 bytes. May contain binary data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c49a712c0a73a83941244dbd8201f0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationShaPwd </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "SHA-1 Hashed Password" mechanism. </p>
<p>The next command executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Up to 16 bytes. May contain binary data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6156e24d2c79f13321173e4e4049026d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationHMAC </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "HMAC Password" mechanism. </p>
<p>The next commands executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. May contain binary data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6a62528b490cef50478cbd48c4069be9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationHMAC </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "HMAC Password" mechanism. </p>
<p>The next commands executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Should contain ISO8859-15 characters only. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a862fb3ae0b474502bab41901010863d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationRSASign </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>keySpec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "RSA Signature" mechanism. </p>
<p>The next commands executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="section note"><dt>Note</dt><dd>The PinPad reader has to be connected to the host.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">keySpec</td><td>Specifies either the name of a - optionally encrypted - key file that contains the private key of the user<br/>
 or smartcard and PinPad reader (e.g. ':cs2:cyb:COM3', ':cs2:auto:USB0') </td></tr>
    <tr><td class="paramname">pin</td><td>Keyfile: Password, if the key file is encrypted, or null.<br/>
 Smartcard: Pin of smartcard or null to enter pin at PinPad reader. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8da939230d68f3678d26fc8c357f827d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepareAuthenticationRSASC </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares to authenticate the subsequent commands with "RSA Smartcard" mechanism. </p>
<p>The next commands executed via the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a6e9f9a92af555d621d1ca9ceb827557c" title="Executes a command of the CryptoServer.">exec()</a> method or one of the getSessionKey...() methods are authenticated.</p>
<dl class="section note"><dt>Note</dt><dd>The PinPad reader has to be connected directly to the CryptoServer (and not to the host).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">pin</td><td>PIN of the smartcard (optional), or null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7b5a743288eba6e3334ca96875e336d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setKeepAuthentication </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>repeat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the authentication repeat mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">repeat</td><td><ul>
<li>true (default): <br/>
 all subsequent commands are repeatly authenticated until <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a4d77ca15b06b80b1a3268860c6fa9d5e" title="Stops authentication.">endAuthentication()</a> is called.</li>
<li>false: <br/>
 only the next command is authenticated, all pending authentication requests are cancelled afterwards. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d77ca15b06b80b1a3268860c6fa9d5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void endAuthentication </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops authentication. </p>
<p>All pending authentication requests issued with one of the prepateAuthentication...() methods are cancelled. </p>

</div>
</div>
<a class="anchor" id="a8071834322d4565dbb18824e759b6cfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSessionKeyPwd </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password. </p>
<p>An AES or DES session key is negotiated with the CryptoServer and used to encrypt all commands send to and all answers received from the CryptoServer. The session is valid for all subsequence communication until a new session key is generated or the session is terminated with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70" title="Terminates a secure messaging session.">endSession()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Up to 16 bytes. May contain binary data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a928170ae55060314ad5b28e09892056e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSessionKeyHMAC </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password. </p>
<p>An AES or DES session key is negotiated with the CryptoServer and used to encrypt all commands send to and all answers received from the CryptoServer. The session is valid for all subsequence communication until a new session key is generated or the session is terminated with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70" title="Terminates a secure messaging session.">endSession()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. May contain binary data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5da6e331b154c2c6b175bdc01ca2adca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSessionKeyHMAC </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using a users password. </p>
<p>An AES or DES session key is negotiated with the CryptoServer and used to encrypt all commands send to and all answers received from the CryptoServer. The session is valid for all subsequence communication until a new session key is generated or the session is terminated with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70" title="Terminates a secure messaging session.">endSession()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">password</td><td>Password of the user. Should contain ISO8859-15 characters only. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a61197346e08e9191c0f07faeed3418c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSessionKeyRSA </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>keySpec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using RSA encryption. </p>
<p>An AES or DES session key is generated by the CryptoServer, encrypted with the users public RSA key and send to the host. This session key is used to encrypt all commands send to and all answers received from the CryptoServer. The session is valid for all subsequence communication until a new session key is generated or the session is terminated with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70" title="Terminates a secure messaging session.">endSession()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td>Name of the user who wants to autenticate to the CryptoServer. </td></tr>
    <tr><td class="paramname">keySpec</td><td>Specifies either the name of a - optionally encrypted - key file that contains the private key of the user<br/>
 or the combination of smartcard and PinPad reader (e.g. ':cs2:cyb:COM3', ':cs2:auto:USB0').<br/>
 If the user authenticates with mechanism 'RSA Smartcard' (and not 'RSA Signature'), the smartcard reader has to be connected to the CryptoServer and not to the host. In this case the keySpec parameter should be null. </td></tr>
    <tr><td class="paramname">pin</td><td>Keyfile: Password, if the key file is encrypted, or null.<br/>
 Smartcard: Pin of smartcard or null to enter pin at PinPad reader.<br/>
 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4052bfa7a0a85ae427190b98c0a8f29a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getSessionKeyDH </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a secure messaging session with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html" title="This class implements an interface to Utimaco&#39;s Hardware Security Module &quot;CryptoServer&quot;.">CryptoServer</a> using Diffie-Hellman key agreement. </p>
<p>An AES or DES session key is negotiated with the CryptoServer and used to encrypt all commands send to and all answers received from the CryptoServer. The session is valid for all subsequence communication until a new session key is generated or the session is terminated with the <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70" title="Terminates a secure messaging session.">endSession()</a> method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Size of the Diffie-Hellman parameter P. Supported values are 1024 and 2048. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ebbf0e31f38963a49a36c26d4a7ff68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setKeepSessionAlive </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts or stops an additional thread that keeps the current session alive and prevents it from expiring after 15 minutes idle time. </p>
<p>If a session remains idle (no command was sent) for more than 15 minutes, the session expires and is automatically invalidated by the CryptoServer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td><ul>
<li>true: starts the thread (if not already started)</li>
<li>false: stops the thread (if already started) </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7dadb75302f91acfdcf90b1005bc8d3a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setFastSessionKeyGeneration </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>fast</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets session key generation mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fast</td><td><ul>
<li>false: use real random number generator to generate the session key (default).<br/>
</li>
<li>true: use pseudo random number generator to generate the session key. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6b16707173c01d00834d6f4a029f7cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setEndSessionOnShutdown </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables or disables a ShutdownHook for terminating active sessions. </p>
<p>If enabled a session is automatically ended on shutdown without <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70">endSession()</a> having been called explicitly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>ShutdownHook is enables if TRUE, disabled if FALSE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#ada2374749894ffad1ff00139bcdf9b70">endSession()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ada2374749894ffad1ff00139bcdf9b70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void endSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>  throws IOException, <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server_exception.html">CryptoServerException</a>   </td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates a secure messaging session. </p>
<p>The session key will be invalidated and all subsequent communication with the CryptoServer is not longer encrypted. </p>

</div>
</div>
<a class="anchor" id="ab25732799cd856e61e2cbdc96e3266b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void keepAuthentication </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000027">Deprecated:</a></b></dt><dd>As of CryptoServerAPI version 1.41 replaced by <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a7b5a743288eba6e3334ca96875e336d3">CryptoServerAPI.CryptoServer.setKeepAuthentication(boolean repeat)</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ae09f5730178615dde4de7fd45048b6d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void keepSessionAlive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000028">Deprecated:</a></b></dt><dd>As of CryptoServerAPI version 1.41 replaced by <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a1ebbf0e31f38963a49a36c26d4a7ff68">CryptoServerAPI.CryptoServer.setKeepSessionAlive(boolean flag)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9a2910a8e3a270b32fc3274c5c5483c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTrace </td>
          <td>(</td>
          <td class="paramtype">PrintStream&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000029">Deprecated:</a></b></dt><dd>As of CryptoServerAPI version 1.41 replaced by <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a423176472c59fc830966db5244e84f3e">CryptoServerAPI.CryptoServer.setTrace(PrintStream, boolean)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a405680102ca990a8bd7a53fb73d5a0cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setTrace </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000030">Deprecated:</a></b></dt><dd>As of CryptoServerAPI version 1.41 replaced by <a class="el" href="class_crypto_server_a_p_i_1_1_crypto_server.html#a423176472c59fc830966db5244e84f3e">CryptoServerAPI.CryptoServer.setTrace(PrintStream, boolean)</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
