<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Valid Update Paths</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/upgrade/paths.htm">Show Navigation</a>
        </p>
        <!-- Remove this comment to enable syntax highlighting		
        <script type="text/javascript" src="../Stylesheets/SyntaxHilite/Prism/prism.js"></script>
-->
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 0px;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_network.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="nocontent">
                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span>
                            </div>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 data-mc-conditions="Default.CRN_exclude">Valid Update Paths</h2>
        <p>The following table provides tested paths for updating to the current software/firmware versions.</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 50%;" />
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" />
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Component</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Directly from version</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">To version</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">SafeNet Luna HSM Client software</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">Any</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">7.2</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1" data-mc-conditions="Default.SA">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span class="DefaultProduct">SafeNet Luna Network HSM</span> appliance software</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">7.0, 7.1</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">7.2</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" rowspan="2">SafeNet Luna HSM firmware</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">7.0.1, 7.0.2, 7.1.0</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">7.2.0</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">7.0.1, 7.0.2</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">7.0.3</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">SafeNet Backup HSM firmware</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">6.10.9, 6.26.0</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">6.27.0</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" rowspan="2">SafeNet Luna PED firmware</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">2.7.1</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">N/A</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1">2.8.0</td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">N/A</td>
                </tr>
            </tbody>
        </table>
        <h3>FIPS-Certification Firmware Candidates</h3>
        <p><span class="DefaultCompanyNameLong">Gemalto</span> has three (3) versions of the <span class="DefaultProduct">SafeNet Luna Network HSM</span> firmware currently undergoing FIPS certification review. The following firmware versions are all pending FIPS certification:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Luna firmware v. 7.0.3 (recommended)</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Luna firmware v. 7.0.2</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Luna firmware v. 7.0.1</p>
        <h3><a name="Recommen"></a>Recommended Minimum Versions</h3>
        <p>Generally, <span class="DefaultCompanyNameLong">Gemalto</span> recommends that you always keep your HSM firmware<MadCap:conditionalText data-mc-conditions="Default.SA">, appliance software,</MadCap:conditionalText> and client software up to date, to benefit from the latest SafeNet features and bug fixes. If regular updates are not possible or convenient, the following table lists the recommended minimum firmware and software versions for use with SafeNet Luna 7 HSMs. If you are running an earlier version, <span class="DefaultCompanyNameLong">Gemalto</span> advises upgrading to the version(s) below to ensure that you have critical bug fixes and security updates.</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" />
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" data-mc-conditions="" />
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" data-mc-conditions="Default.SA" />
            <col class="TableStyle-Page-Column-Column1" style="width: 25%;" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1" rowspan="3"><span class="DefaultProduct">SafeNet Luna Network HSM</span> 7 Minimum Recommended Configuration</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Luna HSM Client</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Appliance Software</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Luna HSM Firmware</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" rowspan="2">7.2</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" rowspan="2">7.2</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">7.2.0</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyA-Column1-Body1">7.0.3</td>
                </tr>
            </tbody>
        </table>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;NOTE&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>NOTE</b> &#160;&#160;</span></span></span>Customers who wish to use Luna 7 HSMs with F5 Network BIG-IP 13.1 appliances should follow F5 guidelines for Supported SafeNet client and HSM versions (<a href="https://support.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/f5-safenet-hsm-version-interoperability-matrix.html">https://support.f5.com/kb/en-us/products/big-ip_ltm/manuals/product/f5-safenet-hsm-version-interoperability-matrix.html</a>). At the time of this release, F5’s supported versions for Luna 7 are Luna HSM Client 7.1 with <MadCap:conditionalText data-mc-conditions="Default.SA">appliance software 7.1 and </MadCap:conditionalText>firmware 7.0.2.</p>
        <h3><a name="Special"></a>Special Instructions for Installing Firmware 7.0.3 if Your Current Firmware Version is 7.1.0</h3>
        <p>Firmware 7.0.3 is <span class="DefaultCompanyNameLong">Gemalto</span>'s latest candidate for FIPS certification. If you are using firmware 7.0.1 or 7.0.2, you can proceed with the standard update procedure. If you previously updated to firmware 7.1.0, and you wish to use firmware 7.0.3, follow this procedure to ensure a successful update. </p>
        <p><span class="DefaultProduct">SafeNet Luna Network HSM</span> does not allow you to update the firmware from a higher-numbered to a lower-numbered version. Therefore, if you are currently running firmware 7.1.0, you must first perform a firmware rollback. </p>
        <div class="caution">
            <p data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;CAUTION!&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>CAUTION!</b> &#160;&#160;</span></span></span>Firmware rollback is destructive; earlier firmware versions might have older mechanisms and security vulnerabilities that a new version does not. Back up any important materials before rolling back the firmware. This procedure zeroizes the HSM and all cryptographic objects are erased. </p>
            <p data-mc-conditions="Default.SA">If you are using STC, or have ever enabled HSM policy 39, you may encounter a known issue (<MadCap:conditionalText data-mc-conditions="Default.CRN_exclude">refer to the CRN entry for LKX-3194</MadCap:conditionalText>). If this is the case, do not roll back the HSM firmware. </p>
        </div>
        <h5>To install firmware 7.0.3 on an HSM running firmware 7.1.0:</h5>
        <p class="ol1Start" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>Check the previous firmware version that is available on the HSM. The firmware available for rollback must be 7.0.1 or 7.0.2.</p>
        <p class="listLevel1" data-mc-conditions="Default.SA">lunash:&gt;<b>hsm firmware show</b></p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>Back up any important cryptographic objects currently stored on the HSM<MadCap:conditionalText data-mc-conditions="Default.CRN_exclude"> (see <a href="../backup/backup_network/backup.htm" class="MCXref xref" data-mc-conditions="Default.SA">Backup and Restore HSMs and Partitions</a>)</MadCap:conditionalText>. </p>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>Log in as HSM SO. </p>
        <p class="listLevel1" data-mc-conditions="Default.SA">lunash:&gt;<b>hsm login</b></p>
        <p class="ol1" data-mc-autonum="4."><span class="autonumber"><span class="ol1Number">4.</span></span>Perform a firmware rollback.</p>
        <p class="listLevel1" data-mc-conditions="Default.SA">lunash:&gt;<b>hsm firmware rollback</b></p>
        <p class="ol1" data-mc-autonum="5."><span class="autonumber"><span class="ol1Number">5.</span></span>Initialize the HSM and log in as HSM SO. </p>
        <p class="ol1" data-mc-autonum="6." data-mc-conditions="Default.SA"><span class="autonumber"><span class="ol1Number">6.</span></span>Install the <span class="DefaultProduct">SafeNet Luna Network HSM</span> 7.2 update that includes firmware 7.0.3, as described in <a href="appliance_sw.htm" class="MCXref xref" data-mc-conditions="Default.CRN_exclude">Updating the SafeNet Luna Network HSM Appliance Software</a>. </p>
        <p class="ol1" data-mc-autonum="7." data-mc-conditions="Default.SA"><span class="autonumber"><span class="ol1Number">7.</span></span>Update the firmware to version 7.0.3, which is now stored on the appliance.</p>
        <p class="listLevel1" data-mc-conditions="Default.SA">lunash:&gt;<b>hsm firmware upgrade</b></p>
        <p class="ol1" data-mc-autonum="8."><span class="autonumber"><span class="ol1Number">8.</span></span>Recreate your application partition<MadCap:conditionalText data-mc-conditions="Default.SA">(s)</MadCap:conditionalText> and restore the contents from backup<MadCap:conditionalText data-mc-conditions="Default.CRN_exclude"> (see <a href="../backup/backup_network/backup.htm" class="MCXref xref" data-mc-conditions="Default.SA">Backup and Restore HSMs and Partitions</a>)</MadCap:conditionalText>. </p>
        <p class="footer"><span class="DefaultProduct">SafeNet Luna Network HSM</span> <span class="DefaultRelease">7.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-013576-004</span> <span class="DefaultRevision">Rev. C</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">06 May 2019</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2019</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>