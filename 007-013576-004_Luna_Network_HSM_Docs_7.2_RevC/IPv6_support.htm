<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Configuration Guide|Planning Your Configuration">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>IPv6 Support and Limitations</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#configuration/hsm_config/IPv6_support.htm">Show Navigation</a>
        </p>
        <!-- Remove this comment to enable syntax highlighting		
        <script type="text/javascript" src="../Stylesheets/SyntaxHilite/Prism/prism.js"></script>
-->
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 0px;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_network.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="nocontent">
                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span>
                            </div>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2>IPv6 Support and Limitations</h2>
        <p>Internet Protocol version 6 (IPv6) is the most recent version of the Internet Protocol (IP). It is the result of a study effort from IETF to address limitations in IPv4 that date back to the 1970s. The "World IPv6 Launch" day occurred on June 6, 2012.</p>
        <p>IPv6 upgrades to IPv4 are in the internet layer. The link layer remains unchanged. Transport layer and above are unchanged.</p>
        <table style="border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 1px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 1px;border-bottom-color: #000000;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 131px;" />
            <col class="TableStyle-Page-Column-Column1" style="width: 282px;" />
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="text-align: right;font-size: 9pt;font-weight: normal;">application layer</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1" style="font-size: 9pt;text-align: left;font-weight: normal;">SSH, TLS/SSL, HTTPS</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="text-align: right;font-size: 9pt;font-weight: normal;">transport layer</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1" style="font-size: 9pt;text-align: left;font-weight: normal;">TCP/UPD</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="text-align: right;font-size: 9pt;font-weight: normal;">internet layer</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1" style="font-size: 9pt;text-align: left;font-weight: normal;font-style: normal;">IP <i>← All IPv4 to IPv6 upgrades are in this layer.</i></td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1" style="text-align: right;font-size: 9pt;font-weight: normal;">link layer</td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1" style="font-size: 9pt;text-align: left;font-weight: normal;">Ethernet</td>
                </tr>
            </tbody>
        </table>
        <p>In supporting IPv6, not everything in IPv4 was affected; some subsystems in the internet layer like routing protocols remain the same. The major internet layer upgrades to support IPv6 include:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>128-bit IP address</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Fixed length, 40-byte header with support for new, optional Extension Headers</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Native security</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Auto-configuration</p>
        <p>The most talked about feature in IPv6 is the vastly increased availability of IP addresses due to the IP address size increase from 4 bytes (billions) to 16 bytes (undecillions). </p>
        <p>Unlike IPv4, IPv6 doesn't have broadcast addresses; it only has unicast and multicast addresses. A broadcast address is the logical address used for transmission to all network-connected hosts. A multicast address is similar to a broadcast address but its scope is limited to a defined group of network-connected hosts. A unicast address is used for point-to-point transmission.</p>
        <h4>Global Unicast Address format</h4>
        <p>
            <img src="../../Resources/Images/IPv6/IPv6-address-decomposition.jpg" />
        </p>
        <p>For more  information on IPv6 addressing, refer to the IP Version 6 Working Group (IPv6) at <a href="https://datatracker.ietf.org/wg/ipv6/documents/">https://datatracker.ietf.org/wg/ipv6/documents/</a>. Also, try: <a href="https://en.wikipedia.org/wiki/IPv6">https://en.wikipedia.org/wiki/IPv6</a>.</p>
        <h3>IPv6 in the Context of the <span class="DefaultProduct">SafeNet Luna Network HSM</span></h3>
        <p>Most software components in the <span class="DefaultProduct">SafeNet Luna Network HSM</span> operate in the application layer. They use TLS/SSL  on top of TCP, but nothing uses the internet layer directly.</p>
        <p>Likewise, changes in the internet layer shouldn't directly affect the application layer, but there are some utilities in <span class="DefaultProduct">SafeNet Luna Network HSM</span> that use information from the internet layer, particularly the IP address, for authentication purposes; they will be affected by upgrading IPv4 to IPv6.</p>
        <h4>IPv6 Address Configuration Options</h4>
        <p>You can configure IPv6 addresses using static, SLAAC, or DHCPv6 addressing.</p>
        <table style="width: 100%;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 69px;" />
            <col class="TableStyle-Page-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">Static</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>Use the command <a href="../../lunash/commands/network/network_interface_static.htm" class="MCXref xref">network interface static</a> in the <i>LunaSH Command Reference Guide</i>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">SLAAC</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>Use the command <a href="../../lunash/commands/network/network_interface_slaac.htm" class="MCXref xref">network interface slaac</a> in the <i>LunaSH Command Reference Guide</i></p>
                        <p><b>Note:</b>&#160;You must have a SLAAC-enabled router in your network that is reachable by the HSM appliance to  configure a network interface and obtain an IPv6 address using SLAAC protocol. </p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1" style="font-weight: bold;">DHCPv6</td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">
                        <p>Use the command <a href="../../lunash/commands/network/network_interface_dhcp.htm" class="MCXref xref">network interface dhcp</a> in the <i>LunaSH Command Reference Guide</i></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h4>IPv6 Network Gateway</h4>
        <p>IPv6 devices must use an IPv6 gateway.</p>
        <h4>IPv6 Subnet Mask (Network Mask)</h4>
        <p>IPv6 devices must use CIDR notation for the subnet mask in IPv6 global unicast format.</p>
        <p>For example, in IPv6 global unicast format, a subnet mask of /48 means that the 64-bit Network/Routing prefix will consists of a 48-bit site prefix, leaving 16 bits for the Subnet Identifier.</p>
        <p>Typically, within a site, /64 is used to identify a whole subnet; global routing prefix + subnet ID.</p>
        <h3>Limitations When Using IPv6 on the <span class="DefaultProduct">SafeNet Luna Network HSM</span></h3>
        <p>You should be aware of the following limitations before attempting to use IPv6 on your <span class="DefaultProduct">SafeNet Luna Network HSM</span>.</p>
        <h4>Client and <span class="DefaultProduct">SafeNet Luna Network HSM</span> must use the same IP version</h4>
        <p>Clients connecting to the SafeNet Luna Network HSM appliance must use the same IP version that is configured on the appliance port they are connecting to, so certificates can resolve. Therefore, all clients connecting to an IPv4 port must have an IPv4 address, and all clients connecting to an IPv6 port must have an IPv6 address.</p>
        <h4>Secure Trusted Channel (STC) links not available via IPv6</h4>
        <p>STC links are not supported over an IPv6 network. You must use NTLS to make partition-client connections via IPv6. </p>
        <h4>Single global IPv6 address per network interface</h4>
        <p>You must use a single global IPv6 address for each active network interface: eth0, eth1, eth2, and/or eth3. You must use a single global IPv6 address for each active Luna Client. </p>
        <p>IPv6 address assignment methods (Static, DHCPv6, or SLAAC) are all allowed, however only one is allowed at a time. For example, avoid configuring your network infrastructure such that the following unsupported condition (scheme # 5 in the following table) occurs.</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">
                        <p>Scheme #</p>
                    </th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Address assignment scheme</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1" style="font-weight: bold;">RA M flag (on/off)</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1" style="font-weight: bold;">RA O flag (on/off)</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1" style="font-weight: bold;">Has RA prefix info (yes/no)</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1" style="font-weight: bold;">RA prefix info A flag(on/off)</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Supported</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">1</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">Static</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">yes</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">2</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">DHCPv6 (stateful)</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">on</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">either</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">off</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">yes</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">3</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">	DHCPv6 (stateless)</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">off</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">on</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">yes</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">on</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">yes</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1">4</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">SLAAC</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">off</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">off</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">yes</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1">on</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">yes</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1">5</td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1">	SLAAC + DHCPv6</td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1"><b>on</b>
                    </td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1">
                        <p style="font-size: 9pt;">either</p>
                    </td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1">yes</td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1"><b>on</b>
                    </td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1"><b>no</b>
                    </td>
                </tr>
            </tbody>
        </table>
        <p style="font-weight: bold;">Notes:</p>
        <p class="ol1" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>“RA” stands for Router Advertisement, the critical NDP message used in IPv6 auto-configuration.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>The above table assumes that a functioning DHCPv6 server is on the network.</p>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>Scheme #3 (“Stateless” DHCPv6) is configured on <span class="DefaultProduct">SafeNet Luna Network HSM</span> 7.x using SLAAC for address assignment, but DHCPv6 is still used to configure network services like DNS.</p>
        <h4>Example:</h4>
        <p>The following example for the eth2 interface is <u>not</u> supported since it has both DHCP,<code> 2018:1:2:3::dcd5/128</code> , and SLAAC,<code>  2018:1:2:3:215:b2ff:fea8:fd44/64</code>, global addresses (i.e. entries with “scope global”).</p><pre xml:space="preserve">4: eth2: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP qlen 1000
   link/ether 00:15:b2:a8:fd:44 brd ff:ff:ff:ff:ff:ff
    inet6 2018:1:2:3::dcd5/128 scope global dynamic
       valid_lft 1036733sec preferred_lft 691133sec
    inet6 2018:1:2:3:215:b2ff:fea8:fd44/64 scope global noprefixroute dynamic
       valid_lft 2591923sec preferred_lft 604723sec
    inet6 fe80::215:b2ff:fea8:fd44/64 scope link
       valid_lft forever preferred_lft forever
</pre>
        <h3>Configure the IP Address and Network Parameters</h3>
        <p>To proceed with configuring the IP address and other network parameters for the  <span class="DefaultProduct">SafeNet Luna Network HSM</span>, go to <a href="../appliance_config/configure_ip_and_network_parameters.htm" class="MCXref xref">Network Configuration</a>.</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Luna Network HSM</span> <span class="DefaultRelease">7.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-013576-004</span> <span class="DefaultRevision">Rev. C</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">06 May 2019</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2019</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>