<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Default.SA" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>SNMP Operation and Limitations with SafeNet Luna Network HSM</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/snmp/snmp_operation_and_limitations.htm">Show Navigation</a>
        </p>
        <!-- Remove this comment to enable syntax highlighting		
        <script type="text/javascript" src="../Stylesheets/SyntaxHilite/Prism/prism.js"></script>
-->
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 0px;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_network.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="nocontent">
                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                            </div>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor295"></a>SNMP Operation and Limitations with <span class="DefaultProduct">SafeNet Luna Network HSM</span></h2>
        <p>This page applies only to <span class="DefaultProduct">SafeNet Luna Network HSM</span> which, as a closed system, has its own agent. This contrasts with other SafeNet Luna HSMs that are installed inside a host computer, or USB-connected to a host, and therefore require you to provide an SNMP agent and configure for use with our subagent. </p>
        <p>Various LunaSH  commands govern the setup 
 and use of SNMP with the SafeNet appliance. You provide your own SNMP application 
 – a 
 standard, open-source tool like net-snmp, or a commercial offering, or 
 one that you develop yourself – 
 and use the commands described below (and on the following pages) to enable 
 and adjust the SNMP agent on-board the SafeNet appliance. &#160;</p>
        <h3>SNMP-Related Commands</h3>
        <p>Please refer to the LunaSH Appliance Commands in the Reference Section 
 of this Help for syntax and usage descriptions of the following:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>The <b>sysconf snmp</b> 
 command has subcommands <b>enable</b>, <b>disable</b>, <b>notification</b>, <b>show</b>, <b>trap</b>, and <b>user</b>.</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp notification</b> command allows viewing and configuring the notifications 
 that can be sent by the SNMP agent. At least one user must be configured 
 before the SNMP agent can be accessed.</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp enable</b> command enables and starts the SNMP service. </p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp disable</b> command stops the service. &#160;&#160;</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp show</b> command shows the current status of the service. &#160;&#160;</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp trap</b> command has sub-commands to set, show, and clear trap host information.</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>•</b></span></span>The <b>sysconf 
 snmp user</b> command allows viewing and configuring the users that 
 can access the SNMP agent. At least one user must be configured before 
 the SNMP agent can be accessed.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>The <b>service list</b> 
 command reports a service: "snmpd - 
 SNMP agent service".</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>The <b>service status</b>, 
 <b>service stop</b>, 
 <b>service start</b> 
 and <b>service restart</b> 
 commands accept the value "snmp" as a <b>&lt;servicename&gt;</b> parameter 
 (that is, you can start, stop or restart the snmp service – 
 this represents some overlap with the <b>sysconf 
 enable</b> and <b>disable</b> 
 commands, but is provided for completeness).</p>
        <h3>Coverage</h3>
        <p>The following are some points of interest, with regard to our reporting.</p>
        <h4>Memory
</h4>
        <p>Swap usage - Covered by UCD-SNMP-MIB under memTotalSwap, memAvailSwap and memMinimumSwap OID

  </p>
        <p>Physical Memory usage - Covered by UCD-SNMP-MIB under memTotalRea, memAvailReal, memTotalFree OID

  </p>
        <p>Errors - Covered by UCD-SNMP-MIB under memSwapError and memSwapErrorMsg OID
</p>
        <h4>Paging   

    </h4>
        <p>Size of page file   - Not covered

    </p>
        <p>Page file usage - Not covered
    </p>
        <p>Paging errors - Not covered
<br /> 
Note: UCD-SNMP-MIB/memory will report all the data that we get from the "free" command.

</p>
        <h4>CPU

  </h4>
        <p>% Utilization

  Threads - Not covered

  </p>
        <p>%user time - Covered by UCD-SNMP-MIB under ssCpuUsr OID

  </p>
        <p>%system time - Covered by UCD-SNMP-MIB under ssCpuSystem OID

  </p>
        <p>Top running processes - Not covered
</p>
        <h4>Network </h4>
        <p>Interface status
 - Covered</p>
        <p>% utilization
 - Covered</p>
        <p>Bytes in
 - Not covered</p>
        <p>Bytes Out
- Not covered</p>
        <p>Errors
 - Covered</p>
        <p>Note: All of the above are already covered by the RFC1213-MIB.

</p>
        <h4>Monitoring Internal Hardware failure

   </h4>
        <p>We do not currently  keep any status on hardware failure. </p>
        <h4>Environmental

    </h4>
        <p>We support only CPU and mother board temperature. </p>
        <h3>HSM MIB</h3>
        <p>The above concerns status of various elements of the appliance, outside the contained HSM.</p>
        <p>HSM status is separately handled by the SAFENET-HSM-MIB.</p>
        <p>In the current implementation, the object ntlsCertExpireNotification has no value. If you query this object, the response is "Snmp No Such Object.</p>
        <p>Information about the HSM, retrievable via SNMP, is similar to executing the following commands:</p>
        <p>From <span class="DefaultProduct">SafeNet Luna Network HSM</span> (LunaSH) commands:</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>	hsm show</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>hsm showpolicies</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>hsm displaylicenses</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>client show</p>
        <p>From the	Luna HSM Client (LunaCM) commands:</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>partition showinfo</p>
        <p class="ul1" style="font-weight: bold;" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>partition showpolicies</p>
        <h3>MIBS You Need for Network Monitoring of <span class="DefaultProduct">SafeNet Luna Network HSM</span></h3>
        <p>The following MIBs are not supplied as part of the <span class="DefaultProduct">SafeNet Luna Network HSM</span> build, but can be downloaded from a number of sources. How they are implemented depends on your MIB utility. Support is restricted to active queries (trap captures only reboots).</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>LM-SENSORS-MIB

</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>RFC1213-MIB

</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMP-FRAMEWORK-MIB

</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMP-MPD-MIB
</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMP-TARGET-MIB
</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMP-USER-BASED-SM-MIB
</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMPv2-MIB </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SNMP-VIEW-BASED-ACM-MIB</p>
        <p>In addition, the SAFENET-APPLIANCE-MIB is included within the SafeNet Luna Network HSM appliance, to report Software Version. </p>
        <h3>MIBS You Need for Monitoring the Status of the HSM</h3>
        <p>You require the following MIB to monitor the status of the HSM:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>SAFENET-HSM-MIB.mib</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Luna Network HSM</span> <span class="DefaultRelease">7.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-013576-004</span> <span class="DefaultRevision">Rev. C</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">06 May 2019</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2019</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>