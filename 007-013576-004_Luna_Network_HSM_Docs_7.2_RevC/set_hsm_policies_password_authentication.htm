<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Configuration Guide|Set the HSM Policies">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Set HSM Policies (Password Authentication)</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#configuration/initial_setup/set_hsm_policies_password_authentication.htm">Show Navigation</a>
        </p>
        <!-- Remove this comment to enable syntax highlighting		
        <script type="text/javascript" src="../Stylesheets/SyntaxHilite/Prism/prism.js"></script>
-->
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 0px;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_network.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="nocontent">
                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                            </div>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor80"></a>Set HSM Policies (Password Authentication)</h2>
        <p>Set any of the alterable policies that are to apply to the HSM.</p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;NOTE&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>NOTE</b> &#160;&#160;</span></span></span><a name="kanchor81"></a>Capabilities identify the purchased features of the product and are set 
 at time of manufacture. Policies represent the HSM Admin’s enabling (or restriction) of those features.</p>
        <p class="ol1Start" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>Type the <b>hsm showpolicies</b> 
 command, to display the current policy set for the HSM.<br /></p><pre class="listLevel1" xml:space="preserve">lunash:&gt;hsm showpolicies</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">   HSM Label:   myLunaHSM</pre><pre class="listLevel1" xml:space="preserve">   Serial #:    66331</pre><pre class="listLevel1" xml:space="preserve">   Firmware:    7.0.1</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   The following capabilities describe this HSM, and cannot be altered</pre><pre class="listLevel1" xml:space="preserve">   except via firmware or capability updates.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   Description                              Value</pre><pre class="listLevel1" xml:space="preserve">   ===========                              =====</pre><pre class="listLevel1" xml:space="preserve">   Enable PIN-based authentication          Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable PED-based authentication          Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Performance level                        15</pre><pre class="listLevel1" xml:space="preserve">   Enable domestic mechanisms &amp; key sizes   Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable masking                           Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable cloning                           Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable full (non-backup) functionality   Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable non-FIPS algorithms               Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable SO reset of partition PIN         Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable network replication               Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Korean Algorithms                 Disallowed</pre><pre class="listLevel1" xml:space="preserve">   FIPS evaluated                           Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Manufacturing Token                      Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable forcing user PIN change           Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable portable masking key              Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable partition groups                  Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable remote PED usage                  Disallowed</pre><pre class="listLevel1" xml:space="preserve">   HSM non-volatile storage space           33554432</pre><pre class="listLevel1" xml:space="preserve">   Enable unmasking                         Allowed</pre><pre class="listLevel1" xml:space="preserve">   Maximum number of partitions             100</pre><pre class="listLevel1" xml:space="preserve">   Enable Single Domain                     Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Unified PED Key                   Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable MofN                              Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable small form factor backup/restore  Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Secure Trusted Channel            Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable decommission on tamper            Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable partition re-initialize           Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable low level math acceleration       Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Fast-Path                         Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Allow Disabling Decommission             Allowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Tunnel Slot                       Disallowed</pre><pre class="listLevel1" xml:space="preserve">   Enable Controlled Tamper Recovery        Allowed</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">   The following policies are set due to current configuration of</pre><pre class="listLevel1" xml:space="preserve">   this HSM and cannot be altered directly by the user.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   Description                              Value</pre><pre class="listLevel1" xml:space="preserve">   ===========                              =====</pre><pre class="listLevel1" xml:space="preserve">   PIN-based authentication                 True</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">   The following policies describe the current configuration of</pre><pre class="listLevel1" xml:space="preserve">   this HSM and may be changed by the HSM Administrator.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   Changing policies marked "destructive" will erase all HSM partitions</pre><pre class="listLevel1" xml:space="preserve">   on the HSM.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   IMPORTANT NOTE: Changing policy 46 (Disable Decommission) will erase</pre><pre class="listLevel1" xml:space="preserve">   all partitions AND zeroize your HSM.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">   Description                              Value        Code      Destructive</pre><pre class="listLevel1" xml:space="preserve">   ===========                              =====        ====      ===========</pre><pre class="listLevel1" xml:space="preserve">   Allow cloning                            On           7         Yes</pre><pre class="listLevel1" xml:space="preserve">   Allow non-FIPS algorithms                On           12        Yes</pre><pre class="listLevel1" xml:space="preserve">   SO can reset partition PIN               Off          15        Yes</pre><pre class="listLevel1" xml:space="preserve">   Allow network replication                On           16        No</pre><pre class="listLevel1" xml:space="preserve">   Force user PIN change after set/reset    On           21        No</pre><pre class="listLevel1" xml:space="preserve">   Allow offboard storage                   On           22        Yes</pre><pre class="listLevel1" xml:space="preserve">   Allow unmasking                          On           30        No</pre><pre class="listLevel1" xml:space="preserve">   Current maximum number of partitions     100          33        No</pre><pre class="listLevel1" xml:space="preserve">   Allow Secure Trusted Channel             Off          39        No</pre><pre class="listLevel1" xml:space="preserve">   Decommission on tamper                   Off          40        Yes</pre><pre class="listLevel1" xml:space="preserve">   Allow low level math acceleration        On           43        No</pre><pre class="listLevel1" xml:space="preserve">   Disable Decommission                     Off          46        Yes</pre><pre class="listLevel1" xml:space="preserve">   Do Controlled Tamper Recovery            On           48        No</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">Command Result : 0 (Success)</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre>
        <p>According to the above example, the fixed capabilities require that 
 this HSM be protected with HSM Password Authentication. This means that 
 the&#160;PED and PED&#160;keys are not used for authentication, and 
 instead values are typed from a keyboard.</p>
        <p>The alterable policies have numeric codes. You can alter a policy with 
 the <b>hsm changepolicy</b> 
 command, giving the code for the policy that is to change, followed by 
 the new value.</p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;NOTE&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>NOTE</b> &#160;&#160;</span></span></span>The FIPS 140-2 standard mandates a set of 
 security factors that specify a restricted suite of cryptographic algorithms.&#160;The SafeNet Luna HSM is designed to the standard, but can permit activation 
 of additional non-FIPS-validated algorithms if your application requires 
 them. An auditor would not validate your configuration unless the set of available algorithms is restricted to the approved subset.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>In order to change 
 HSM policies, the HSM SO must first login with <b>hsm login</b>.</p><pre class="listLevel1" xml:space="preserve">lunash:&gt;hsm login</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">  Please enter the HSM Administrators' password:</pre><pre class="listLevel1" xml:space="preserve">  &gt; ********</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1">'hsm login' successful.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">Command Result : 0 (Success)</pre><pre class="listLevel1" xml:space="preserve"><br /></pre>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>To modify a policy setting, 
type the <b>hsm changepolicy</b> command:</p>
        <p class="warning" data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;**WARNING**&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>**WARNING**</b> &#160;&#160;</span></span></span>This example is a change to a destructive 
 policy, meaning that if you apply this policy, the HSM is zeroized and 
 all contents are lost. This is not an issue when you have just initialized 
 an HSM.</p><pre class="listLevel1" xml:space="preserve">lunash:&gt;hsm changepolicy -policy 12 -value 0</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">        Changing this policy will result in erasing all partitions</pre><pre class="listLevel1" xml:space="preserve">        on the HSM.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1" xml:space="preserve">        Type 'proceed' to erase all partitions or 'quit' to quit now.</pre><pre class="listLevel1" xml:space="preserve">        &gt;proceed</pre><pre class="listLevel1">'hsm changePolicy' successful.</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1">Policy Allow non-FIPS algorithms is now set to value: 0</pre><pre class="listLevel1">&#160;</pre><pre class="listLevel1">Command Result : 0 (Success)</pre>
        <h3 class="ntoc">Destructive Change of HSM Policy</h3>
        <p class="warning_note">The above example is a change to a destructive 
policy. This means that if you apply this policy, the HSM is zeroized and 
all contents are lost. For this reason, you are prompted to confirm if 
 that is what you really wish to do. You must now re-initialize the HSM. </p>
        <p class="warning_note">While this is not an issue when you have just initialized 
 an HSM, it may be a very important consideration if your SafeNet Luna HSM has been in a “live” or “production” 
environment and contains useful or important data, keys, certificates. </p>
        <p class="warning_note">Backup any important HSM or partition contents before making any destructive policy change, and then restore from backup after the HSM is re-initialized and the partition re-created.</p>
        <p>Refer to <a href="../../administration/capabilities_and_policies/capabilities_and_policies.htm" class="MCXref xref">Capabilities and Policies</a> in the <i>HSM Administration Guide</i> for a description of all policies and their meanings.</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Luna Network HSM</span> <span class="DefaultRelease">7.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-013576-004</span> <span class="DefaultRevision">Rev. C</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">06 May 2019</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2019</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>