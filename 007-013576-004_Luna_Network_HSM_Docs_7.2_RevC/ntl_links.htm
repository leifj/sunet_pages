<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Default.SA" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Configuration Guide|Enable the Client to Access a Partition">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Creating a Network Trust Link Between a Client and a Partition</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#configuration/client_partition/ntl_links.htm">Show Navigation</a>
        </p>
        <!-- Remove this comment to enable syntax highlighting		
        <script type="text/javascript" src="../Stylesheets/SyntaxHilite/Prism/prism.js"></script>
-->
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: none;border-bottom-width: 0px;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_network.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="nocontent">
                            <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix"> </span>
                            </div>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2>Creating a Network Trust Link Between a Client and a Partition</h2>
        <p>After you establish a network trust link between the client and the appliance, you can  assign the client to a specific partition on the appliance to grant the client access to the partition. After you assign a client to a partition, the client can establish NTLS links to the partition, allowing you to:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>See the partition as a slot in LunaCM. </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;&amp;gt;&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>&gt;</b></span></span>Use the partition with your cryptographic applications. </p>
        <p class="note" data-mc-autonum="&lt;span style=&quot;color: #6c286b;&quot; class=&quot;mcFormatColor&quot;&gt; &lt;b&gt;NOTE&lt;/b&gt; &#160;&#160;&lt;/span&gt;"><span class="autonumber"><span><span style="color: #6c286b;" class="mcFormatColor"> <b>NOTE</b> &#160;&#160;</span></span></span>You must be connected to the HSM Server and logged in as “admin”.</p>
        <h3 class="ntoc"><a name="kanchor411"></a>Assigning a Client to a Partition</h3>
        <p>Use the LunaSH command <b>client assignpartition</b> to assign a registered client to a partition. You might need to use your client IP address as your client name, if you registered your client using an IP&#160;address.</p>
        <p>This task is performed by the HSM&#160;SO, if you are not using STC. This is the final task you need to complete before handing off the partition to the partition owner.</p>
        <h5>To assign a client to a partition:</h5>
        <p class="ol1Start" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>Launch LunaSH&#160;and login as the HSM&#160;SO.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>Enter the following command to assign a client to a partition:</p>
        <p class="listLevel1">lunash:&gt;<b>client assignpartition -client</b> &lt;clientname&gt; <b>-partition</b> &lt;partition_label&gt;</p><pre class="listLevel1" xml:space="preserve">lunash:&gt; client assignPartition -client ntls_client -partition ntls_partition</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve"> 'client assignPartition' successful.</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">Command Result : 0 (Success)</pre>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>Enter the following command to verify that the partition is assigned to the client:</p>
        <p class="listLevel1">lunash:&gt;<b>client show -client</b> &lt;clientname&gt;</p><pre class="listLevel1" xml:space="preserve">lunash:&gt; client show -client ntls_client</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">ClientID:     ntls_client</pre><pre class="listLevel1" xml:space="preserve">Hostname:     Luna_Client</pre><pre class="listLevel1" xml:space="preserve">OTT Expiry:   n/a</pre><pre class="listLevel1" xml:space="preserve">Partitions:   ntls_partition</pre>
        <p class="ol1" data-mc-autonum="4."><span class="autonumber"><span class="ol1Number">4.</span></span>If you registered your client by hostname, the appliance will need to use a DNS server to look up the device IP address. To ensure that the client is reachable in the event of a DNS failure, you can use the following command to map the client host name to its IP address, and save the mapping locally on the appliance.</p>
        <p class="listLevel1">lunash:&gt;<b>client hostip map -client</b> &lt;client_name&gt; 
<b>-ip</b> &lt;client_IP_address&gt;</p><pre class="listLevel1" xml:space="preserve">lunash:&gt; client hostip map -client ntls_client -ip 192.20.11.21 </pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre class="listLevel1" xml:space="preserve">Command Result : 0 (Success)</pre><pre class="listLevel1" xml:space="preserve">&#160;</pre><pre xml:space="preserve" class="listLevel1">lunash:&gt;client hostip show</pre><pre xml:space="preserve" class="listLevel1">&#160;</pre><pre xml:space="preserve" class="listLevel1">Client Name         Host Name                     Host IP</pre><pre xml:space="preserve" class="listLevel1">----------------------------------------------------------------------</pre><pre xml:space="preserve" class="listLevel1">ntls_client         ntls_client                   192.20.11.21</pre><pre xml:space="preserve" class="listLevel1">&#160;</pre><pre xml:space="preserve" class="listLevel1">Command Result : 0 (Success)</pre>
        <p class="ol1" data-mc-autonum="5."><span class="autonumber"><span class="ol1Number">5.</span></span>Hand off possession of the partition to its new owner by providing the contact information (IP address and partition name) and any necessary instructions. The receiving person will become the Partition SO and begin configuring the partition for its application.</p>
        <h3 class="ntoc">Verifying Your Setup</h3>
        <p>Before beginning to use a Client application with your newly configured partition, 
 you can verify that the foregoing setup has been properly performed.</p>
        <p>This task is performed by the partition owner, from the SafeNet Luna HSM client workstation used to deploy the partition.</p>
        <h5>To verify your setup:</h5>
        <p class="ol1Start" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>On your Client 
workstation, open a command-line console.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>Go to the software 
directory (<b>c:\Program 
 Files\SafeNet\LunaClient</b> for Windows, or <b>/usr/safenet/lunaclient</b> 
for Linux, Solaris or AIX), and type <b>vtl verify</b>.</p>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>The response 
should be similar to:</p><pre class="listLevel1" xml:space="preserve">Slot    Serial #             Label</pre><pre class="listLevel1" xml:space="preserve">====    ============= &#160;      =====</pre><pre class="listLevel1" xml:space="preserve">   0 &#160;&#160;&#160;      2279315
</pre>
        <p class="listLevel1">If you get an error message, then some part 
of the configuration has not been properly completed. Retrace the procedure.
 </p>
        <p class="listLevel1">At this point, the client and HSM are configured and registered with 
 each other. You can now begin to use the <span class="DefaultProduct">SafeNet Luna Network HSM</span> with your application. You can use the <b>partition 
 list</b> command for a list of HSM Partitions on the HSM, and the 
 <b>client list</b> 
command for a list of the clients assigned to an HSM Partition.</p>
        <p class="ol1" data-mc-autonum="4."><span class="autonumber"><span class="ol1Number">4.</span></span>Setup is complete. We suggest that you browse  the <i>Administration Guide</i> to develop a deeper understanding of the options and capabilities of your <span class="DefaultProduct">SafeNet Luna Network HSM</span> partition, and of the housekeeping tasks and utilities that you might need. </p>
        <h3 class="ntoc">Client Connection Limits</h3>
        <p>See <a href="../../sa_appliance_admin/client_connections/connections_to_the_appliance.htm" class="MCXref xref">Connections to the Appliance - Limits</a> for a discussion of the limits for client connections to a <span class="DefaultProduct">SafeNet Luna Network HSM</span> appliance and HSM. </p>
        <h3 class="ntoc">Applications and Integrations</h3>
        <p>If you have any of dozens of third-party applications, we might already have performed system integration with it, and published an Integration Guide for the application or API that you wish to use. Contact <span class="DefaultCompanyNameLong">Gemalto</span> Technical Support for the latest list of current integrations, or to request that one be developed.</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Luna Network HSM</span> <span class="DefaultRelease">7.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-013576-004</span> <span class="DefaultRevision">Rev. C</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">06 May 2019</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2019</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>