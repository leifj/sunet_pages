<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="LunaCM Command Reference Guide|LunaCM Commands|role">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>role changepw</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">LunaCM Command Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../commands.htm">LunaCM Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="role.htm">role</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">role changePw</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak">role changepw</h2>
        <p>Change the password for a specified role.</p>
        <h3 class="ntoc">Syntax</h3>
        <p><b>role changePW</b> <b>-name</b> &lt;string&gt; [<b>-oldpw</b> &lt;string&gt;] [<b>-newpw</b> &lt;string&gt;] [<b>-prompt</b>] [<b>-force</b>]</p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 142px;" />
            <col class="TableStyle-Page-Column-Column1" style="width: 99px;" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Parameter</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Shortcut</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-name</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-n</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">role to change password for</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-oldpw</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-old</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">Current password (for application partition on PW authenticated HSM) or current challenge secret (for application partition on PED authenticated HSM). <br /><br />If you include option "-oldpw" the HSM assumes that you wish to change the challenge secret, which is the "secondary credential". This applies to Crypto Officer and Crypto User, which each have primary and secondary credentials, but not to Partition SO, which has only primary credential.<br /><br />If you omit option "-oldpw" the HSM assumes that you wish to change the "primary credential" or PED Key secret. <br /><br />Required if you wish to change the secondary credential.</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-newpw</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-new</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">New password (for application partition on PW authenticated HSM) or new challenge secret (for application partition on PED authenticated HSM). <br /><br />Required if you have already provided an "-oldpw".</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-prompt</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-p</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">prompt for challenges (challenges will be hidden by *)</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1" style="font-weight: bold;">-force</td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1" style="font-weight: bold;">-f</td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">Force the action. Use this option to bypass the warning about primary/secondary credentials on a PED-authenticated HSM, as shown in the example.</td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Examples</h3>
        <h4>Change credential on the HSM's Admin partition</h4><pre xml:space="preserve">lunacm:&gt; role changePW -name Administrator -prompt

        A role must be logged in to change password.

Error in execution: command cancelled.

Command Result : 0xb (User Cancelled Operation)

lunacm:&gt; role login -name SO

        Please attend to the PED.

Command Result : No Error

lunacm:&gt; role changePW -name SO -prompt

        Warning: this role has no secondary credentials.
                -prompt parameter will be ignored.

        Type 'proceed' to continue, or 'quit' to quit now -&gt; proceed

        Please attend to the PED.

Command Result : No Error

</pre>
        <h4>Change Crypto Officer's secondary credential  (challenge secret)</h4>
        <h5>With prompting (no -force) </h5><pre xml:space="preserve">lunacm:&gt; role changepw -oldpw PASSWORD -newpw userpin -name Crypto Officer 

        This role has <span style="background-color: #ffff00;">secondary</span> credentials.   
        You are about to change the <span style="background-color: #ffff00;">secondary</span> credentials. 
        Are you sure you wish to continue? 


        Type 'proceed' to continue, or 'quit' to quit now -&gt; proceed


Command Result : No Error
</pre><pre xml:space="preserve">&#160;</pre>
        <h5>Using the -force option</h5><pre xml:space="preserve">
lunacm:&gt; role changepw -oldpw PASSWORD -newpw userpin2 -name Crypto Officer -force 
 
Command Result : No Error</pre>
        <p>&#160;</p>
        <h4>Change the Crypto Officer's primary credential (PED Key secret) </h4><pre xml:space="preserve">lunacm:&gt; role changepw -name Crypto Officer

        This role has <span style="background-color: #ffff00;">secondary</span> credentials.
        You are about to change the <span style="background-color: #ffff00;">primary</span> credentials.
        Are you sure you wish to continue?

        Type 'proceed' to continue, or 'quit' to quit now -&gt; proceed


Command Result : No Error</pre>
        <p>&#160;</p>
        <h4>Attempt to change a role's credential when a different role is logged in</h4><pre xml:space="preserve">lunacm:&gt; role changepw -name Crypto Officer -oldpw 6Ks5bTs3PxPMWqPP -newpw 5parEpuppy

        A role must be logged in to change password.

Error in execution: command cancelled.

Command Result : 0xb (User Cancelled Operation)

lunacm:&gt; role login -name Crypto Officer

        enter password: ***************

        Please attend to the PED.

Error in execution: CKR_USER_ALREADY_LOGGED_IN.

Command Result : 0x100 (CKR_USER_ALREADY_LOGGED_IN)


lunacm:&gt; role logout

Command Result : No Error

lunacm:&gt; role login -name Crypto Officer

        enter password: ****************

Command Result : No Error

lunacm:&gt; role changepw -name Crypto Officer -oldpw 6Ks5bTs3PxPMWqPP -newpw 5parEpuppy

        This role has secondary credentials.   
        You are about to change the secondary credentials. 
        Are you sure you wish to continue? 

        Type 'proceed' to continue, or 'quit' to quit now -&gt; proceed

Command Result : No Error

</pre>
        <p>&#160;</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>