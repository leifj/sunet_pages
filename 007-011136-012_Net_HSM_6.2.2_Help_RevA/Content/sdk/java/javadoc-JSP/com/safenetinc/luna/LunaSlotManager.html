<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Wed Oct 26 15:10:39 EDT 2016 -->
<title>LunaSlotManager (Luna Java Security Provider API)</title>
<meta name="date" content="2016-10-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LunaSlotManager (Luna Java Security Provider API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Luna JSP</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/safenetinc/luna/LunaSessionManager.html" title="class in com.safenetinc.luna"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/safenetinc/luna/LunaSlotManager.html" target="_top">Frames</a></li>
<li><a href="LunaSlotManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.safenetinc.luna</div>
<h2 title="Class LunaSlotManager" class="title">Class LunaSlotManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.safenetinc.luna.LunaSlotManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">LunaSlotManager</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class is used to manage access to Gemalto SafeNet Luna hardware security
 modules (HSMs).  It handles logins, logouts, session and slot management
 for all available slots(HSM partitions).
 <p>
 The JCA API is not adequate for dealing with all the interfaces available
 with Luna HSMs.  <code>LunaSlotManager</code> methods provide additional
 proprietary and custom functionality where necessary.
 <p>
 When the application starts up, <code>LunaSlotManager</code> attempts to
 find already-logged-in slots.  If any are detected, it sets up the login
 state internally so the user doesn't have to log in again.  These initial
 logged-in slots could be authenticated as SECURITY_OFFICER(RW only) or
 CRYPTO_USER(RW or RO).
 <p>
 If a login was done external to <code>LunaSlotManager</code> with a non-
 default application id, <code>setApplicationId</code> should be used to
 set <code>LunaSlotManager</code>'s application id to that value.
 This means that this application
 does not need to login as the application ID establishes an application context
 for all applications accessing the HSM partition with the given application ID.
 <p>
 The first logged-in slot is used as the default slot for all crypto
 operations where a slot is not explicitly specified (this includes all
 JCA/JCE crypto operations).  This default can be changed with
 <code>setDefaultSlot</code> if more slots are logged in to later.  If
 the default slot is changed while the application is running, the value
 will change across all threads.  ALthough the operation of changing the
 default slot is thread-safe, one should not do this unless all on the fly
 operations are complete so as to not get confusing results.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#areSecretKeysExtractable--">areSecretKeysExtractable</a></span>()</code>
<div class="block">Checks if newly-generated secret keys are extractable.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#clrReconnectRequired--">clrReconnectRequired</a></span>()</code>
<div class="block">Clear the reinit flag in LunaSlotManager</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#detectTokenConnectionProblem-int-">detectTokenConnectionProblem</a></span>(int&nbsp;slot)</code>
<div class="block">Check for token presence but, unlike isTokenPresent, throw an exception if there is no token
 as we know there should be one.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#disableReconnect--">disableReconnect</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#enableReconnect--">enableReconnect</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#findSlotFromLabel-java.lang.String-">findSlotFromLabel</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tokenLabel)</code>
<div class="block">Searches the currently present slots for one with a label matching
 the one we're given.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentObjectCount--">getCurrentObjectCount</a></span>()</code>
<div class="block">Returns the current persistent object count for the token at the
 current default slot.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentObjectCount-int-">getCurrentObjectCount</a></span>(int&nbsp;slot)</code>
<div class="block">Returns the current persistent object count for the token at the
 specified slot.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getCurrentTotalObjectCount--">getCurrentTotalObjectCount</a></span>()</code>
<div class="block">Returns the current persistent object count all logged-in tokens.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getDefaultSlot--">getDefaultSlot</a></span>()</code>
<div class="block">Gets the current default slot number.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getHAStatus--">getHAStatus</a></span>()</code>
<div class="block">Gets the HA Status for the default slot.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getHAStatus-int-">getHAStatus</a></span>(int&nbsp;slot)</code>
<div class="block">Gets the HA Status for the specified slot.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static <a href="../../../com/safenetinc/luna/LunaSlotManager.html" title="class in com.safenetinc.luna">LunaSlotManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Returns the only instance of the singleton LunaSlotManager class.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getLunaAPI--">getLunaAPI</a></span>()</code>
<div class="block">Returns a reference to the LunaAPI object.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getNumberOfSlots--">getNumberOfSlots</a></span>()</code>
<div class="block">Determines how many slots are present in the system.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getReconnectEnabled--">getReconnectEnabled</a></span>()</code>
<div class="block">Get the reconnect enabled flag in LunaSlotManager</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getReconnectRequired--">getReconnectRequired</a></span>()</code>
<div class="block">Get the reinit flag in LunaSlotManager</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getSlotList--">getSlotList</a></span>()</code>
<div class="block">Returns a list of slots that have tokens present.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getTokenFirmwareVersion-int-">getTokenFirmwareVersion</a></span>(int&nbsp;slot)</code>
<div class="block">Reads the serial number of the token contained in the given slot.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getTokenLabel-int-">getTokenLabel</a></span>(int&nbsp;slot)</code>
<div class="block">Reads the label of the token contained in the given slot.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getTokenSerialNumber-int-">getTokenSerialNumber</a></span>(int&nbsp;slot)</code>
<div class="block">Reads the serial number of the token contained in the given slot.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyBytesToo-int-">getWrappingKeyBytesToo</a></span>(int&nbsp;slot)</code>
<div class="block">Returns wrapping key bytes for DeriveKeyAndWrapEcDh feature.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyHandle-int-">getWrappingKeyHandle</a></span>(int&nbsp;slot)</code>
<div class="block">Returns the handle for the wrapping key for a given slot.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#getWrappingKeyHandleToo-int-">getWrappingKeyHandleToo</a></span>(int&nbsp;slot)</code>
<div class="block">Returns the wrapping key handle for DeriveKeyAndWrapEcDh feature.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#isAttributeCachingEnabled--">isAttributeCachingEnabled</a></span>()</code>
<div class="block">Checks if PKCS attribute caching is enabled.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#isFIPSEnabled--">isFIPSEnabled</a></span>()</code>
<div class="block">Returns the FIPS-enabled status of the provider, as shown below.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#isLoggedIn--">isLoggedIn</a></span>()</code>
<div class="block">Checks if the application is logged in to at least one token.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#isShuttingDown--">isShuttingDown</a></span>()</code>
<div class="block">Return true if the application's shutdown hook has been called,
 false otherwise.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#isTokenPresent-int-">isTokenPresent</a></span>(int&nbsp;slot)</code>
<div class="block">Tests a slot to see if a token is present at the given slot.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#logExternal-int-java.lang.String-">logExternal</a></span>(int&nbsp;slot,
           <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logMsg)</code>
<div class="block">Sends a log message to the token at the specified slot.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#logExternal-java.lang.String-">logExternal</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logMsg)</code>
<div class="block">Sends a log message to the token at the specified slot.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#login-int-java.lang.String-">login</a></span>(int&nbsp;slot,
     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Logs in to a slot as a normal user role with the specified password.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#login-int-com.safenetinc.luna.UserRole-java.lang.String-">login</a></span>(int&nbsp;slot,
     <a href="../../../com/safenetinc/luna/UserRole.html" title="enum in com.safenetinc.luna">UserRole</a>&nbsp;userType,
     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Logs in to a slot with the specified user role and password.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#login-java.lang.String-">login</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Logs in to the current default slot as a normal user, using the given
 password.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#login-java.lang.String-java.lang.String-">login</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tokenLabel,
     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</code>
<div class="block">Logs in to the token with the given label as a normal user,
 with the given password.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#logout--">logout</a></span>()</code>
<div class="block">Logs out from the current default slot.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#logout-int-">logout</a></span>(int&nbsp;slotNum)</code>
<div class="block">Logs out from the specified slot.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#querySecretKeysDeriveFlag--">querySecretKeysDeriveFlag</a></span>()</code>
<div class="block">Checks if newly-generated secret keys can derive other keys.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#reinitialize--">reinitialize</a></span>()</code>
<div class="block">Re-initializes the connection to the HSM.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#releaseKey-com.safenetinc.luna.LunaTokenObject-">releaseKey</a></span>(<a href="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;lto)</code>
<div class="block">Releases a reference to a session key.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setApplicationId-int-int-">setApplicationId</a></span>(int&nbsp;majorId,
                int&nbsp;minorId)</code>
<div class="block">Sets the major and minor application IDs.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setAttributeCaching-boolean-">setAttributeCaching</a></span>(boolean&nbsp;enabled)</code>
<div class="block">Enables or disables attribute caching.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setDefaultSlot-int-">setDefaultSlot</a></span>(int&nbsp;slotNum)</code>
<div class="block">Sets the default slot to the given slot.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setReconnectRequired-long-">setReconnectRequired</a></span>(long&nbsp;rc)</code>
<div class="block">Set the reinit flag in LunaSlotManager iff required</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setSecretKeysDeriveFlag-boolean-">setSecretKeysDeriveFlag</a></span>(boolean&nbsp;deriveFlag)</code>
<div class="block">Determines whether newly-generated secret keys will be created with the
 derive flag set.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setSecretKeysExtractable-boolean-">setSecretKeysExtractable</a></span>(boolean&nbsp;extractable)</code>
<div class="block">Determines whether newly-generated secret keys will be created with the
 extractable flag set.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setThreadLocalDefaultSlot-boolean-">setThreadLocalDefaultSlot</a></span>(boolean&nbsp;threadLocal)</code>
<div class="block">Determines if the default slot will be global or thread-local.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/safenetinc/luna/LunaSlotManager.html#setTokenObjectType-boolean-">setTokenObjectType</a></span>(boolean&nbsp;aInTokenObjectType)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/safenetinc/luna/LunaSlotManager.html" title="class in com.safenetinc.luna">LunaSlotManager</a>&nbsp;getInstance()</pre>
<div class="block">Returns the only instance of the singleton LunaSlotManager class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A reference to the LunaSlotManager object.</dd>
</dl>
</li>
</ul>
<a name="getLunaAPI--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLunaAPI</h4>
<pre>public&nbsp;<a href="../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</a>&nbsp;getLunaAPI()</pre>
<div class="block">Returns a reference to the LunaAPI object.  Generally this should
 not be used by user applications.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The LunaAPI object</dd>
</dl>
</li>
</ul>
<a name="getDefaultSlot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultSlot</h4>
<pre>public&nbsp;int&nbsp;getDefaultSlot()</pre>
<div class="block">Gets the current default slot number.  This slot will be used by the
 Java crypto provider implementation, as there is no way to specify a
 specific slot to in the provider API.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The slot number of the currently active slot. If there is no
      logged in slot, returns -1</dd>
</dl>
</li>
</ul>
<a name="enableReconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableReconnect</h4>
<pre>public&nbsp;void&nbsp;enableReconnect()</pre>
</li>
</ul>
<a name="disableReconnect--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disableReconnect</h4>
<pre>public&nbsp;void&nbsp;disableReconnect()</pre>
</li>
</ul>
<a name="getReconnectEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReconnectEnabled</h4>
<pre>public&nbsp;boolean&nbsp;getReconnectEnabled()</pre>
<div class="block">Get the reconnect enabled flag in LunaSlotManager</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>is the reconnect flag enabled or not</dd>
</dl>
</li>
</ul>
<a name="setReconnectRequired-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReconnectRequired</h4>
<pre>public&nbsp;void&nbsp;setReconnectRequired(long&nbsp;rc)</pre>
<div class="block">Set the reinit flag in LunaSlotManager iff required</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rc</code> - return code from cryptoki lib</dd>
</dl>
</li>
</ul>
<a name="getReconnectRequired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReconnectRequired</h4>
<pre>public&nbsp;boolean&nbsp;getReconnectRequired()</pre>
<div class="block">Get the reinit flag in LunaSlotManager</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>is a connect re-attempt needed</dd>
</dl>
</li>
</ul>
<a name="clrReconnectRequired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clrReconnectRequired</h4>
<pre>public&nbsp;void&nbsp;clrReconnectRequired()</pre>
<div class="block">Clear the reinit flag in LunaSlotManager</div>
</li>
</ul>
<a name="setDefaultSlot-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultSlot</h4>
<pre>public&nbsp;boolean&nbsp;setDefaultSlot(int&nbsp;slotNum)</pre>
<div class="block">Sets the default slot to the given slot.  If thread-local default
 slots are enabled, this default slot value is only valid for the
 thread that calls this method.  If they are disabled, the default
 slot set here will take effect globally.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slotNum</code> - The slot to make the default.  This must be a
      logged-in slot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the default slot was changed, false otherwise</dd>
</dl>
</li>
</ul>
<a name="isFIPSEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFIPSEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isFIPSEnabled()</pre>
<div class="block">Returns the FIPS-enabled status of the provider, as shown below.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the provider is in FIPS mode
         false if the provider is in non-FIPS mode</dd>
</dl>
</li>
</ul>
<a name="areSecretKeysExtractable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areSecretKeysExtractable</h4>
<pre>public&nbsp;boolean&nbsp;areSecretKeysExtractable()</pre>
<div class="block">Checks if newly-generated secret keys are extractable.  A value of true
 does not imply that all secret keys are extractable, only that any
 secret keys generated by the Luna provider from this point on will
 have the extractable flag set.
 <p>
 The default value is <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true  If secret keys will be generated with the extractable flag
      set to true</dd>
</dl>
</li>
</ul>
<a name="setSecretKeysExtractable-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSecretKeysExtractable</h4>
<pre>public&nbsp;void&nbsp;setSecretKeysExtractable(boolean&nbsp;extractable)</pre>
<div class="block">Determines whether newly-generated secret keys will be created with the
 extractable flag set. If a key is not extractable, it cannot be wrapped
 off the token.  Using this method will override the default configuration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>extractable</code> - The extractable setting.</dd>
</dl>
</li>
</ul>
<a name="querySecretKeysDeriveFlag--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>querySecretKeysDeriveFlag</h4>
<pre>public&nbsp;boolean&nbsp;querySecretKeysDeriveFlag()</pre>
<div class="block">Checks if newly-generated secret keys can derive other keys.
 Any secret keys generated by the Luna provider from this point on will
 have the derive flag set.
 <p>
 The default value is <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true  If secret keys will be generated with the derive flag
      set to true</dd>
</dl>
</li>
</ul>
<a name="setSecretKeysDeriveFlag-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSecretKeysDeriveFlag</h4>
<pre>public&nbsp;void&nbsp;setSecretKeysDeriveFlag(boolean&nbsp;deriveFlag)</pre>
<div class="block">Determines whether newly-generated secret keys will be created with the
 derive flag set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>deriveFlag</code> - The derive setting.</dd>
</dl>
</li>
</ul>
<a name="isAttributeCachingEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAttributeCachingEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isAttributeCachingEnabled()</pre>
<div class="block">Checks if PKCS attribute caching is enabled.  If it is enabled, the
 provider will cache PKCS attributes for each object as they are read,
 and will use that cache for future reads.  If it is disabled, the
 provider will go to the HSM for every attribute read.
 <p>
 The caching behaviour for provider objects is dynamic.  If this attribute
 is changed from <code>true</code> to <code>false</code>, all existing
 provider objects will access the HSM directly for their next attribute
 read.  Note: in this scenario objects will clear their entire cache the
 first time an attribute is requested after this setting has been changed.
 <p>
 Caching is enabled by default to enhance performance.  To ensure data
 consistency, it should be disabled if another application is accessing the
 same HSM objects, or if LunaAPI is being used to manipulate the objects
 directly.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if attribute caching is enabled, false otherwise</dd>
</dl>
</li>
</ul>
<a name="setAttributeCaching-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAttributeCaching</h4>
<pre>public&nbsp;void&nbsp;setAttributeCaching(boolean&nbsp;enabled)</pre>
<div class="block">Enables or disables attribute caching.  See <code>isAttributeCachingEnabled</code>
 for more discussion of the consequences.
 <p>
 Attribute caching is enabled by default.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enabled</code> - the new value of the attribute caching parameter</dd>
</dl>
</li>
</ul>
<a name="setThreadLocalDefaultSlot-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setThreadLocalDefaultSlot</h4>
<pre>public&nbsp;void&nbsp;setThreadLocalDefaultSlot(boolean&nbsp;threadLocal)</pre>
<div class="block">Determines if the default slot will be global or thread-local.
 <p>
 If thread-local default slots are enabled while there are multiple
 threads, the default slot for each thread is initially set to the
 value of the global default slot at that time. If thread-local default
 slots are disabled while the application is running, the last slot set
 using <code>setDefaultSlot</code> will become the global default slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>threadLocal</code> - If true, the default slot will be thread-local.
      If false, the default slot will be global.</dd>
</dl>
</li>
</ul>
<a name="isShuttingDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShuttingDown</h4>
<pre>public&nbsp;boolean&nbsp;isShuttingDown()</pre>
<div class="block">Return true if the application's shutdown hook has been called,
 false otherwise.  If the application is shutting down, the connection
 to the HSM is about to die. Various LunaAPI calls may fail if this
 connection is dead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the application's shutdown hook has been called</dd>
</dl>
</li>
</ul>
<a name="getWrappingKeyHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWrappingKeyHandle</h4>
<pre>public&nbsp;int&nbsp;getWrappingKeyHandle(int&nbsp;slot)</pre>
<div class="block">Returns the handle for the wrapping key for a given slot.  This key
 is used internally to inject keys into the HSM and to extract secret
 keys from the HSM.  This key is a session object that is regenerated
 after every new login to the slot.
 <p>
 This method is for internal use only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - the slot to get the wrapping key for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the handle of the wrapping key, or -1 if none could be obtained</dd>
</dl>
</li>
</ul>
<a name="getWrappingKeyHandleToo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWrappingKeyHandleToo</h4>
<pre>public&nbsp;int&nbsp;getWrappingKeyHandleToo(int&nbsp;slot)</pre>
<div class="block">Returns the wrapping key handle for DeriveKeyAndWrapEcDh feature.
 If the key doesn't exist then generate it (synchronized to avoid race condition).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - desired slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the handle of the cached wrapping key, otherwise -1.</dd>
</dl>
</li>
</ul>
<a name="getWrappingKeyBytesToo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWrappingKeyBytesToo</h4>
<pre>public&nbsp;byte[]&nbsp;getWrappingKeyBytesToo(int&nbsp;slot)</pre>
<div class="block">Returns wrapping key bytes for DeriveKeyAndWrapEcDh feature.
 Normally, the method getWrappingKeyHandleToo() is called first to extract the bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - desired slot number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the key bytes.</dd>
</dl>
</li>
</ul>
<a name="getCurrentObjectCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentObjectCount</h4>
<pre>public&nbsp;int&nbsp;getCurrentObjectCount(int&nbsp;slot)
                          throws <a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></pre>
<div class="block">Returns the current persistent object count for the token at the
 specified slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of persistent objects at the specified slot</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - If the slot is uninitialized</dd>
</dl>
</li>
</ul>
<a name="getCurrentObjectCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentObjectCount</h4>
<pre>public&nbsp;int&nbsp;getCurrentObjectCount()
                          throws <a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></pre>
<div class="block">Returns the current persistent object count for the token at the
 current default slot.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of persistent objects at the default slot</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - If there is no default slot</dd>
</dl>
</li>
</ul>
<a name="logExternal-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logExternal</h4>
<pre>public&nbsp;void&nbsp;logExternal(int&nbsp;slot,
                        <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logMsg)
                 throws <a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></pre>
<div class="block">Sends a log message to the token at the specified slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot to send the log msg to</dd>
<dd><code>logMsg</code> - log msg string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - If the slot is uninitialized</dd>
</dl>
</li>
</ul>
<a name="logExternal-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logExternal</h4>
<pre>public&nbsp;void&nbsp;logExternal(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logMsg)
                 throws <a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></pre>
<div class="block">Sends a log message to the token at the specified slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logMsg</code> - log msg string</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - If there is no default slot</dd>
</dl>
</li>
</ul>
<a name="detectTokenConnectionProblem-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>detectTokenConnectionProblem</h4>
<pre>public&nbsp;void&nbsp;detectTokenConnectionProblem(int&nbsp;slot)</pre>
<div class="block">Check for token presence but, unlike isTokenPresent, throw an exception if there is no token
 as we know there should be one.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - slot number</dd>
</dl>
</li>
</ul>
<a name="setTokenObjectType-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTokenObjectType</h4>
<pre>public&nbsp;void&nbsp;setTokenObjectType(boolean&nbsp;aInTokenObjectType)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aInTokenObjectType</code> - 1 for token object, 0 for session object</dd>
</dl>
</li>
</ul>
<a name="getCurrentTotalObjectCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentTotalObjectCount</h4>
<pre>public&nbsp;int&nbsp;getCurrentTotalObjectCount()</pre>
<div class="block">Returns the current persistent object count all logged-in tokens.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The total number of persistent objects available to the
      application</dd>
</dl>
</li>
</ul>
<a name="getNumberOfSlots--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfSlots</h4>
<pre>public&nbsp;int&nbsp;getNumberOfSlots()</pre>
<div class="block">Determines how many slots are present in the system.  These slots
 do not necessarily have tokens present.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of slots</dd>
</dl>
</li>
</ul>
<a name="getSlotList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlotList</h4>
<pre>public&nbsp;int[]&nbsp;getSlotList()</pre>
<div class="block">Returns a list of slots that have tokens present.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of slot numbers that have a token present</dd>
</dl>
</li>
</ul>
<a name="isTokenPresent-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTokenPresent</h4>
<pre>public&nbsp;boolean&nbsp;isTokenPresent(int&nbsp;slot)</pre>
<div class="block">Tests a slot to see if a token is present at the given slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The number of the slot to test</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if a token is present in the slot</dd>
</dl>
</li>
</ul>
<a name="getTokenLabel-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenLabel</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTokenLabel(int&nbsp;slot)
                     throws <a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></pre>
<div class="block">Reads the label of the token contained in the given slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot of the token to read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The label of the token in the given slot</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></code> - If there is no token at that slot</dd>
</dl>
</li>
</ul>
<a name="getTokenSerialNumber-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenSerialNumber</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTokenSerialNumber(int&nbsp;slot)
                            throws <a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></pre>
<div class="block">Reads the serial number of the token contained in the given slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot of the token to read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The serial number of the token in the given slot</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></code> - If there is no token at that slot</dd>
</dl>
</li>
</ul>
<a name="getTokenFirmwareVersion-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenFirmwareVersion</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>[]&nbsp;getTokenFirmwareVersion(int&nbsp;slot)
                               throws <a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></pre>
<div class="block">Reads the serial number of the token contained in the given slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot of the token to read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The firmware version of the token in the given slot</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaCryptokiException.html" title="class in com.safenetinc.luna.exception">LunaCryptokiException</a></code> - If there is no token at that slot</dd>
</dl>
</li>
</ul>
<a name="setApplicationId-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApplicationId</h4>
<pre>public&nbsp;void&nbsp;setApplicationId(int&nbsp;majorId,
                             int&nbsp;minorId)</pre>
<div class="block">Sets the major and minor application IDs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>majorId</code> - The major application ID</dd>
<dd><code>minorId</code> - The minor application ID</dd>
</dl>
</li>
</ul>
<a name="getHAStatus-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAStatus</h4>
<pre>public&nbsp;<a href="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</a>&nbsp;getHAStatus(int&nbsp;slot)</pre>
<div class="block">Gets the HA Status for the specified slot. This method will not return
 anything meaningful if the slot is not an HA slot.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot to check the HA status on</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>LunaHAStatus</code> object containing the status information</dd>
</dl>
</li>
</ul>
<a name="getHAStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHAStatus</h4>
<pre>public&nbsp;<a href="../../../com/safenetinc/luna/LunaHAStatus.html" title="class in com.safenetinc.luna">LunaHAStatus</a>&nbsp;getHAStatus()</pre>
<div class="block">Gets the HA Status for the default slot. This method will not return
 anything meaningful if the slot is not an HA slot.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>LunaHAStatus</code> object containing the status information</dd>
</dl>
</li>
</ul>
<a name="isLoggedIn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLoggedIn</h4>
<pre>public&nbsp;boolean&nbsp;isLoggedIn()</pre>
<div class="block">Checks if the application is logged in to at least one token.
 <p>
 This method only checks slots that were already logged in when the
 application was started, and slots that have been logged in to by this
 application.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true  If the application is logged in to at least one token</dd>
</dl>
</li>
</ul>
<a name="releaseKey-com.safenetinc.luna.LunaTokenObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseKey</h4>
<pre>public&nbsp;void&nbsp;releaseKey(<a href="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;lto)</pre>
<div class="block">Releases a reference to a session key.  This is for internal use only;
 see <code>LunaKey.release()</code> for the public API.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lto</code> - the session key to release</dd>
</dl>
</li>
</ul>
<a name="login-int-com.safenetinc.luna.UserRole-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(int&nbsp;slot,
                     <a href="../../../com/safenetinc/luna/UserRole.html" title="enum in com.safenetinc.luna">UserRole</a>&nbsp;userType,
                     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block">Logs in to a slot with the specified user role and password.
 <p>
 Slots are enumerated starting from 1 (e.g. a system with four slots
 would have slots numbered '1', '2', '3' and '4').
 <p>
 If an application attempts to use a Luna HSM without explicitly logging
 in, the Luna provider will attempt to find a token which is already
 logged in.  If no such token exists, an exception will be thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot containing the token to log in to</dd>
<dd><code>userType</code> - The type of user logging in</dd>
<dd><code>password</code> - The password to use for login. If the given slot
      contains a token which requires use of the PED for PIN entry,
      the password parameter is ignored.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>login success or failure</dd>
</dl>
</li>
</ul>
<a name="login-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(int&nbsp;slot,
                     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block">Logs in to a slot as a normal user role with the specified password.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - The slot containing the token to log in to</dd>
<dd><code>password</code> - The password to use for login. If the given slot
        contains a token which requires use of the PED for PIN entry,
        the password parameter is ignored.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the login succeeded</dd>
</dl>
</li>
</ul>
<a name="login-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;int&nbsp;login(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block">Logs in to the current default slot as a normal user, using the given
 password.  If there is no default slot, we try the first token we
 encounter.  This method should only be used if there is only one token
 present on the system.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>password</code> - The password to use for the login.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The slot logged in to</dd>
</dl>
</li>
</ul>
<a name="login-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;boolean&nbsp;login(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tokenLabel,
                     <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;password)</pre>
<div class="block">Logs in to the token with the given label as a normal user,
 with the given password.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tokenLabel</code> - The label of the token to which to login</dd>
<dd><code>password</code> - The password to use for the login</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the login succeeds, or false if there is no token
    with the given label</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - if the given password is incorrect</dd>
</dl>
</li>
</ul>
<a name="findSlotFromLabel-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findSlotFromLabel</h4>
<pre>public&nbsp;int&nbsp;findSlotFromLabel(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tokenLabel)</pre>
<div class="block">Searches the currently present slots for one with a label matching
 the one we're given.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tokenLabel</code> - The token label to search for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The slot number of the matching token, or -1 if no matching
      slot is found</dd>
</dl>
</li>
</ul>
<a name="logout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout()</pre>
<div class="block">Logs out from the current default slot.  All open sessions on this slot
 will be closed.  All threads within the current application are
 affected by this call (i.e. the login state applies to the entire
 application).</div>
</li>
</ul>
<a name="logout-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(int&nbsp;slotNum)</pre>
<div class="block">Logs out from the specified slot.  All open sessions on this slot
 will be closed.  All threads within the current application are
 affected by this call (i.e. login state applies to the entire
 application).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slotNum</code> - The slot to log out of</dd>
</dl>
</li>
</ul>
<a name="reinitialize--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reinitialize</h4>
<pre>public&nbsp;void&nbsp;reinitialize()</pre>
<div class="block">Re-initializes the connection to the HSM.  This method can be used
 if the NTLS connection is broken (due to a network timeout, for example).
 <p>
 This operation has consequences to be aware of:
 <ul>
 <li>Re-initializing the connection will kill all existing sessions,
     so all session objects will be lost.</li>
 <li>Because of the above, any Java crypto objects generated by the Luna
     provider that referred to session objects on the HSM will be invalidated.
     After the re-init they will throw LunaException for most common
     operations.</li>
 <li>The PKCS11 spec says that any operations in progress when the
     library is finalized will have "undefined" behaviour.  In practice
     this could mean an application crash.  Having said that though, a JVM crash
     is *never* considered by rational people to be an acceptable error path.
     On this note then, it is highly recommended that all application threads are
     allowed to complete their current operation before calling <code>reinitialize()</code></li>
 <li>If the application was working against an HA slot when
     <code>reinitialize()</code> was called then the object handles of token
     objects may change, due to the fact that the HA library uses a virtual
     handle table.  In this case best practice would be to let all Java crypto
     objects that refer to token objects on the HSM be garbage collected before
     calling <code>reinitialize()</code>.</li>
 </ul></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Luna JSP</b></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/safenetinc/luna/LunaSessionManager.html" title="class in com.safenetinc.luna"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/safenetinc/luna/LunaSlotManager.html" target="_top">Frames</a></li>
<li><a href="LunaSlotManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><small>Copyright 2014-2016 SafeNet Inc</small></small></p>
</body>
</html>
