<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Administration Guide|PED (Trusted Path) Authentication ">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>What is a PED PIN?</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_auth.htm">PED (Trusted Path) Authentication </a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">What is a PED PIN?</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor121"></a><a name="kanchor122"></a>What is a PED PIN?</h2>
        <p>For three-factor authentication, a PED PIN is "something you know", 
 and is associated with "something you have", the PED Key (this 
 is termed "three-factor" because you must <br />- login to the password-protected <span style="color: #800000;">[1st factor]</span> 
 admin session before you can invoke the HSM SO or User, <br />- provide a physical PED Key [2nd factor] <img src="../../Resources/Images/ped/hardwarekey.png" style="width: 78px;height: 46px;" />&#160;and <br /><br />- input the optional PED PIN [3rd factor]). 
 </p>
        <p>A PED PIN is an optional 
 additional authentication layer ( It 
 is optional only for the first PED Key imprinted at initialization time 
 - if you choose to have some duplicates made of that PED Key, then they 
 all get the flag for PED PIN [or no PED PIN if that's what you chose] that 
 you gave for the first key) &#160;&#160;

 
 &#160;for any 
 of:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the HSM Admin or SO (blue 
 PED Key) or,</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Partition Owner or 
 Crypto Officer (black PED Key)</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the cloning Domain (red 
 PED Key) </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Remote PED Key (orange PED Key)</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Secure Recovery Key (purple PED Key)</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Audit key (white PED Key).</p>
        <p>The secret that unlocks the HSM is the PinKey. <br />In Password authenticated HSMs, the PinKey is the text password that you type at a keyboard. <br />In PED&#160;authenticated HSMs, the PinKey is the secret that the HSM receives from the PED when the HSM calls for authentication.<br /></p>
        <h3>But what is it?</h3>
        <p>A PED PIN is a sequence of digits that you type in, at the PED keypad, 
 which is combined with the secret stored on the key, and the resulting combined PinKey is sent to the HSM. The combined secret-and-PED-PIN  is what the HSM recognizes as its unlocking secret.</p>
        <p>
            <img src="../../Resources/Images/auth/hsm_authent_model_with_ped_pin_1.png" title="An HSM authent secret (on a PED Key) combines with a typed-in secret (a PED PIN) to create the secret that unlocks the HSM - click for large version" alt="Diagram showing an HSM authentication secret (on a PED Key) being combined with a typed-in secret (a PED PIN) to create the secret that unlocks the HSM" />
        </p>
        <p>&#160;</p>
        <p><a name="aanchor2"></a>
            <MadCap:concept term="Luna PED" /><a name="kanchor123"></a>If, for example, you are initializing an HSM and not re-using any existing 
 secret on the PED Key that you present (or it's a blank key), then during 
 the process, the SafeNet PED prompts you to provide a PED&#160;PIN. (see below)&#160;&#160;</p>
        <h3>How to invoke/require a PED PIN with an HSM</h3>
        <p>At the SafeNet PED prompt:</p>
        <p style="font-weight: bold;">&#160;&#160;&#160;&#160;Enter 
 a new PED PIN</p>
        <p>If you want a PED PIN:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>enter 4 to 48 digits 
 via the SafeNet <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t2"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />PED keypad</a> 
 and press [Enter] (you are prompted to enter the PED PIN again, to confirm)<br />Note: <a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t1"><img class="MCToggler_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />do not use zero for the first digit</a><p>&#160;</p><div style="display: none;" data-mc-target-name="t2">&#160;<img src="../../Resources/Images/ped_ill/lunaped2_front1.png" style="border: none;float: none;border-style: none;" border="0" /></div><div style="display: none;" data-mc-target-name="t1"><p>(When the leading digit is zero, the PED ignores any digits following 
 the exact PED PIN. Thus an attacker attempting to guess the PED PIN 
 must get the first digits correct, but does not need to know the exact 
 length of the PED PIN. If the PED PIN is started with any digit other 
 than zero, extra digits are detected as an incorrect attempt. This is 
 not &#160;considered 
 a real vulnerability since any attacker     <br />a) must have physical possession of the PED KEY, <br />b) must have physical access to the HSM and PED, and <br />c) gets only three tries to guess correctly, before the HSM is zeroized. 
 <br />However, since we noticed it, we thought we should mention the slightly 
 different function when the first PED PIN digit is zero.) </p></div></p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the PED PIN must be the 
 same across multiple HSMs</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>SafeNet PED combines your 
 PED PIN with the random PIN from the (blue or black) PED Key and presents 
 that combination to the token as the authentication for HSM Admin or the 
 Partition Owner (or Crypto Officer) respectively.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>PED PIN digits are not echoed to the PED screen; instead, whatever you type is masked by asterisk (*) characters.</p>
        <p>If you don't want a PED PIN:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>just press [Enter] on the SafeNet PED keypad (signifying 0 digits); you are prompted again, to confirm.</p>
        <p>The PinKey is the secret on the PED Key, combined with the PED PIN. The PED PIN is not recorded - it is a transformation that you perform on the PED Key secret to convert it into the PinKey.Therefore, the PED PIN is separate and distinct from the HSM SO authentication 
 secret (or the User/Owner/Crypto Officer authentication, etc.) contained on 
 the PED Key. It is optional to create a PED PIN (as an extra layer of 
 authentication security) when you initialize an HSM, but once a PED PIN 
 is invoked, it is then required every time you authenticate to the HSM. 
 That is, if you opt to not create a PED PIN at initialization time (or 
 Partition creation time for the black PED Key), then you never use PED 
 PINs, but if you do create a PED PIN at initialization time, then you 
 are "stuck" with the requirement until the next time you wipe 
 the contents (zeroize) and re-initialize. The point to make is that the 
 PED PIN option is there if your policy and situation require the additional 
 security, but you don't need to invoke the extra layer if you don't require 
 it.</p>
        <p>The choice to invoke PED PIN for a particular PED Key function [ blue SO key, black User/Owner key, red Cloning Domain key, orange Remote PED key, white Audit key, or purple Secure Recovery key ] is independent 
 of the other types of PED Key. </p>
        <p><a name="kanchor124"></a>For example, if (at initialization time) you decide to have a PED PIN 
 for the blue (SO) PED Key, then that PED PIN is thereafter required when 
 you use blue PED Keys with that HSM(until 
 you initialize again), 
 but you do not need to use PED PINs with the black and red PED Keys if 
 you don't wish to do so. Similarly, you might choose to invoke PED PIN 
 for the red PED Key, but not for the blue or black PED Keys.</p>
        <p>Here are possible combinations if you have two HSMs H1 and H2, and any 
 of several initialization-time choices regarding PED PIN. What is important 
 to unlock the HSM is the secret that is imprinted on the HSM, so in the 
 following table we will call that secret H1SO or H2SO. We will call the 
 secret contained on the PED Key K1SO or K2SO. </p>
        <table style="width: 100%;border-spacing: 0px;border-spacing: 0px;mc-table-style: url('../../Resources/TableStyles/Page.css');" cellspacing="0" width="100%" class="TableStyle-Page">
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Configuration</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">SO Authent Secret on HSM</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">What You Need to Unlock HSM</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">PED Keys Interchangeable?</th>
                </tr>
            </thead>
            <tbody>
                <tr valign="top" class="TableStyle-Page-Body-Body1">
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>Different blue PED Key Pinkeys H1SO and H2SO<br />K1SO does not equal K2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>H1SO not same as H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>The correct PED Key for the current HSM</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>No</p>
                    </td>
                </tr>
                <tr valign="top" class="TableStyle-Page-Body-Body1">
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>Two identical blue PED Keys, no PED PINs, so PED Key secret is the PinKey secret, which is the same on both <br />K1SO = K2SO and <br />H1SO = H2SO </p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>H1SO secret identical to H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>Either PED Key; both are correct for either HSM</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>Yes</p>
                    </td>
                </tr>
                <tr valign="top" class="TableStyle-Page-Body-Body1">
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>Two identical blue PED Key(s), same PED PINs so PED Key secret is the same on both <br />(K1SO = K2SO) and therefore PinKey secret is the same for both, to yield H1SO = H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>H1SO secret identical to H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyE-Column1-Body1">
                        <p>Either PED Key plus the one PED PIN; both are correct for either HSM</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>Yes</p>
                    </td>
                </tr>
                <tr valign="top" class="TableStyle-Page-Body-Body1">
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyB-Column1-Body1">
                        <p>Two blue PED Key(s), different PED PINs for both 
 HSMs, but PED Key secrets are also different (K1SO does not equal K2SO) such that PED Key1 plus PED PIN1 together generate the same PinKey secret as PED Key2 plus PED PIN2<br />- H1SO = H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyB-Column1-Body1">
                        <p>H1SO secret identical to H2SO</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyB-Column1-Body1">
                        <p>Either PED Key plus the correct PED PIN for just that PED Key; both are correct for either HSM. Either PED Key with the PED PIN for the OTHER PED Key is a bad login attempt.</p>
                    </td>
                    <td style="border-bottom-color: #808000;border-bottom-style: Solid;border-bottom-width: 1px;padding-right: 10px;padding-left: 10px;" class="TableStyle-Page-BodyA-Column1-Body1">
                        <p>Yes, but the PED&#160;PINs are not.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>Here is a drawing of HSM PED authentication with two PED PINs. </p>
        <p>
            <img src="../../Resources/Images/auth/hsm_authent_model_with_ped_pin_2.png" title="PED-auth HSM with two different PED Keys, two different PED Key secrets, and two different PED PINS that nevertheless yield one PinKey" alt="Drawing showing PED-authenticated HSM with two different PED Keys, two different PED Key secrets, and two different PED PINS that nevertheless yield one PinKey" />
        </p>
        <h3>Must I Use a PED PIN?</h3>
        <p><a name="kanchor125"></a>If a PED PIN has been set for a PED Key and an HSM, then you must always provide 
 that PED PIN when using that key (or any duplicate of it) to login to that HSM. If you duplicate a 
 PED Key, what you are duplicating is the secret that was originally imprinted on the PED Key, plus the state of a flag. The flag is an instruction to the PED to "prompt for a PED&#160;PIN"... or not. </p>
        <p>If you choose, at initialization, not to invoke a PED PIN (that is, if you just press [Enter] without typing any digits on the keypad), then the flag is not set on the PED&#160;Key, and the secret on the PED&#160;Key matches exactly the secret in the HSM. Any duplicates that you make of the first PED Key will also have the flag unset. Whenever you use any of those PED Keys (original or duplicates) the PED checks for the state of the flag, finds it not set, and simply decrypts and sends the unmodified stored secret to the HSM, without prompting for PED&#160;PIN.</p>
        <h3>Should I Use a PED PIN?</h3>
        <p>That is up to you and your organization's security policy, but security 
 procedures should never be more complicated than your requirements dictate. 
 </p>
        <p>Consider also if your security policy requires regular changes to passwords 
 and other authentication. Your personnel would need to remember new PED 
 PINs with each change cycle. If people are asked to remember too many 
 passwords/PINs or asked to change them too often, they begin writing them 
 down, which is itself a potential security issue.</p>
        <h3>What If I Change My Mind?</h3>
        <p>You can remove the requirement for a PED PIN by using the 'hsm changePw' 
 command. A new secret is generated on the HSM, and is imprinted onto the 
 PED Key (you are asked if you want to overwrite the existing data and 
 you say YES). You are given the opportunity to add a PED PIN and you just 
 press ENTER on the PED keypad to decline a PED PIN.</p>
        <p>During the PED operation, you are given the opportunity to imprint additional 
 keys with the new secret that doesn't include a PED PIN. You can use that 
 opportunity to imprint additional new, blank PED Keys, or to overwrite 
 PED Keys that are already imprinted with the <span class="MCExpanding MCExpanding_Open expanding"><a href="javascript:void(0);" class="MCExpandingHead MCExpandingHotSpot expandingHead MCExpandingHotSpot_">old secret<img class="MCExpanding_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><span class="MCExpandingBody expandingBody"> [ which is now invalid for the current HSM ]</span></span>.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>This action must be performed on all the PED 
 Keys [duplicate PED Keys] associated with that HSM.<br />If you have a group of HSMs that share the same authentication secret (meaning 
 they can all be unlocked by the same PED Keys [group PED Keys, see below]) 
 then you must keep one unchanged PED Key until you have logged in and 
 performed the 'hsm changePw' command on all the HSMs in that group.<br /></p>
        <p>Similarly, if you decide to increase the stringency of your security, 
 you can use the 'hsm changePw' command to change the secret on your PED 
 Keys and HSM(s) and at the same time, add PED PINs. Again, if you make 
 such a change, consider doing it on all copies [duplicates] of the PED 
 Key, and on all HSMs that shared the old PED Key authentication data.</p>
        <p>Alternatively, you could leave some PED Keys with the old secret and 
 leave some HSMs with that same secret. The result would be two groups 
 of HSMs and associated PED Keys that could not be interchanged (for authentication). In other words, you could use that technique to split a group of HSMs.</p>
        <h3>Does that apply to the other PED Key colors?</h3>
        <p>Not all. </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>It does apply to the black PED Key - use the lunash command <span style="font-family: monospace;">partition changePw</span>. This change is non-destructive to the HSM partition or its contents.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For the purple PED Key, you must generate a new SRK ( lunash command <span style="font-family: monospace;">hsm srk keys resplit</span> ). This requires that you have the old/current SRK to begin, and that you provide a different PED Key to receive the new Secure Recovery Vector. The PED&#160;does not allow you to overwrite the current purple PED Key. This change is non-destructive to the HSM or its contents.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For the orange PED Key, you can use the lunash command <span style="font-family: monospace;">hsm ped vector init</span> to create a new Remote PED vector on the HSM and on the current orange PED Key, or you can import a different RPV from a different orange SRK and imprint that RPV onto the HSM in place of the current one. This change is non-destructive to the HSM or its contents.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>However, you <b>cannot</b> change an HSM Domain without a hard initialization of the HSM (destroys all contents), and you cannot change a partition Domain without deleting the current partition and creating a new partition, which deletes  all contents of the current partition. </p>
        <h3>What is a Shared or Group PED Key?</h3>
        <p>Visit this topic for an additional, interesting concept that might be important 
 to you when imprinting and using PED Keys: <br /><a href="../ped_keys/what_is_a_shared_or_group_ped_key.htm" class="MCXref xref">Shared or Group PED Keys</a></p>
        <h3>What else do I need to know?</h3>
        <p>Here is a re-cap of what happens when you initialize.</p>
        <p>The HSM, when told to initialize, turns over control to the PED, which immediately asks "Do you wish to reuse an existing keyset?". If the answer is NO, the HSM creates a new secret which will reside on both the HSM and the key (or keys) that is (or are) about to be imprinted. If the answer is YES, then the HSM does not create a new secret and instead waits for one to be presented via the PED. </p>
        <p>The secret (whether from the current HSM or from an inserted PED Key, previously imprinted by another HSM) is presented to the PED. </p>
        <p>If you are using a new secret [ you answered "NO" to the "...reuse..." question ], the PED prompts for a PED PIN, and you provide either a string of digits via the keypad (a PED PIN), or no digits and just a press of "Enter" (no PED PIN). </p>
        <p>If you are reusing an existing secret, then the PED&#160;takes that from the presented PED&#160;Key (including any PED&#160;PIN, which you must know and provide when prompted) and presents that to the HSM. </p>
        <p>At this point, either the secret from the HSM is written to the PED&#160;Key, or the secret from the PED Key (possibly combined with a PED PIN is written to the HSM. If a PED PIN exists, then the secret on the PED Key is modified from the original by combination with the PED PIN, and that modified secret is imprinted upon the HSM - only the unmodified secret on the PED Key, combined with the PED PIN can reproduce the secret that the HSM expects.</p>
        <p>The PED&#160;asks if you will be duplicating this key. Each duplicate can have a different PED PIN (or no PED PIN). </p>
        <p>The same pattern applies for any of the secrets - SO (blue), User/Owner (black), Domain (red), RPK (orange), SRK (purple).</p>
        <h3>Best Practice</h3>
        <p>When you initialize a PED-authenticated HSM (or create a partition, or perform any action that imprints a PED Key), and you choose to associate a PED PIN  with the PED Key secret, you must ensure that the PED PIN will be remembered when it is needed. That normally means writing it down on paper or recording it electronically. This, of course represents a security risk. But it would equally be a security risk to not record the PED PIN and then be unable to remember it. </p>
        <p>Before you tuck that yellow-sticky with the PED PIN into your safe, TRY it once, to verify that you did set the PED PIN that you think you set (or that you correctly recorded what you actually set).</p>
        <p>In the case of a red key, that would mean you would need to attempt a cloning or backup/restore operation before storing your record of the PED PIN.</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>