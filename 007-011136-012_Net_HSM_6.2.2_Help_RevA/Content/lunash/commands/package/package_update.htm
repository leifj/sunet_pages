<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="LunaSH Command Reference Guide|LunaSH Commands|package">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>package update</title>
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">LunaSH Command Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../commands.htm">LunaSH Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="package.htm">package</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">package update</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="kanchor371"></a>package update</h2>
        <p class="TextHeader2">Update 
 an existing secure package on the SafeNet appliance. All packages from SafeNet are signed and encrypted and come with an authcode that must be provided to decrypt and use the package. Use this command to update packages that can be seen when using the “package listfile” command. You can verify a package with the “package verify” command.</p>
        <p class="notepad_note">It is strongly recommended that your SafeNet appliance be connected 
 to an Uninterruptable Power Supply (UPS) when you run this command. There 
 is a small chance that a power failure during the update command could 
 leave the SafeNet appliance &#160;in 
 an unrecoverable condition.</p>
        <p class="notepad_note">If a version of this package is already installed, an error occurs, for example:</p><pre xml:space="preserve">Command failed: RPM update for original filename (fwupK6_real-6.0.9-RC1.i386.rpm)</pre>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>You might need to log into the HSM before you run this command. &#160;<br /></p>
        <h3 class="ntoc">Syntax</h3>
        <p class="code"><b>package update</b> &lt;filename&gt; <b>-authcode</b> &lt;authcode&gt; [<b>-des3</b>] [<b>-useevp</b>]</p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 135px;" />
            <col class="TableStyle-Page-Column-Column1" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Parameter</th>
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Shortcut</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-authcode</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-a</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">Specifies the secure package authorization code provided by SafeNet with the 
 secure package. The authorization code is checked during package installation 
 to ensure that the package was encrypted and signed by SafeNet. <br /> </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-des3</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-d</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">Use DES3 Cipher  for backward compatibility with older secure package updates.<br /><br /></td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1" data-mc-conditions="">
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-useevp</td>
                    <td class="TableStyle-Page-BodyE-Column1-Body1" style="font-weight: bold;">-u</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">Use the OpenSSL EVP (Digital EnVeloPe library) API to decrypt and validate the update package in appliance software without need for HSM SO login. If this option is not specified, the default action is to refer update verification to the HSM. <span style="color: #ffffff;">https://jirahsm.safenet-inc.com:8443/browse/SPCD-5</span> &#160;&#160;</td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1">&lt;filename&gt;</td>
                    <td class="TableStyle-Page-BodyB-Column1-Body1">&#160;</td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">
                        <p>Specifies the name of the package to update. The new version of the package 
 must have been transferred to the SafeNet appliance using   <b>scp</b>. <br /></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example</h3><pre xml:space="preserve">lunash:&gt;hsm login</pre><pre xml:space="preserve">Please attend to the PED...</pre><pre xml:space="preserve">Command Result : 0 (Success)</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">lunash:&gt;package update fwupK6_real-6.10.9.spkg -authcode pHLJtJ7/xJXS/FFK</pre><pre xml:space="preserve">Command succeeded:  decrypt package</pre><pre xml:space="preserve">Command succeeded:  verify package certificate</pre><pre xml:space="preserve">Command succeeded:  verify package signature</pre><pre xml:space="preserve">Preparing packages for installation...</pre><pre xml:space="preserve">fwupK6_real-6.10.9</pre><pre xml:space="preserve">Command Result : 0 (Success)</pre>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>