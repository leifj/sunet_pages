<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Appliance Administration Guide|Configuration without One-step NTLS|[Step 3] Initialize the HSM|Initializing an HSM (PED Authenticated option)">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Initialization - some additional options and description   </title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/List1.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">Appliance Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../../administration/appendix-a_config/appendix-a_old_config_steps.htm">Configuration without One-step NTLS</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="overview_init_hsm.htm">[Step 3] Initialize the HSM</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Options and choices when imprinting a blue (SO) PED Key</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h3>Initialization - some additional options and description   </h3>
        <p>Anywhere there are choices, options abound. Rather than clutter the main initialization instruction page with a variety of possible paths and branches, this section presents some of the other situations that you might encounter while initializing a SafeNet HSM. So, assume that you have issued the <span class="code">hsm init</span> command. The system told you to attend to the SafeNet PED, which you already had connected.</p>
        <p>SafeNet PED demands the first "SO/HSM Admin" PED Key.</p>
        <h4>Insert the Blue PED Key</h4>
        <p>
            <img src="../../Resources/Images/ped_ill/lunaped2_front1.png" style="width: 230px;height: 381px;" />
        </p>
        <p> This table (below) summarizes the steps involving SafeNet PED immediately after you invoke the  command "hsm init...".</p>
        <p>The first column is the simplest, and most like what you would encounter the very first time you initialize, using "fresh from the carton" iKey PED Keys.<br /> <img src="../../Resources/Images/ped/ped-key_so_transparent.png" title="iKey 1000 for use as PED Key with Luna PED 2.x" alt="iKey 1000  is a USB memory stick, for use as PED Key with Luna PED 2.x" style="width: 142px;height: 85px;" /> &#160;</p>
        <p>The next two columns of the table show some differences if you are using previously-imprinted PED Keys, choosing either to reuse what is found on the key (imprint it on your new HSM - see <a href="../../administration/ped_keys/what_is_a_shared_or_group_ped_key.htm">Group PED Keys</a>) or, in the third column example to overwrite what is found and generate a new secret to be imprinted on both the PED Key and the HSM.</p>
        <p>Below the table are some expanded comments about the choices that you might encounter.</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/List1.css');border-left-style: none;border-left-width: 1px;border-right-style: none;border-right-width: 1px;border-top-style: none;border-top-width: 1px;border-bottom-style: none;border-bottom-width: 1px;margin-left: 0;margin-right: auto;caption-side: bottom;" class="TableStyle-List1" cellspacing="0">
            <caption data-mc-autonum="Table 1: "><span class="autonumber"><span>Table 1: </span></span>PED prompt sequences</caption>
            <col style="width: 197px;" class="Column-Column1" />
            <col style="width: 202px;" class="Column-Column1" />
            <col style="width: 182px;" class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">"Fresh" PED Keys</th>
                    <th class="HeadE-Column1-Header1">Pre-used PED Keys <br />(reuse)<br /></th>
                    <th class="HeadD-Column1-Header1">Pre-used PED Keys (overwrite)</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br />SLOT 01<br />SETTING&#160;SO PIN... <br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)<br /><br /><br /></td>
                    <td class="BodyE-Column1-Body1">SLOT 01<br />SETTING&#160;SO PIN... <br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)</td>
                    <td class="BodyD-Column1-Body1">SLOT 01<br />SETTING&#160;SO PIN... <br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="color: #b22222;">[The above question is always asked first. Answering "No" requires the PED to write/overwrite any keys that you present, so it must test and query each time.]</span>
                    </td>
                    <td class="BodyE-Column1-Body1"><span style="color: #b22222;">[The above question is always asked first. Answering "Yes" shortens the sequence. The PED will copy a secret from a PED Key to the HSM, and therefore does not need to overwrite a PED Key.]</span>]</td>
                    <td class="BodyD-Column1-Body1"><span style="color: #b22222;">[The above question is always asked first. If the PED is not told to reuse PED&#160;Keys, then it must overwrite and therefore must test and warn each time. This column is similar to the sequence in the first column, except that the answers to the questions are more important, since the keys to be overwritten already have material on them.]</span>]</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p>SLOT 01<br />SETTING&#160;SO PIN... <br />Insert a SO / <br />HSM Admin <br />PED Key <br />Press ENTER.<br /><br /></p>
                    </td>
                    <td class="BodyE-Column1-Body1">SLOT 01<br />SETTING&#160;SO PIN...        <br />Insert a SO / <br />HSM Admin <br />PED Key <br />Press ENTER.</td>
                    <td class="BodyD-Column1-Body1">Slot 01<br />SETTING&#160;SO PIN... <br />Insert a SO / <br />HSM Admin <br />PED Key <br />Press ENTER.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p>
                            <br />This PED Key<br />is blank.<br />Overwrite? (YES/NO)</p>
                        <p>&#160;</p>
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <p>
                            <br />****Warning!****<br />This PED Key is for<br /> SO / HSM Admin<br />Overwrite? (YES/NO)<br /><br /></p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <br />****Warning!****<br />This PED Key is for<br /> SO / HSM Admin<br />Overwrite? (YES/NO)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="color: #b22222;">[The key is blank, so no harm can be done when you say "Yes" on SafeNet PED to proceed with writing to the key]. Saying "No" would just loop back to the previous prompt.</span>
                    </td>
                    <td class="BodyE-Column1-Body1"><span style="color: #b22222;">[If you respond "</span>NO<span style="color: #b22222;">" the key content is preserved and is imprinted onto the current HSM. This key can now unlock the current HSM and any previous HSM that uses the same secret.</span>]</td>
                    <td class="BodyD-Column1-Body1"><span style="color: #b22222;">[If you respond "</span>YES<span style="color: #b22222;">" the key content is overwritten and can now unlock only this HSM. It is no longer able to unlock any previous HSM or token.]</span></td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p>
                            <br />Enter a new PED PIN<br /><br />Confirm new PED PIN <br /><br /></p>
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <br />Enter a new PED PIN<br /><br />Confirm new PED PIN</td>
                    <td class="BodyD-Column1-Body1">
                        <br />Enter a new PED PIN<br /><br />Confirm new PED PIN</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">You can type a number and press ENTER to impose a PED PIN "something you know", or you can just press ENTER (with no digits) for no PED&#160;PIN (thus nothing to remember in future).</span>
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <p>&#160;</p>
                        <p><span style="color: #b22222;">Same as in first column</span>.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>
                            <br /><span style="color: #b22222;">Same as in first column</span>.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br />Are you duplicating <br />this keyset? &#160;YES/NO <br /><br /></td>
                    <td class="BodyE-Column1-Body1">Are you duplicating <br />this keyset? &#160;YES/NO</td>
                    <td class="BodyD-Column1-Body1">Are you duplicating <br />this keyset? &#160;YES/NO</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">If you respond "YES", you can keep inserting additional blank (or old-to-be-reused) PED Keys to be imprinted with this same secret. If you say "NO", you have just the one key with that secret - don't lose it.</span>
                        <br />
                        <br />
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">Same as in first column</span>.</td>
                    <td class="BodyD-Column1-Body1">
                        <br /><span style="color: #b22222;">Same as in first column</span>.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br />Login SO / HSM Admin...<br />Insert a SO/ <br />HSM Admin <br />PED Key <br />Press ENTER <br /><br /></td>
                    <td class="BodyE-Column1-Body1">
                        <br />Login SO / HSM Admin..<br />Insert a SO/ <br />HSM Admin <br />PED Key <br />Press ENTER</td>
                    <td class="BodyD-Column1-Body1">
                        <br />Login SO / HSM Admin..<br />Insert a SO/ <br />HSM Admin <br />PED Key <br />Press ENTER</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">Having created/imprinted the HSM Admin or SO secret, the HSM now requires you to login, in order to go further. This is a verification step.</span>
                        <br />
                        <br />
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">Same as in first column</span>.</td>
                    <td class="BodyD-Column1-Body1">
                        <br /><span style="color: #b22222;">Same as in first column.</span>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br />SETTING DOMAIN...<br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)<br /><br /></td>
                    <td class="BodyE-Column1-Body1">
                        <br />SETTING DOMAIN...<br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)</td>
                    <td class="BodyD-Column1-Body1">
                        <br />SETTING DOMAIN...<br />Would you  like to <br />reuse an existing <br />keyset? (Y/N)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">The PED prompts in similar fashion to the steps for the HSM Admin/SO key above (overwrite, copy, etc.). </span>
                        <br style="color: #b22222;" /><span style="color: #b22222;">If asked to "Reuse Id", the best option is to say "YES", unless you have good reason to create a new domain not shared with any previous HSM</span>.<br /> <br /><br /></td>
                    <td class="BodyE-Column1-Body1">
                        <br /><span style="color: #b22222;">Here, your response to "Reuse ID?" might or might not be the same as you chose for the blue key, above. You might have good reason to make this HSM part of an existing Domain</span>.</td>
                    <td class="BodyD-Column1-Body1">
                        <br /><span style="color: #b22222;">Here, your response to "Reuse ID?" might or might not be the same as you chose for the blue key, above. You might have good reason to make this HSM part of an existing Domain.</span>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1"><span style="color: #b22222;">HSM Init process is finished.</span>
                    </td>
                    <td class="BodyB-Column1-Body1"><span style="color: #b22222;">HSM Init process is finished.</span>
                    </td>
                    <td class="BodyA-Column1-Body1"><span style="color: #b22222;">HSM Init process is finished</span>.<br /><br /></td>
                </tr>
            </tbody>
        </table>
        <p>Some additional comments about some of the choices:</p>
        <h5>Provide a PED PIN (optional)</h5>
        <p>A PED PIN can be 4-to-16 digits, or can be no digits if a PED PIN is not desired

 
 .</p>
        <p>Enter a PIN if you wish, 
 and press [Enter] to inform SafeNet PED that you are finished entering PED PIN 
 digits, or that you have decided not to use a PED PIN (no digits entered).</p>
        <p>Confirm, 
 by entering the same PIN (or nothing 
 if you did not enter a PIN the first time), 
 and pressing [Enter] again. (When 
 you provide a PED PIN – even if it is the null PIN (by just pressing [Enter] 
 with no digits) – SafeNet PED asks for it a second time, to ensure that you 
 entered it correctly.) </p>
        <p>In future, every time you are required to present that PED Key, you must also enter the PED PIN on the PED keypad - if you created a PED PIN at initialization time, then you must provide that exact PED PIN along with the PED Key, in order to gain access to the HSM. If you did not create a PED PIN when you initialized, then just press [Enter] at the PED prompt when you insert the requested PED Key during login. </p>
        <p>When you are attempting to log in, the PED always asks for a PED PIN, regardless whether or not a real PED PIN&#160;is expected. That's a security feature, similar to password-protected systems that tell you if you have entered incorrect credentials, but don't specify if it was the login name or the password that was individually the faulty part.</p>
        <h5>Duplicating Your PED Key</h5>
        <p>“Are you duplicating this keyset? (Y/N)”</p>
        <p>If you respond “NO”, SafeNet PED imprints just the one blue HSM Admin key (or Domain key (see below)
 and goes on to the next step in initialization of the HSM. </p>
        <p>If you respond “YES”, SafeNet PED imprints the first blue key and then 
 asks for more blue PED Keys, until you have imprinted (duplicated) as 
 many as you require.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>It is recommended to have at least one full backup 
 set of imprinted PED Keys, stored in a safe place, in case of loss or 
 damage to the primary keys. Of course, a backup set does not need to be stored in one location. Your security protocols might require that individual backup PED Keys be stored at separate locations according to role.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>You can also make additional copies of a PED Key at any time, using the PED's own "Admin" menu. This does not require you to log into the HSM or issue commands from the appliance - the PED needs to be connected only to have power supplied to it when you are using the onboard PED menus. One implication of this ability is that you must maintain strict oversight and control of your PED Keys at all times, so that you can be sure that you know how many copies of a given PED&#160;Key exist, where they are, and in whose possession. </p>
        <h5>Creating a Cloning Domain</h5>
        <p>You create the domain for future cloning of the HSM, or you adopt 
 the domain from a previous token or SafeNet HSM, so that the current SafeNet HSM (or token) can clone with the previous. A common domain (common between 
 HSM and Backup HSM) is required for HSM backups.</p>
        <p> If the red PED Key is blank, then SafeNet PED goes ahead and imprints 
 a domain, which is matched on the HSM. <br />However, if SafeNet PED detects that the red PED Key contains data, then SafeNet PED now needs to know: </p>
        <p><span style="font-weight: bold;color: #000080;">a.</span> If the domain data on the key should be preserved as valid, 
 and recorded on the current HSM or token <br />[<b>What to do</b> - This 
 allows the PED Key to work with both the previous and the current HSM 
 or token – that is, they will all share the same cloning/backup domain. 
 Therefore, to preserve the existing domain answer “YES” to “...reuse an existing keyset?”) 

] 
 <br /><br />OR<br /><br /><span style="font-weight: bold;color: #000080;">b.</span> If the domain data that was found on the red key must be 
 overwritten with a new domain that is exclusive to the current HSM or 
 token <br />[<b>What to do</b> - This 
 prevents the red key from working with any previous HSM or token. To overwrite 
 and create a new domain that applies to only this HSM, answer “NO” to 
 “... reuse an existing keyset?”) 

]. 
 </p>
        <p><b>About Backup HSMs</b> - Always choose to 'reuse' when initializing a SafeNet Backup HSM, so that the 
 backup HSM will share the domain with the source SafeNet HSM, and so that the red Domain 
 PED Key remains usable with the SafeNet HSM. (You do not want the red PED 
 Key to be overwritten when creating a backup.)

</p>
        <p>At this point in the process of configuring your SafeNet HSM, you can :</p>
        <p>optionally <a href="../initial_setup/set_hsm_policies_ped_authentication.htm">modify some of the HSM's Policy settings</a> <![CDATA[ ]]></p>
        <p>or</p>
        <p>go directly to "<a href="../partition_create/partition_create.htm">Creating HSM Partitions</a>"</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>