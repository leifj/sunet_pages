<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Utilities Reference Guide|Certificate Management Utility (CMU)">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>cmu selfsigncertificate</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Utilities Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="cmu.htm">Certificate Management Utility (CMU)</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">cmu selfsigncertificate</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="kanchor560"></a><a name="kanchor561"></a>cmu selfsigncertificate</h2>
        <p>This function creates a self-signed X.509 certificate for an RSA, DSA, or ECDSA key 
 pair on the token or HSM. It must be provided with the handles to both 
 the public key and the corresponding private key (all of the public key 
 components are contained within the private key). The private key must 
 have Signing capability since it is used to sign the certificate request 
 structure. The signature is done with any of the mechanisms listed below. The 
 subject name is defined by a series of optional RDN components.</p>
        <p> If none 
 of these components are provided on the command line, the CKA_SUBJECT 
 of the private key is used as the subject of the certificate. If the private 
 key does not have its CKA_SUBJECT attribute set, the user will be queried 
 for each of the RDN components. The Subject DN should contain at least 
 the country, organization and common name components.</p>
        <p> The certificate 
 will, by default, have a keyUsage setting of keycertsign. The certificate 
 is stored as a PKCS #11 certificate object on the token. The CKA_ID attribute 
 of the certificate is defined by an optional parameter. If this parameter 
 is omitted, the CKA_ID of the private key is used. &#160;&#160;</p>
        <h3 class="ntoc">Syntax</h3>
        <p><b>cmu selfSignCertificate</b> &lt;parameters&gt;</p>
        <h3 class="ntoc">Required Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 164px;" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Parameter</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>-publichandle=</b>&lt;pubkeyhandle#&gt;</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> 
 &#160;This is 
 a mandatory parameter that defines the handle to the public key from an 
 RSA key pair to be certified. If this parameter is omitted and there is 
 only one public signing key on the HSM, that key is automatically selected. 
 If this parameter is omitted and there are multiple public signing keys 
 on the HSM, the user is asked to select the public signing key.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>-privatehandle</b>=&lt;privkeyhandle#&gt;</td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> 
 &#160;This is 
 a mandatory parameter that defines the handle to the private key from 
 an RSA key pair to be certified. If this parameter is omitted and there 
 is only one private signing key on the HSM, that key is automatically 
 selected. If this parameter is omitted and there are multiple private 
 signing keys on the HSM, the user is asked to select the private signing 
 key.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-startDate</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 parameter defines the validity start of the certificate, in the format 
 YYYYMMDD.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-endDate</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 parameter defines the validity end of the certificate, in the format YYYYMMDD.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1"><span style="font-weight: bold;">-serialNumber</span>
                    </td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">
                        <p> &#160;This 
 parameter defines the serial number of the certificate, in big-endian 
 hexadecimal form. &#160;&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Optional Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="TableStyle-Page-Column-Column1" style="width: 164px;" />
            <col class="TableStyle-Page-Column-Column1" />
            <thead>
                <tr class="TableStyle-Page-Head-Header1">
                    <th class="TableStyle-Page-HeadE-Column1-Header1">Parameter</th>
                    <th class="TableStyle-Page-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-keyusage</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the key usage extension for the 
 certificate. It can be set to any of the following: digitalsignature, 
 nonrepudiation, keyencipherment, dataencipherment, keyagreement, keycertsign, 
 crlsign, encipheronly, decipheronly. This parameter may appear more than 
 once in the parameter set to define multiple usages, or it can be used 
 once with a comma separated list of usage types. If no key usage is specified, 
 a default setting of keycertsign is used.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-label</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the CKA_LABEL attribute for the 
 certificate object that gets created on the HSM. If omitted, the common 
 name of the issuer and subject DN is used instead.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-id</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the CKA_ID attribute for the certificate 
 object that gets created on the HSM. If omitted, the CKA_ID attribute 
 of the private key is used instead. &#160;&#160;</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-md5WithRsa</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the signature algorithm for the 
 certificate request to be pkcs-1-MD5withRSAEncryption. The default is 
 to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-sha1WithRsa</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the signature algorithm for the 
 certificate request to be pkcs-1-SHA1withRSAEncryption. The default is 
 to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha224withrsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha224withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha256withrsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha256withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha384withrsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha384withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha512withrsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha512withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha1withdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha1withDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha1withecdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha1withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha224withecdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha224withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha256withecdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha256withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha384withecdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha384withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><b>- sha512withecdsa</b>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha512withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-C</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the two-letter country name for the subject 
 distinguished name (DN) and issuer Distinguished Name of the certificate. This parameter should 
 be present in each DN.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-S</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p>This 
 optional parameter defines the state or province name for the subject 
 DN and issuer DN of the certificate. This parameter may be present in 
 each DN.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-L</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160; &#160;This 
 optional parameter defines the locality (typically the city) for the subject 
 DN and issuer DN of the certificate. This parameter MAY be present in 
 each DN.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-O</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160; &#160;This 
 optional parameter defines the organization name for the subject DN and 
 issuer DN of the certificate. This parameter SHOULD be present in each 
 DN.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyE-Column1-Body1"><span style="font-weight: bold;">-OU</span>
                    </td>
                    <td class="TableStyle-Page-BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the organization unit name for the subject 
 DN and issuer DN of the certificate. This parameter MAY be present in 
 each DN.</p>
                    </td>
                </tr>
                <tr class="TableStyle-Page-Body-Body1">
                    <td class="TableStyle-Page-BodyB-Column1-Body1"><span style="font-weight: bold;">-CN</span>
                    </td>
                    <td class="TableStyle-Page-BodyA-Column1-Body1">
                        <p>This 
 optional parameter defines the common name for the subject DN and issuer 
 DN of the certificate. This parameter SHOULD be present in each DN.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example</h3>
        <p>The following example creates a self-signed certificate for RSA key 4:</p><pre xml:space="preserve">cmu selfSign -publichandle=4 â€“privatehandle=5 -C=CA -O=Rainbow-Chrysalis -CN="Test Root Certificate" -startDate=20120101 -endDate=20151231 -serialNum=0133337f</pre>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>