<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Utilities Reference Guide|Pedserver and Pedclient">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title> The pedclient Command</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/Gemalto_Template_Enterprise.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">Utilities Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_client_server.htm">Pedserver and Pedclient</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The pedclient Command</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2> The pedclient Command</h2>
        <h3>General Syntax</h3>
        <p>This is the syntax of the pedClient command, which includes starting and stopping of the service, and an assortment of configuration options. Specify "pedClient" at the command line, plus one of the modes, plus any option applicable to that mode. </p><pre xml:space="preserve">[root@lunaclient101360 bin]# ./pedClient
Ped Client Version 2.0.0 (20000)

        Error: You must specify a mode.

Usage: pedClient [mode] [options...]

   Explanation of the modes:

     To query if a Ped Client is currently running, and to get details about
     the Ped Client, use this command:
        pedClient -m show [ options... ]

     To shut down an existing Ped Client, use this command:
        pedClient -m stop [ options... ]

     To start the Ped Client, use this command:
        pedClient -m start [ options... ]

     To start the Ped Client for Windows service, use this command:
        pedClient -m start -winservice [ options... ]

     To create a PED ID mapping, use this command:
        pedClient -m setid [ options... ]

     To test a PED ID mapping, use this command:
        pedClient -m testid [ options... ]

     To delete a PED ID mapping, use this command:
        pedClient -m deleteid [ options... ]

     To assign a PED ID mapping to an HSM, use this command:
        pedClient -m assignid [ options... ]

     To release a PED ID mapping from an HSM, use this command:
        pedClient -m releaseid [ options... ]

     To show the existing configuration file settings, use this command:
        pedClient -m config -show

     To restore the internal default configuration file settings, use this command:
        pedClient -m config -create

     To modify the existing configuration file settings, use this command:
        pedClient -m config -set [ options... ]

     To view a more detailed description of the Ped Client, use this command:
        pedClient -m desc


   Explanation of the options:

   Any options that are not specified on the command line will be read from
   the config file.  If the config file cannot be found, internal default settings
   will be used.  Invalid options do not generate an error and are ignored.

     -mode &lt;mode&gt;               -&gt; Specifies the mode that the Ped Server will be
                                   executed in.  The supported modes are "start",
                                   "stop", "show", "setid", "testid",
                                   "deleteid", "assignid", "releaseid" and
                                   "config".
     -id                        -&gt; Specifies the PED ID (larger then 0, less then 65535).
                                   Applicable to the "setid", "testid", "deleteid",
                                   "assignid" and"releaseid" modes.
     -id_ip                     -&gt; Specifies the IP or hostname for the PED Server to
                                   be linked to the specified PED ID.
                                   Applicable to the "setid"  mode.
     -id_port                   -&gt; Specifies the port for the PED Server to
                                   be linked to the specified PED ID.
                                   Applicable to the "setid"  mode.
     -id_serialnumber           -&gt; Specifies the serial number of the HSM to be linked
                                   to the specified PED ID.
                                   Applicable to the "assignid" mode.
     -eadmin &lt;0 or 1&gt;           -&gt; Specifies if the administration port is on
                                   "localhost" or listening on the external host
                                   name.
                                   Applicable to "start", "stop", "show" and
                                   "config set" modes.
     -admin &lt;admin port number&gt; -&gt; Specifies the administration port number.
                                   Applicable to "show" and "config set" modes.
     -set                       -&gt; When used with "-config", specifies that the
                                   configuration file should be updated with values
                                   of the other supplied options.
                                   Applicable to "config" mode.
     -show                      -&gt; When used with "-config", specifies that the
                                   contents of the configuration file should be displayed.
                                   Applicable to "config" mode.
     -idletimeout&lt;int&gt;          -&gt; Specifies the idle connection timeout in seconds.
                                   Applicable to "start", "assignid" and "config set"
                                   modes.
     -ignoreidletimeout         -&gt; Specifies that the idle connection timeout should not
                                   apply to the connection established for the specified
                                   PED ID to HSM assignement.
                                   Applicable to "assignid"  and "config set" modes.
     -socketreadtimeout &lt;int&gt;   -&gt; Specifies the socket read timeout in seconds.
                                   Applicable to "start", "stop", "show" and
                                   "config set" modes.
     -socketwritetimeout &lt;int&gt;  -&gt; Specifies the socket write timeout in seconds.
                                   Applicable to "start", "stop", "show" and
                                   "config set" modes.
     -shutdowntimeout &lt;int&gt;     -&gt; Specifies the shutdown timeout in seconds for
                                   internal services.
                                   Applicable to "start", "stop" and
                                   "config set" modes.
     -pstartuptimeout &lt;int&gt;     -&gt; Specifies the startup timeout for the detached
                                   process.
                                   Applicable to "start", "stop" and
                                   "config set" modes.
     -pshutdowntimeout &lt;int&gt;    -&gt; Specifies the shutdown timeout for the detached
                                   process.
                                   Applicable to "start", "stop" and
                                   "config set" modes.
     -loginfo &lt;0 or 1&gt;          -&gt; Specifies if the logger should log "info" messages.
                                   Applicable to all modes.
     -logwarning &lt;0 or 1&gt;       -&gt; Specifies if the logger should log "warning" messages.
                                   Applicable to all modes.
     -logerror &lt;0 or 1&gt;         -&gt; Specifies if the logger should log "error" messages.
                                   Applicable to all modes.
     -logtrace &lt;0 or 1&gt;         -&gt; Specifies if the logger should log "trace" messages.
                                   Applicable to all modes.
     -logfilename &lt;filename&gt;    -&gt; Specifies the log file name.
                                   Applicable to all modes.
     -maxlogfilesize &lt;size&gt;     -&gt; Specifies the maximum log file size in KB
                                   Applicable to all modes.
     -locallogger               -&gt; Specifies that the Remote Ped logger should be used,
                                   not the IS logging system.
                                   Applicable to all modes.

[admin@myluna bin]#
</pre><pre xml:space="preserve">&#160;</pre>
        <p>pedClient must run on any host of an HSM that needs to be served by a Remote PED.</p>
        <p>pedClient must run on any host of a Remote Backup HSM that will be serving remote primary HSMs*. </p>
        <p>* A distant HSM that appears as a crypto slot at the host of the Backup HSM is not considered "remote" in this sense, and so the Backup HSM's host does not need RBS. This would be the case for (say) a SafeNet Network HSM partition where the Remote Backup workstation is a registered client of the partition, and therefore has a Network Trust Link (NTL) with the SafeNet Network HSM appliance. In that case, a lunacm session on the Backup workstation sees the SafeNet Network HSM's partition as just another "local"&#160;slot. A slot-to-slot backup operation launched by lunacm at the Backup workstation is a local operation, as is a restore operation. That client relationship implies that the Backup workstation's administrator is entrusted with the partition authentication (black PED Key, challenge secret, red PED Key) for the partition on that distant SafeNet Network HSM. In many cases, that is a perfectly legitimate assumption. The partition is registered with two "clients" - one is the working, or production client that uses the partition for cryptographic operations; the other is the Backup workstation that connects with the partition only when it is time to perform backup or restore activity.</p>
        <p>If, instead, the administrator of the Remote Backup HSM was not entrusted with the authentication secrets of the distant HSM partition, then the administrator could still perform a backup, but it would proceed differently. The backup administrator could connect by SSH&#160;or RDP session to a legitimate client computer and use lunacm at that client to launch the backup. The client, already authenticated to the activated SafeNet Network HSM partition would see the partition as a local slot, but would see the backup HSM and its attached SafeNet Remote Backup HSM only through the intermediary Remote Backup Service (rbs) running on that Backup workstation and conversing with the distant client computer by means of pedClient instances at each end. This is one version of the method used when the organization (or its customer) prefers a strict separation of roles. </p>
        <p>A variant of the RBS method might work from the other direction, with the owner of the client computer doing the work, and the owner of the administrative/backup workstation simply allowing the client to take over the admin/backup workstation for the duration of the backup-or-restore operation. In either case, RBS must reside on the computer with the SafeNet Remote Backup HSM attached, and pedClient must run on both. </p>
        <p>The various methods have their place, depending on your organization's structure and security protocols.</p>
        <p>See <a href="../../administration/backup/remote_app_partition.htm" class="MCXref xref">Remote Application-Partition Backup and Restore Using the Backup HSM</a><a href="../../administration/backup/remote_app_partition/prepare_rbs_for_backup-restore.htm" class="MCXref xref"> <![CDATA[ ]]></a>in the <i>Administration Guide</i> for more information. </p>
        <h3>PedClient on SafeNet Network HSM</h3>
        <p>PedClient exists on the SafeNet Network HSM appliance, but is not directly exposed. Instead, the relevant features are accessed via lunash <b>hsm ped</b> commands. </p>
        <p>&#160;</p>
        <p class="footer"><span class="DefaultProduct">SafeNet Network HSM</span> <span class="DefaultRelease">6.2.2</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-012</span> <span class="DefaultRevision">Rev. A</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultDateLong">01 December 2016</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span> <span class="DefaultCopyright">Copyright 2001-2016</span>&#160;<span class="DefaultCompanyNameLong">Gemalto</span> <span style="color: #5e5e5c;"><![CDATA[  ]]></span>All rights reserved. </p>
    </body>
</html>