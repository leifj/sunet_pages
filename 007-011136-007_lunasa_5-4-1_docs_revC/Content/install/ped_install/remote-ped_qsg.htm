<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Installation Guide|Luna Remote PED Installation and Configuration">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Installing and Configuring a Luna Remote PED</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#install/ped_install/remote-ped_qsg.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">Installation Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_install.htm">Luna Remote PED Installation and Configuration</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Installing and Configuring a Luna Remote PED</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak">Installing and Configuring a Luna Remote PED</h2>
        <p>The standard Luna PED is intended to connect directly to the HSM appliance, and receives its power, as well as instructions and data via that connection. The Remote PED can act as a local PED, when needed, and connects as described previously. When used in Remote PED mode, the Luna PED 2 connects to a computer via USB, and therefore requires some additional hardware.</p>
        <p>Remote PED can be distinguished from local PED by:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	the words <b>Remote PED Capable</b> on the back label &#160;</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	availability of menu item <b>[7] Remote PED</b> from the PED's main menu.</p>
        <h3>Required Items</h3>
        <p>The following items are included with your Remote PED. All are required for a successful installation.</p>
        <table style="border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;caption-side: top;width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col style="width: 66px;" class="Column-Column1">
            </col>
            <col class="Column-Column1">
            </col>
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Quantity</th>
                    <th class="HeadD-Column1-Header1">Item</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">&#160;1&#160;</th>
                    <td class="BodyD-Column1-Body1">
                        <p> Luna PED 2 (Remote PED Capable and with firmware 2.5.0-3 or greater)</p>
                        <p>
                            <img src="../../Resources/Images/lunaped-upright_angled.jpg" />
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">1</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Luna PED Power Supply kit with replaceable mains plug modules for international use (for Remote PED operation)</p>
                        <p>
                            <img src="../../Resources/Images/ped_power_supply.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">1</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Cable, USB 2.0, Type A to Mini B connectors (for Remote PED operation).</p>
                        <p>
                            <img src="../../Resources/Images/ped_usb-cable.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">1</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Cable, Data, 9-pin, Micro-D to Micro-D connectors (for local PED operation).</p>
                        <p>
                            <img src="../../Resources/Images/ped_data-cable.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyB-Column1-Body1">1</th>
                    <td class="BodyA-Column1-Body1">
                        <p>Ten-pack of ikey 1000 PED Keys, and sheets of peel-and-stick labels</p>
                        <p>
                            <img src="../../Resources/Images/ped-key_and_labels.png">
                            </img>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3>Remote PED Setup</h3>
        <p>The Remote-Capable PED can be used either locally, connected directly to a SafeNet HSM (exactly as for the standard PED), or remotely when connected to a suitable workstation and to the electrical main power supply.</p>
        <p>The normal local use of a PED with Remote PED capability is to use it in local mode to prepare an HSM  (imprint an RPK vector – the orange key) before shipping it to its remote location. Then you can  switch to Remote PED mode.</p>
        <h5>To configure the remote PED</h5>
        <table style="border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;caption-side: top;width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col style="width: 46px;" class="Column-Column1">
            </col>
            <col class="Column-Column1">
            </col>
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Step</th>
                    <th class="HeadD-Column1-Header1">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyE-Column1-Body1">&#160;1&#160;</th>
                    <td class="BodyD-Column1-Body1">
                        <p> Local OPERATION [Ongoing]</p>
                        <p>To use your HSM appliance and PED for local operation only, refer to the instructions accompanying your HSM, on the Luna SA documentation CD (begin by browsing the START_HERE.html page and selecting Help).</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyE-Column1-Body1">2</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Local OPERATION [Preparing for Remote Use]</p>
                        <p>To prepare an HSM for Remote PED operation, it needs a minimum of preparation as described in this section, below.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyE-Column1-Body1">3</th>
                    <td class="BodyD-Column1-Body1">
                        <p>[Preliminary] Copy the PED USB driver from /USBDriver folder on the Luna PED software CD (or in the archive [tar] if you received via download) to the workstation computer that will act as the PED server to your remotely located SafeNet HSM appliances and let the Windows “Found New Hardware” dialog install it).</p>
                        <p>Install PEDserver.exe software to any convenient directory on that same computer by copying it from the /Windows folder of the CD (or the archive [tar]).</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyE-Column1-Body1">4</th>
                    <td class="BodyD-Column1-Body1">
                        <p>[Preliminary] Configure your HSM appliance for your network. Refer to the other product documentation that you have received separately – in the form of WebHelp on the Luna SA documentation CD.</p>
                        <p>Imprint the HSM with a Remote PED Key (orange); see below. Once the appliance can be reached via SSH and the HSM is associated with an orange PED Key, all further configuration and administration can be performed remotely.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyE-Column1-Body1">5</th>
                    <td class="BodyD-Column1-Body1">
                        <p>&#160;</p>
                        <p>To use the PED locally (for first orange PED Key imprint), connect the PED directly to the PED port of the HSM that you will later be using remotely.</p>
                        <p>
                            <img src="../../Resources/Images/sa5_connect_ped.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th style="text-align: center;" class="BodyB-Column1-Body1">6</th>
                    <td class="BodyA-Column1-Body1">
                        <p>On power-up, the PED defaults to local mode. Follow the instructions in the SafeNet HSM documentation to:</p>
                        <p>
                            <img src="../../Resources/Images/ped_connected_and_live.png">
                            </img>
                        </p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	log in as “admin” to the appliance (SSH session or local serial connection) &#160;&#160;</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	issue the Luna shell command “hsm ped vector init”, inserting a blank (orange-labeled) PED Key into the PED, when prompted OR inserting an already-imprinted orange PED Key and select “re-use” at the PED prompt &#160;&#160;</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	bring the imprinted (orange) Remote PED Key to your workstation, along with a Remote-capable PED &#160;&#160;</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>	the HSM appliance can now be shipped to its remote locale</p>
                        <p>You can perform other maintenance at this time, if convenient, but only the foregoing steps were required to be done locally - all future configuration and administration can be performed remotely.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h5>To use the Remote PED</h5>
        <p>Once an HSM has been imprinted with a Remote PED Key (RPK) vector, you can begin administering remotely, while also authenticating remotely from any workstation that has PEDServer software and driver, a remote-capable PED, and an orange PED Key with the correct RPK  (that you just imprinted in the previous steps).</p>
        <table style="border-left-style: solid;border-left-width: 1px;border-left-color: #000000;border-right-style: solid;border-right-width: 1px;border-right-color: #000000;border-top-style: solid;border-top-width: 1px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #000000;caption-side: top;width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col style="width: 45px;" class="Column-Column1">
            </col>
            <col class="Column-Column1">
            </col>
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Step</th>
                    <th class="HeadD-Column1-Header1">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">&#160;1&#160;</th>
                    <td class="BodyD-Column1-Body1">
                        <p>REMOTE OPERATION Perform the following steps to begin using your computer as a PED Server Workstation, connecting remotely to the distant HSM appliance.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">2</th>
                    <td class="BodyD-Column1-Body1">
                        <p>[Prepare the PED Power Supply]</p>
                        <p>On the PED power supply, slide the release catch as shown by the heavy arrow, and lift the pin protector (thinner arrow) from the power supply.</p>
                        <p>
                            <img src="../../Resources/Images/ped_power_supply_prepare.png">
                            </img>
                        </p>
                        <p>
                            <br />The pin protector was used during shipment only.<br /></p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">3</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Choose a plug style that is appropriate for your country and place it in the power supply,  top end first, then snap the bottom end in the direction indicated by the arrow.</p>
                        <p>
                            <img src="../../Resources/Images/ped_power_supply_fit_plug.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">4</th>
                    <td class="BodyD-Column1-Body1">
                        <p>For Remote PED operation:</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>connect the power supply to the AC mains, &#160;</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>connect the DC power plug of the power supply to the DC power receptacle on the top of the PED,</p>
                        <p>
                            <img src="../../Resources/Images/ped_connect_cables_for_remote.png">
                            </img>
                            <br>
                            </br>
                        </p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>connect the USB cable between the USB micro connector on the PED and a USB socket on your computer.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">5</th>
                    <td class="BodyD-Column1-Body1">
                        <p>At the workstation-connected PED:</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>press [ &lt; ] on the PED keypad to exit Local mode,</p>
                        <p>&#160;</p>
                        <p>
                            <img src="../../Resources/Images/ped_press_7_273x306.png" style="width: 273;height: 306;">
                            </img>
                        </p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>press [ 7 ] to enter Remote PED mode.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">6</th>
                    <td class="BodyD-Column1-Body1">
                        <p>In a command-prompt window on the workstation start the PEDserver program in its listening mode c:\&lt;yourRemotePED-dir&gt;\pedserver -m start &#160;&#160;</p>
                        <p>
                            <img src="../../Resources/Images/ped_start_server_418x302.png" style="width: 418;height: 302;">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">7&#160;</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Run the command <span class="code">pedserver –m show</span> to verify that the PED is detected, and the system is ready for remote connection.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">8</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Start the PED Client - the Remote PED enabling process on the appliance (for example):</p>
                        <p><span class="code">lunash:&gt; hsm ped connect -ip 192.2.12.16 - port 1503</span> <![CDATA[ ]]></p>
                        <p>The Remote PED Client in the HSM appliance connects with the listening PEDserver (your workstation).</p>
                        <p>
                            <img src="../../Resources/Images/ped_connect_command_504x396.png" style="width: 504;height: 396;">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">9</th>
                    <td class="BodyD-Column1-Body1">
                        <p>When the PED prompts for an “rpk”, insert the imprinted Remote PED Key associated with the connecting HSM appliance, and press [Enter].</p>
                        <p>
                            <img src="../../Resources/Images/ped_rpk_prompt.png">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyE-Column1-Body1">10</th>
                    <td class="BodyD-Column1-Body1">
                        <p>Verify the Remote PED connection by performing an HSM login - the luna shell refers you to the PED.  The Remote PED at your workstation prompts you to insert the blue SO PED Key(s) and press [Enter].</p>
                        <p>A successful login confirms that the Remote PED connection is running properly.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <th class="BodyB-Column1-Body1">11</th>
                    <td class="BodyA-Column1-Body1">
                        <p>Begin using and administering the remotely located SafeNet HSM appliance via ssh session, and providing PED Key authentication via the workstation-connected Remote PED, whenever requested. Review the Luna SA Help for information about timeouts with respect to Remote PED.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#install/ped_install/remote-ped_qsg.htm">Open topic with navigation</a>
        </p>
    </body>
</html>