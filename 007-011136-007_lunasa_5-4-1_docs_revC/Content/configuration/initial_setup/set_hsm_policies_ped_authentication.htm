<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.notPCI,Primary.Online,Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Configuration Guide|[Step 3] Set HSM Policies">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Set HSM Policies (Trusted Path Authentication)</title>
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#configuration/initial_setup/set_hsm_policies_ped_authentication.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Configuration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="about_hsm_capabilities_and_policies.htm">[Step 3] Set HSM Policies</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Set HSM Policies (PED Authentication)</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor39"></a>Set HSM Policies - PED (Trusted Path) Authentication</h2>
        <p>Set any of the alterable policies that are to apply to the HSM.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span><a name="kanchor40"></a>Capability vs Policy Interaction<br />Capabilities identify the purchased features of the product and are set 
 at time of manufacture. Policies represent the HSM Admin’s enabling (or restriction) of those features.</p>
        <p class="ol1" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>Type the <span style="font-family: 'Courier New', monospace;">hsm showPolicies</span> 
 command, to display the current policy set for the HSM.</p><pre xml:space="preserve">lunash:&gt; hsm showPolicies</pre><pre xml:space="preserve">HSM Label:   mysa5hsm</pre><pre xml:space="preserve">Serial #:    700022</pre><pre xml:space="preserve">Firmware:    6.2.1</pre><pre xml:space="preserve">The following capabilities describe this HSM, and cannot be altered <br />except via firmware or capability updates.</pre><pre xml:space="preserve"><span class="code">Description</span> 					<span class="code">Value</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">===========</span> 					<span class="code">=====</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Enable PIN-based authentication</span> 		<span class="code">Disallowed</span></pre><pre xml:space="preserve"><span class="code">Enable PED-based authentication</span> 		<acronym class="code">Allowed</acronym> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Performance level</span> 				<span class="code">15</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Enable domestic mechanisms &amp; key sizes</span> 	<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable masking</span> 				<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable cloning</span> 				<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable special cloning certificate</span> 		<span class="code">Disallowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable full (non-backup) functionality</span> 	<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable ECC mechanisms</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable non-FIPS algorithms</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable SO reset of partition PIN</span> 		<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable network replication</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable Korean Algorithms</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">FIPS evaluated</span> 				<span class="code">Disallowed</span></pre><pre xml:space="preserve"><span class="code">Manufacturing Token</span> 				<span class="code">Disallowed</span></pre><pre xml:space="preserve"><span class="code">Enable Remote Authentication</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable forcing user PIN change</span> 		<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable portable masking key</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable partition groups</span> 			<span class="code">Disallowed</span></pre><pre xml:space="preserve"><span class="code">Enable Remote PED usage</span> 			<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable external storage of MTK split</span> 		<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">HSM non-volatile storage space</span> 		<span class="code">2097152</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable HA mode CGX</span> 				<span class="code">Disallowed</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Enable Acceleration</span> 				<span class="code">Allowed</span>&#160;</pre><pre xml:space="preserve"><span class="code">Enable unmasking</span> 				<span class="code">Allowed</span>&#160;</pre>
        <p>&#160;</p>
        <p class="code"><a name="kanchor41"></a>The following policies are set due to current configuration of&#160;<br />this HSM and cannot be altered directly by the user.</p><pre xml:space="preserve"><span class="code">Description</span>			<span class="code">Value</span></pre><pre xml:space="preserve"><span class="code">===========</span> &#160;			<span class="code">=====</span></pre><pre xml:space="preserve"><span class="code">PED-based authentication</span> 	<span class="code">True</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Store MTK split externally</span> 	<span class="code">False</span> <![CDATA[ ]]></pre>
        <p class="code">&#160;</p><pre xml:space="preserve">The following policies describe the current configuration of&#160;<br />this HSM and may by changed by the HSM Administrator.</pre><pre xml:space="preserve">Changing policies marked "destructive" will zeroize (erase&#160;<br />completely) the entire HSM.</pre>
        <p class="code">&#160;</p><pre xml:space="preserve"><span class="code">Description</span>					<span class="code">Value</span> <span class="code">Code</span> <span class="code">Destructive</span></pre><pre xml:space="preserve"><span class="code">===========</span> 					<span class="code">=====</span> <span class="code">====</span> <span class="code">===========</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow masking</span> 				<span class="code">On</span> 	<span class="code">6</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow cloning</span> 				<span class="code">On</span> 	<span class="code">7</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow non-FIPS algorithms</span> 			<span class="code">On</span> 	<span class="code">12</span>&#160;	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">SO can reset partition PIN</span> 			<span class="code">On</span> 	<span class="code">15</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow network replication</span> 			<span class="code">On</span> 	<span class="code">16</span> 	<span class="code">No</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow Remote Authentication</span> 			<span class="code">On</span> 	<span class="code">20</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Force user PIN change after set/reset</span>&#160;	<span class="code">Off</span> 	<span class="code">21</span> 	<span class="code">No</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow off-board storage</span> 			<span class="code">On</span> 	<span class="code">22</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow remote PED usage</span>&#160;			<span class="code">On</span> 	<span class="code">25</span> 	<span class="code">No</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow acceleration</span> 				<span class="code">On</span> 	<span class="code">29</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre><pre xml:space="preserve"><span class="code">Allow unmasking</span> &#160;				<span class="code">On</span> 	<span class="code">30</span> 	<span class="code">Yes</span> <![CDATA[ ]]></pre>
        <p class="code">&#160;</p><pre xml:space="preserve">Command Result : 0 (Success)<br />[myluna] lunash:&gt;</pre>
        <p class="code">&#160;</p>
        <p>According to the above example, the fixed capabilities require that 
 this HSM be protected at FIPS 140-2 level 3, meaning that the&#160;PED 
 and PED&#160;Keys are required for authentication, and values typed from 
 a keyboard are ignored.</p>
        <p>The alterable policies have numeric codes. You can alter a policy with 
 the <span style="font-family: 'Courier New', monospace;">hsm changePolicy</span> 
 command, giving the code for the policy that is to change, followed by 
 the new value.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>The FIPS 140-2 standard mandates a set of 
 security factors that specify a restricted suite of cryptographic algorithms.&#160;&#160;The HSM is designed to the standard, but can permit activation 
 of additional non-FIPS-validated algorithms if your application requires 
 them.&#160;The example listing above indicates that non-validated algorithms 
 have been activated. The HSM is just as safe and secure as it is with the additional algorithms switched off. The only difference is that an auditor would not validate your configuration unless the set of available algorithms is restricted to the approved subset.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>In order to change 
 HSM policies, the HSM Administrator must first login. <span style="font-family: 'Courier New', monospace;"><br />lunash:&gt; hsm login</span><br /><br />(If you are not logged in, the above command begins the login process, 
 directing you to the&#160;PED. If you are already logged in, the 
 Luna SA tells you so, with an error message, that you can ignore.) 
 &#160;<br />Control is passed to the&#160;PED, which prompts you for the blue 
 PED&#160;Key. <br />Insert the appropriate PED&#160;Key for this HSM, and press [ENT] on 
 the&#160;PED keypad. </p>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>If you need to 
 modify a policy setting to comply with your operational requirements, 
 type: <span style="font-family: 'Courier New', monospace;"><br />lunash:&gt; hsm changePolicy -policy &lt;policyCode&gt; 
 -value &lt;policyValue&gt;</span><br /><br />As an example, change code 15 from a value of 1 (On) to 0 (Off).</p>
        <h5>Example – Change of HSM Policy</h5><pre xml:space="preserve">lunash:&gt; hsm changePolicy -policy 15 -value 0</pre>
        <p class="code">&#160;</p>
        <p>That command assigns a value of zero (0) to the “HSM Admin can reset 
 partition PIN” policy, turning it off.</p>
        <p class="warning" data-mc-autonum="&lt;b&gt;WARNING!&lt;/b&gt; &#160;"><span class="autonumber"><span><b>WARNING!</b> &#160;</span></span>The above example is a change to a destructive 
 policy, meaning that, if you apply this policy, the HSM is zeroized and 
 all contents are lost. For this reason, you are prompted to confirm if 
 that is what you really wish to do. You must now re-initialize the HSM.&#160;<br /><br />While this is not an issue when you have just initialized 
 an HSM, it may be a very important consideration if your HSM system has 
 been in a “live” or “production” environment and the HSM contains useful 
 or important data, keys, certificates.</p>
        <p>If you have been following the instructions on this page as part of 
 setting up a new HSM system, then the next step is to create virtual 
 HSMs or HSM Partitions on the HSM that you just configured. Click the 
 following link: &#160;&#160;<a href="about_creating_a_partition_ped.htm">Create 
 Partition (Trusted Path Authentication)</a></p>
        <p class="notepad_note">Luna&#160;SA 5 does not currently have a secure identity management (SIM) configuration. &#160;Certain HSM policy settings exist to enable migration from Luna&#160;SA 4.x to Luna&#160;SA 5.x, specifically the “Enable masking” and “Enable portable masking key” values.</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#configuration/initial_setup/set_hsm_policies_ped_authentication.htm">Open topic with navigation</a>
        </p>
    </body>
</html>