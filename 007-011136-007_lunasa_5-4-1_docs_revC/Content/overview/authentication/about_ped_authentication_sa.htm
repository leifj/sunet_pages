<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.LunaIS,Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Product Overview|Luna HSM Authentication Variants">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>About PED  Authentication</title>
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#overview/authentication/about_ped_authentication_sa.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Product Overview</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="authentication.htm">Luna HSM Authentication Variants</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">About PED  Authentication</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor3"></a><a name="kanchor4"></a>About PED  Authentication</h2>
        <p>
            <img src="../../concepts/lunaped2_front.png" style="border: none;margin-right: 10px;margin-bottom: 10px;border-style: none;float: left;border-style: none;float: left;" align="left" border="0" title="Front-view drawing of Luna PED" /> &#160;&#160;&#160;<img src="../../Resources/Images/blank_ped-key_no_background_137x82.png" style="border: none;float: none;border-style: none;border-style: none;width: 137;height: 82;" border="0" title="Blank PED Key before labelling or imprinting" alt="A picture of an iKey PED Key, with no label." /> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>This section applies to versions of SafeNet HSM that control access via 
 Trusted Path Authentication - that is,&#160;HSMs that control access 
 by means of the <a name="kanchor5"></a><a name="kanchor6"></a> PED and PED Keys, 
 rather than by typed-in text strings. For Luna HSMs, this is sometimes referred to as "FIPS 140-2 Level 3" or simply "FIPS Level 3" or "FIPS 3" authentication. </p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>If you did not receive a Luna PED and PED 
 Keys, then your Luna HSM probably uses Password Authentication, and not 
 Trusted Path Authentication (verify with the <code>hsm 
 displayLicenses</code> command), and the pages in this section do not 
 apply to you. See <a href="about_password_authentication_sa.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"About Password Authentication"</span></a>, 
 instead. &#160;<br /><br />You can also verify the type of a Luna HSM by running the <code>hsm showPolicies</code> command. The output includes these lines near the top:<br style="mc-tag-and-class: ;" /><code>Description &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;                             Value    </code><br style="mc-tag-and-class: code;" /><code>=========== &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;                             =====    </code><br style="mc-tag-and-class: code;" /><code>Enable PIN-based authentication          &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Disallowed    </code><br style="mc-tag-and-class: code;" /><code>Enable PED-based authentication &#160;&#160;&#160;&#160;         &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Allowed</code><br />&#160;<br />The above result is from a PED-authenticated HSM. <br />A Password-authenticated HSM would show:<br style="mc-tag-and-class: ;" /><code>Description &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;                             Value    </code><br style="mc-tag-and-class: code;" /><code>=========== &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;                             =====    </code><br style="mc-tag-and-class: code;" /><code>Enable PIN-based authentication &#160;&#160;&#160;&#160;&#160;         &#160;&#160;&#160;&#160;&#160;&#160;Allowed    </code><br style="mc-tag-and-class: code;" /><code>Enable PED-based authentication &#160;&#160;&#160;&#160;&#160;Disallowed</code> <br />&#160;<br /></p>
        <h3>PED Connections</h3>
        <p>The Trusted Path is the connection between the Luna PED and the Luna 
 HSM. </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;" data-mc-conditions="HSM5conditions.SA"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For Luna SA, the PED connection is on the appliance front panel. </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;" data-mc-conditions="HSM5conditions.PCI-E"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For Luna PCI-E, the PED connection is a slot-edge connector, directly on the HSM card, accessible at the exterior of a tower or server computer (not through the host computer).</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For Luna G5, the PED connection is an external connection to the device (not through the host computer). </p>
        <p>For local PED, the connection is a secure physical link, directly to the HSM, bypassing the computer memory and bus. For Remote PED, the connection is a cryptographically secured link across the network - when credentials travel between PED and HSM, they are encrypted throughout the journey. At no time does an authentication secret exist in-clear, anywhere in computer memory or on any computer bus. </p>
        <p>In general, there are three paths to access the Luna HSM:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the administrative path, 
 via SSH or via local serial link, which uses the <span style="font-family: 'Courier New', monospace;">lunash</span> 
 command-line interface</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Client path, via 
 TLS (our implementation is called NTLS), by which client applications use the SafeNet HSM API to perform cryptographic 
 functions within pre-assigned virtual HSMs (called Partitions) on the 
  HSM</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>the Trusted Path, used 
 for authentication data passed from the PED and PED Keys - this path 
 ensures that HSM authentication data does not pass unencrypted through a host or terminal 
 computer, where it might be subject to attack.</p>
        <h3>Roles</h3>
        <p>For SafeNet HSM with Trusted Path Authentication, 
 the various layered roles are protected by a combination of PED Keys 
 and passwords: &#160;&#160;</p>
        <h4>Appliance Admin (Luna SA only)</h4>
        <p>&#160;When you login to the Luna appliance via lunash the accepted IDs are "admin" which requires the admin password,  "operator", which requires the operator password, or "monitor"  which requires the monitor password. (Named users can later be added with admin, operator, or monitor authority.) The password is typed at the command line (operator and monitor are restricted identities that have access to subsets of the lunash command set used by admin). </p>
        <p>As the appliance admin, you can connect and log  in locally, via a serial terminal, or remotely via SSH. With no further authentication, admin can perform general, appliance-level administration (not accessing the HSM), and can run view/list/show/display commands on the HSM that do not make changes. </p>
        <p>Admin sees the full available command set, while operator- and monitor-level users see only subsets. &#160;&#160;</p>
        <p>If any administrative user attempts an HSM command that needs authentication, the interface prompts for that authentication. On PED-authenticated systems, you are directed to the PED, which prompts for PED Keys and keypad actions. &#160;&#160;</p>
        <p>EXCEPTION: You can also log in through the local (serial link) console connection as an identity called "recover" (password "PASSWORD").</p>
        <h4>HSM Admin or Security Officer</h4>
        <p>To access the HSM to perform HSM-specific administration tasks (set HSM-wide policies, update firmware and capabilities, backup and restore the HSM, create and remove HSM Partitions, etc.), you must first be  authenticated as SO or HSM Admin (of which there can be only one per Luna HSM). </p>
        <p>The authentication data for SO/HSM Admin is not a password. It is a secret carried on a blue PED Key. </p>
        <p>For the SO to login and issue HSM commands, someone must be present at the connected local Luna PED, or at the configured Remote Luna PED, to insert the required blue PED Key, when prompted. Otherwise, HSM commands cannot be used. </p>
        <p>Thus, anyone wishing to issue HSM-wide administrative commands to the Luna appliance must be present in the room with the Luna PED, and must have the cooperation of the SO/HSM Admin blue PED Key holder (who, in turn, needs physical access to the connected Luna PED). </p>
        <p>The options are to perform such authentication via a PED&#160;connected physically to the HSM appliance, or to perform authentication via a PED connecting through a secured Remote PED connection.</p>
        <h4>Partition  User (or Crypto Officer)</h4>
        <p> To access HSM Partitions to perform Partition-specific administration tasks, such as </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>set Partition-specific policies</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>assign Partition to Clients </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>revoke Clients, etc. </p>
        <p>You must be authenticated as Partition User (of which there can be one per HSM on Luna&#160;PCI-E or Luna&#160;G5, or there can be several on Luna&#160;SA -- one for each Partition in the HSM), and for that you use the Partition User black PED Key. </p>
        <p>The authentication data for Partition User (also known as Crypto Officer in some security and authentication schemes) is both a password and a secret carried on a black PED Key. As the Partition User/Crypto Officer, you can connect locally, via a serial terminal, or remotely via SSH. To perform Partition administration on Luna&#160;SA, you must first be logged in as admin to have access to <b>lunash</b> commands. </p>
        <p>For Luna&#160;PCI-E and Luna&#160;G5, you simply need access to the host computer, where you can use <b>lunacm</b> commands. For the Partition User/Crypto Officer to login and issue Partition administration commands, someone must be present at the connected Luna PED (or the configured and validated Remote PED) to insert the required black PED Key, when prompted or the Partition must have been left in Activated state. Otherwise, Partition administration commands cannot be used.</p>
        <p>If you have invoked the Crypto Officer/Crypto User distinction, then there are two Partition Passwords, but only the Crypto Officer password allows you to run <b>lunash</b> or <b>lunacm</b> commands to administer the Partition. The Crypto User password allows only a limited set of cryptographic activities via a Client application. </p>
        <p>For Luna SA, good security practices suggest that the Partition Password should be different than the appliance admin password and different than other Partition Passwords (for other Partitions). If Crypto Officer/Crypto User are in force, then their passwords should differ as well. However, your corporate policies might vary.</p>
        <h4><b>Client  (or Crypto User)</b> <![CDATA[ ]]></h4>
        <p>To access HSM Partitions with an application to perform cryptographic operations on data, (for Luna&#160;SA only, requires that you connect remotely via SSL as a Client that has been registered by certificate exchange and assigned by the Partition User to this Partition ), you must pass a User-type (this is done invisibly by your client application), and present the Partition Password (also done automatically by your application). </p>
        <p>At this point, the two models diverge: &#160;&#160;</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For a standard "Client", the password is the same Partition Password that is used by the Partition User for the particular Partition. What limits the scope of operations that a registered, authenticated Client can perform on a Partition on Luna SA is the fact that Partition administrative commands can be issued only via <code>lunash</code>. Thus, for security, Clients should not be allowed to learn the appliance admin password (for Luna SA) that gives access to <code>lunash</code> command line. &#160; For Luna PCI-E and Luna G5, the password or other authentication that gives access the client application (that uses the HSM for crypto operations) is often the same authentication that gives access to <code>lunacm</code> for partition administration, so the ability to keep roles separate is more dependent on control of PED Keys.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>For a Crypto User client, the password is different from the Crypto Officer password, offering another layer of protection for the Partition and its contents.</p>
        <h3>Summary</h3>
        <p style="margin-left: 0px;">Objects on the HSM are encrypted by the owner of the HSM Admin space [rarely] or of the User space (partition), and can be decrypted and accessed only by means of the specific secret injected from the blue PED Key (HSM Admin) or the black PED Key (User) respectively.</p>
        <p style="margin-left: 0px;">If you cannot present the secret (the PED Key) that encrypted the objects, then the HSM is just a secure storage device to which you have no access, and those objects might as well not exist.</p>
        <h3>Audit</h3>
        <p style="margin-left: 0px;">Not mentioned above is the Auditor. This role combines a special, limited-access appliance account, and a special HSM role (authenticated by the white PED Key), for the purpose of managing HSM audit logs. These roles are distinct and separate from other roles on the appliance and the HSM, conforming to the requirements of auditing standards.</p>
        <h3>Using Luna&#160;PED Remotely</h3>
        <p>By default, Luna&#160;PED is connected locally, and powered by the HSM using one cable. However, Luna&#160;PED can also be used remotely from the HSM or HSMs for which it manages access control. See <a href="about_remote_ped.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"About Remote PED"</span></a>. </p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#overview/authentication/about_ped_authentication_sa.htm">Open topic with navigation</a>
        </p>
    </body>
</html>