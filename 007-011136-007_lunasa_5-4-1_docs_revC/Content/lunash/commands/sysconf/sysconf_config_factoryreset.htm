<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="LunaSH Command Reference Guide|LunaSH Commands|sysconf">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>sysconf config factoryreset</title>
        <link href="../../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../index.html#lunash/commands/sysconf/sysconf_config_factoryreset.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">LunaSH Command Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../commands.htm">LunaSH Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="sysconf.htm">sysconf</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">sysconf config factoryreset</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="kanchor421"></a>sysconf config factoryreset</h2>
        <p>Reset the appliance to the settings created at the factory. This is the same action as running the "sysconf config restore" command on the 'factoryInit_local_host..." file. You can specify any individual service's configuration, or just reset all of them to the initial factory settings with the '-all' option. This reset is for the configurations of the indicated services and does not affect the HSM.</p>
        <p>This command affects appliance settings external to the HSM. To reset the HSM, use <b>hsm factoryReset</b> (which can be run from a local serial console only).</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>To reset the configuration for the NTLS service, you must first stop this service (<b>service stop ntls</b>).</p>
        <h3 class="ntoc">Syntax</h3>
        <p><b>sysconf config factoryReset -service</b> &lt;service&gt; [<b>-force</b>]</p>
        <table class="TableStyle-Page" style="caption-side: top;width: 100%;mc-table-style: url('../../../Resources/TableStyles/Page.css');" cellspacing="0">
            <col class="Column-Column1" style="width: 191px;" />
            <col class="Column-Column1" style="width: 205px;" />
            <col class="Column-Column1" style="width: 370px;" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1" style="text-align: left;">Parameter</th>
                    <th class="HeadE-Column1-Header1" style="text-align: left;">Shortcut&#160;&#160;&#160;&#160;&#160;</th>
                    <th class="HeadD-Column1-Header1" style="text-align: left;">Description &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1" style="font-weight: bold;">-force &#160;&#160;&#160;</td>
                    <td class="BodyE-Column1-Body1"><b>-fo</b>
                    </td>
                    <td class="BodyD-Column1-Body1">Force the action without prompting.  </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1" style="font-weight: bold;">-service&#160;</td>
                    <td class="BodyB-Column1-Body1"><b>-s</b>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p>Specifies the service name.</p>
                        <p><b>Valid values:</b> network,ssh,NTLS,syslog,ntp,snmp,users,system,all</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p class="notepad_note">
            <br />
        </p>
        <h3 class="ntoc">Example</h3><pre xml:space="preserve">lunash:&gt;sysconf config factoryReset -service all
</pre><pre xml:space="preserve">This command restores the initial factory configuration of service: all.
The HSM and Partition configurations are NOT included.
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">This command restores the previous configurations from the backup file: <br />factoryInit_local_host_Config.tar.gz
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">WARNING !!  This command restores the configuration backup file: <br />factoryInit_local_host_Config.tar.gz.
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">It first creates a backup of the current configuration before restoring: <br />factoryInit_local_host_Config.tar.gz.
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">If you are sure that you wish to proceed, then type 'proceed', otherwise type 'quit'.
</pre><pre xml:space="preserve">&gt; proceed
Proceeding...
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">This command creates a backup of the configuration of the following modules 
and services: users' accounts and files, network, syslog, NTP, SNMP, SSH 
and NTLS settings, keys and certificates. It does not include the HSM and 
Partition configurations.
</pre><pre xml:space="preserve">&#160;</pre><pre xml:space="preserve">Created configuration backup file: myluna_Config_20101021_1112.tar.gz
You can save it to the HSM or an external backup token using the 
"sysconf config export" command.
</pre><pre xml:space="preserve">Restore the ntls configuration: Failed: file not found.
</pre><pre xml:space="preserve">Restore the network configuration: Succeeded.
</pre><pre xml:space="preserve">Restore the syslog configuration: Succeeded.
</pre><pre xml:space="preserve">Restore the ntp configuration: Succeeded.
</pre><pre xml:space="preserve">Restore the snmp configuration: Succeeded.
</pre><pre xml:space="preserve">Restore the ssh configuration: Succeeded.
</pre><pre xml:space="preserve">Restore the users configuration: Failed: file not found.
</pre><pre xml:space="preserve">Restore the system configuration: Failed: file not found.
</pre><pre xml:space="preserve">You must either reboot the appliance or restart the service(s) for the changes to take effect.
Please check the new configurations BEFORE rebooting or restarting the services.
You can restore the previous configurations if the new settings are not acceptable.
</pre><pre xml:space="preserve">Command Result : 0 (Success)
</pre>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span>The items that failed above simply failed to reset because they were already at factory default settings and had never been configured, so that no file of configuration settings for the particular service was ever created, and there was nothing for the "sysconf config factoryReset" command to do in those cases.</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../../index.html#lunash/commands/sysconf/sysconf_config_factoryreset.htm">Open topic with navigation</a>
        </p>
    </body>
</html>