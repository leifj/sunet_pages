<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="LunaSH Command Reference Guide|LunaSH Commands|audit">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>audit config </title>
        <link href="../../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../index.html#lunash/commands/audit/audit_config.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">LunaSH Command Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../commands.htm">LunaSH Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="audit.htm">audit</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">audit config</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="aanchor15"></a>
            <MadCap:concept term="HSM login" /><a name="kanchor254"></a><a name="aanchor16"></a>
            <MadCap:concept term="audit log">
            </MadCap:concept><a name="aanchor17"></a>
            <MadCap:concept term="Audit user">
            </MadCap:concept><a name="aanchor18"></a>
            <MadCap:concept term="white PED Key">
            </MadCap:concept>audit config </h2>
        <p> 
 Set the configuration parameters for audit logging.</p>
        <h3 class="ntoc">Syntax</h3>
        <p class="code"><b>audit config -parameter</b> &lt;parameter&gt; <b>-value</b> &lt;value&gt; [<b>-serial</b> &lt;serialnum&gt;]</p>
        <table style="caption-side: top;width: 100%;mc-table-style: url('../../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 159px;" />
            <col class="Column-Column1" style="width: 96px;" />
            <col class="Column-Column1" style="width: 291px;" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Parameter</th>
                    <th class="HeadE-Column1-Header1">Shortcut</th>
                    <th class="HeadD-Column1-Header1">Description </th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1" style="font-weight: bold;">-parameter</td>
                    <td class="BodyE-Column1-Body1" style="font-weight: bold;">-p</td>
                    <td class="BodyD-Column1-Body1">
                        <p>Specifies the type of parameter to set. </p>
                        <p><b>Valid values</b> (the value enclosed in parentheses [<b>n</b>] indicates a shortcut):</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>[<b>e</b>]<b>vent</b> - Include the list of events specified using the <b>-value</b> parameter in the log.</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>[<b>r</b>]<b>otation</b> - Rotate the logs as specified by the <b>-value</b> parameter.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1" style="font-weight: bold;">-serial</td>
                    <td class="BodyE-Column1-Body1" style="font-weight: bold;">-s</td>
                    <td class="BodyD-Column1-Body1">
                        <p class="code">Specifies the serial number of the HSM. This option allows the system to distinguish between two connected HSMs, as might occur with a PKI bundle configuration (secondary USB-attached Luna G5 HSM).</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1" style="font-weight: bold;">-value</td>
                    <td class="BodyB-Column1-Body1" style="font-weight: bold;">-v</td>
                    <td class="BodyA-Column1-Body1">
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>If <b>-parameter</b> is set to <b>event</b>, this specifies a comma-separated list of events to include in the log.</p>
                        <p class="listLevel1"><b>Note:</b> In addition to specifying an event category, you must also specify the conditions under which those events are to be logged - either <b>f</b> for failures, or <b>s</b> for successes, or both. See the examples.</p>
                        <p class="listLevel1"><b>Valid values</b> (the value enclosed in parentheses [] indicates a shortcut):</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[f]ailure</b>:    log command failures</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[s]uccess</b>:    log command successes</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[a]ccess</b>:     log access attempts (logins)</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[m]anage</b>:     log HSM management (init/reset/etc)</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[k]eymanage</b>:  key management events (key create/delete)</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[u]sage</b>:      key usage (enc/dec/sig/ver)</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>fi[r]st</b>:      first key usage only (enc/dec/sig/ver)</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>e[x]ternal</b>:   log messages from CA_LogExternal
                    lo[g]manage:  log events relating to log configuration
                    a<b>[l]l</b>:        log everything (user will be warned)
                    [n]one:       turn logging off
</p>
                        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span> If <b>-parameter</b> is set to <b>rotation</b>, this specifies the log rotation interval. </p>
                        <p class="listLevel1"><b>Valid values</b> (the value enclosed in parentheses [] indicates a shortcut):</p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[h]ourly
</b>
                        </p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[d]aily
</b>
                        </p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[w]eekly
</b>
                        </p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[m]onthly</b>
                        </p>
                        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span><b>[n]ever</b>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example</h3>
        <p>
   The following table provides some command usage examples:</p>
        <table style="width: 100%;caption-side: top;mc-table-style: url('../../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Command</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
   audit config -p e -v all        </td>
                    <td class="BodyD-Column1-Body1">        Log everything.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">audit config -p e -v none       </td>
                    <td class="BodyD-Column1-Body1">Log nothing.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
   audit config -p e -v f         </td>
                    <td class="BodyD-Column1-Body1">Log all command failures.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">audit config -p e -v u,f,s</td>
                    <td class="BodyD-Column1-Body1">      Log all key usage requests, both success and failure.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">audit config -p r -v daily</td>
                    <td class="BodyA-Column1-Body1">      Rotate the log daily.</td>
                </tr>
            </tbody>
        </table>
        <p>The following example shows the warning displayed when you use the <b>all</b> option:</p><pre xml:space="preserve">lunash:&gt;audit config -p e -v all

        Warning:: You have chosen to log all successful key usage events.
        This can result in an extremely high volume of log messages, which
        will significantly degrade the overall performance of the HSM.</pre><pre xml:space="preserve">
</pre><pre xml:space="preserve">Command Result : 0 (Success)</pre>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../../index.html#lunash/commands/audit/audit_config.htm">Open topic with navigation</a>
        </p>
    </body>
</html>