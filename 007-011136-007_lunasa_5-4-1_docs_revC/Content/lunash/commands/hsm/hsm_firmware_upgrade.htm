<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="LunaSH Command Reference Guide|LunaSH Commands|hsm">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>hsm firmware upgrade </title>
        <link href="../../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../index.html#lunash/commands/hsm/hsm_firmware_upgrade.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">LunaSH Command Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="../commands.htm">LunaSH Commands</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="hsm.htm">hsm</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">hsm firmware upgrade</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak">hsm firmware upgrade </h2>
        <p class="TextHeader2">This command updates the HSM firmware by applying the Firmware Update File that was saved in the standby location by the SafeNet factory, or by your most recent Luna&#160;SA appliance update. The current HSM firmware version (before this command is run), becomes the rollback version after the command is run. See command <a href="hsm_firmware_rollback.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"hsm firmware rollback "</span></a>, to roll back to the previous firmware version.</p>
        <h3 class="ntoc">Syntax</h3>
        <p class="code"><b>hsm firmware upgrade</b>
        </p>
        <table style="caption-side: top;width: 100%;mc-table-style: url('../../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 126px;" />
            <col class="Column-Column1" style="width: 149px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th style="text-align: left;font-size: 12pt;" class="HeadE-Column1-Header1">
                        <p> Parameter</p>
                    </th>
                    <th style="text-align: left;font-size: 12pt;" class="HeadE-Column1-Header1">
                        <p>Shortcut  </p>
                    </th>
                    <th style="text-align: left;font-size: 12pt;" class="HeadD-Column1-Header1">
                        <p>Description </p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1" style="font-weight: bold;">-force</td>
                    <td class="BodyB-Column1-Body1" style="font-weight: bold;">-f</td>
                    <td class="BodyA-Column1-Body1">
                        <p>Force the action </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example (showing before and after)</h3><pre xml:space="preserve">[local_host] lunash:&gt;hsm show


   Appliance Details:
   ==================
   Software Version:                5.4.0-5

   HSM Details:
   ============
   HSM Label:                          mysa5
   Serial #:                           700022
   Firmware:                           <span style="background-color: #ffff00;">6.20.0</span>
   Rollback Version:                   6.2.1
   Hardware Model:                     Luna K6
   Authentication Method:              PED keys
   HSM Admin login status:             Not Logged In
   HSM Admin login attempts left:      3 before HSM zeroization!
   RPV Initialized:                    Yes
   Audit Role Initialized:             No
   Remote Login Initialized:           No
   Manually Zeroized:                  No

   Partitions created on HSM:
   ==========================

.... (snip)...


Command Result : 0 (Success)


[local_host] lunash:&gt;hsm firmware upgrade

WARNING: This operation will update the firmware and restart NTLS !!!

         (1) All current NTLS sessions will be reset.
         (2) If the server keys are in hardware, you will need to re-activate
             them through 'ntls activateKeys' command again.

Type 'proceed' to continue, or 'quit' to quit now.

&gt; proceed
Proceeding...



Update Result : 0 (Success)

Command Result : 0 (Success)
[local_host] lunash:&gt;[local_host] lunash:&gt;hsm show


   Appliance Details:
   ==================
   Software Version:                5.4.0-5

   HSM Details:
   ============
   HSM Label:                          mysa5
   Serial #:                           700022
   Firmware:                           <span style="background-color: #ffff00;">6.21.0</span>
   Rollback Version:                   6.20.0
   Hardware Model:                     Luna K6
   Authentication Method:              PED keys
   HSM Admin login status:             Not Logged In
   HSM Admin login attempts left:      3 before HSM zeroization!
   RPV Initialized:                    Yes
   Audit Role Initialized:             No
   Remote Login Initialized:           No
   Manually Zeroized:                  No

   Partitions created on HSM:
   ========================== &#160;


.... (snip)...


Command Result : 0 (Success)

lunash:&gt;</pre><pre xml:space="preserve">&#160;</pre>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../../index.html#lunash/commands/hsm/hsm_firmware_upgrade.htm">Open topic with navigation</a>
        </p>
    </body>
</html>