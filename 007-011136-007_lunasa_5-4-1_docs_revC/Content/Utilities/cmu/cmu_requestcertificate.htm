<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.LunaPCI,Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Utilities Reference Guide|Certificate Management Utility (CMU)">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>cmu requestcertificate</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#Utilities/cmu/cmu_requestcertificate.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Utilities Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="cmu.htm">Certificate Management Utility (CMU)</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">cmu requestcertificate</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="kanchor557"></a>cmu requestcertificate</h2>
        <p>This function creates a PKCS #10 certificate request for an RSA/DSA/ECDSA key 
 pair on the token or HSM. It must be provided with the handle either to
 the public key or to the corresponding private key (all of the public 
 key components are contained within the private key). The private key 
 must have Signing capability because it is used to sign the certificate 
 request structure. The signature is done using any of the mechanisms listed below. 
 The subject name is defined by a series of optional RDN components.</p>
        <p> If 
 none of these components are provided on the command line, the CKA_SUBJECT 
 of the private key is used as the subject of the certificate request. 
 If the private key does not have its CKA_SUBJECT attribute set, the user 
 will be queried for each of the RDN components. The Subject DN should 
 contain at least the country, organization and common name components. 
 </p>
        <p>The signed certificate request is output to the specified file. &#160;&#160;</p>
        <h3 class="ntoc">Syntax</h3>
        <p style="font-weight: bold;">cmu requestCertificate &#160;<span style="font-weight: normal;">&lt;parameters&gt;</span></p>
        <h3 class="ntoc">Required Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 164px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Parameter</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-publichandle=</b>&lt;pubkeyhandle#&gt;</td>
                    <td class="BodyD-Column1-Body1">
                        <p> 
 &#160;This is 
 a mandatory parameter that defines the handle to the public key from an 
 RSA key pair to be certified. If this parameter is omitted and there is 
 only one public signing key on the HSM, that key is automatically selected. 
 If this parameter is omitted and there are multiple public signing keys 
 on the HSM, the user is asked to select the public signing key.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-privatehandle</b>=&lt;privkeyhandle#&gt;</td>
                    <td class="BodyD-Column1-Body1">
                        <p> 
 &#160;This is 
 a mandatory parameter that defines the handle to the private key from 
 an RSA key pair to be certified. If this parameter is omitted and there 
 is only one private signing key on the HSM, that key is automatically 
 selected. If this parameter is omitted and there are multiple private 
 signing keys on the HSM, the user is asked to select the private signing 
 key.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1"><span style="font-weight: bold;">-outputFile</span>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p> &#160;This 
 mandatory parameter defines the file that receives the certificate request. &#160;&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Optional Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 164px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Parameter</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-binary</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the certificate request format to 
 be raw binary instead of the default PEM (base64) encoding.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-md5WithRsa</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the signature algorithm for the 
 certificate request to be pkcs-1-MD5withRSAEncryption. The default is 
 to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-sha1WithRsa</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 is an optional parameter that defines the signature algorithm for the 
 certificate request to be pkcs-1-SHA1withRSAEncryption. The default is 
 to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha224withrsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha224withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha256withrsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha256withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha384withrsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha384withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha512withrsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha512withRSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha1withdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha1withDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha1withecdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha1withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha224withecdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha224withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha256withecdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha256withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha384withecdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha384withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>- sha512withecdsa</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This is an optional parameter that defines the signature algorithm for the certificate request to be pkcs-1-sha512withECDSAEncryption. The default is to use sha1WithRsa.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-C</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the two-letter country name for the subject 
 distinguished name (DN) of the certificate request. This parameter should 
 be present in the subject DN.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-S</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the state or province name for the subject 
 distinguished name of the certificate request. This parameter may be present 
 in the Subject DN.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-L</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the locality (typically the city) for the subject 
 distinguished name of the certificate request. This parameter may be present 
 in the Subject DN.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-O</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the organization name for the subject distinguished 
 name (DN) of the certificate request. This parameter should be present 
 in the subject DN.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-OU</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the organization unit name for the subject 
 distinguished name (DN) of the certificate request. This parameter may 
 be present in the subject DN</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1"><span style="font-weight: bold;">-CN</span>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the common name for the subject distinguished 
 name (DN) of the certificate request. This parameter should be present 
 in the subject DN. &#160;&#160;</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example</h3>
        <p>The following example creates a PEM encoded PKCS #10 certificate request for key 6:</p><pre xml:space="preserve">cmu requestCert -publichandle=6 –privatehandle=7 -C=CA -L=Ottawa -O="Rainbow-Chrysalis" -CN="Test Certificate" -outputFile=testCert.req</pre>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#Utilities/cmu/cmu_requestcertificate.htm">Open topic with navigation</a>
        </p>
    </body>
</html>