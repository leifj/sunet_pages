<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.LunaPCI,Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Utilities Reference Guide|Certificate Management Utility (CMU)">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>cmu generatekeypair</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#Utilities/cmu/cmu_generatekeypair.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">Utilities Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="cmu.htm">Certificate Management Utility (CMU)</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">cmu generatekeypair</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="pageBreak"><a name="kanchor552"></a>cmu generatekeypair</h2>
        <p>This function generates an asymmetric key pair on the token or HSM. 
 An optional input filename can be used to specify a file from which mandatory 
 and optional attributes are to be read. </p>
        <p>For DSA key generation, the domain parameters (Prime, Subprime, and Base) are required, and must be provided either as part of the command, or as responses to interactive prompting. If one is provided at the command line, then all three must be provided in that manner. If none are provided at the command line, then all three are prompted for interactive entry.</p>
        <p>You may not provide only one or two of the parameters at the command line. Providing just one or two domain parameters is considered an error, and the command halts with an error message.</p>
        <h3 class="ntoc">Syntax</h3>
        <p class="code"><b>cmu generatekeypair </b>&lt;parameters&gt; </p>
        <h3 class="ntoc">Required Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 164px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Parameter</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-modulusBits</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>This 
 mandatory parameter defines the length in bits of the modulus value for 
 the generation of RSA key pairs. It must be set to a value between 1024 
 and 4096 that is a multiple of 64 bits.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1"><span style="font-weight: bold;">-publicExponent</span>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p> &#160;This 
 mandatory parameter defines the public exponent value to use in the generation 
 of RSA key pairs. It must be set to a value of 3, 17 or 65537.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Optional Parameters</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 164px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Parameter</th>
                    <th class="HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-binary</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>This 
 is an optional parameter that defines the exported certificate format 
 to be raw binary instead of the default PEM (base64) encoding.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">-inputFile</td>
                    <td class="BodyD-Column1-Body1"> &#160;This 
 optional parameter defines the name of a file from which to obtain additional 
 parameter settings, one per line, of the form name=value.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-keyType</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the type of asymmetric keys to generate. This 
 parameter is not required if the key type can be established by the presence 
 of other parameters. (e.g. If modulusBits and/or publicExponent parameters 
 are present, then -keyType=RSA is redundant). Currently, only RSA key 
 pairs are supported.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-label</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines a label to be applied to both of the newly 
 generated keys. If a multiple word label is required, the label value 
 must be enclosed within quotation marks.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-labelPublic</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines a label to apply to the public key from the 
 newly generated key pair.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-labelPrivate</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines a label to apply to the private key from the 
 newly generated key pair.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-modifiable</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the modifiable setting for each of the keys 
 in the key pair. It must be set to True or False (or 1 or 0).</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-id</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the Id field for the newly generated keys. 
 It must be set to a big-endian hexadecimal integer value.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-startDate</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the startDate field for the newly generated 
 keys. The format for the value is YYYYMMDD.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-endDate</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the endDate field for the newly generated keys. 
 The format for the value is YYYYMMDD.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-subject</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the subject field for the newly generated keys. 
 It must be set to a big-endian hexadecimal integer value. The subject 
 field is typically set to the DER encoding of the subject distinguished 
 name for the key.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-encrypt</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the encrypt setting for the public key in the 
 newly generated key pair. It must be set to True or False (or 1 or 0), 
 with False being the default. If this parameter is set to True, then the 
 decrypt setting for the private key should also be set to True. Note that 
 an HSM is often configured such that no key can have multiple functions. 
 Thus if encrypt is set True, then wrap and verify need to be False. </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-decrypt</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the decrypt setting for the private key in 
 the newly generated key pair. It must be set to True or False (or 1 or 
 0), with False being the default. If this parameter is set to True, then 
 the encrypt setting for the public key should also be set to True. Note 
 that an HSM is often configured such that no key can have multiple functions. 
 Thus if decrypt is set True, then unwrap and sign need to be False.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-sign</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the sign setting for the private key in the 
 newly generated key pair. It must be set to True or False (or 1 or 0), 
 with False being the default. If this parameter is set to True, then the 
 verify setting for the public key should also be set to True. Note that 
 an HSM is often configured such that no key can have multiple functions. 
 Thus if sign is set True, then unwrap and decrypt need to be False.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-verify</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the verify setting for the public key in the 
 newly generated key pair. It must be set to True or False (or 1 or 0), 
 with False being the default. If this parameter is set to True, then the 
 sign setting for the private key should also be set to True. Note that 
 an HSM is often configured such that no key can have multiple functions. 
 Thus if verify is set True, then encrypt and wrap need to be False.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-wrap</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the wrap setting for the public key in the 
 newly generated key pair. It must be set to True or False (or 1 or 0), 
 with False being the default. If this parameter is set to True, then the 
 unwrap setting for the private key should also be set to True. Note that 
 an HSM is often configured such that no key can have multiple functions. 
 Thus if wrap is set True, then encrypt and verify need to be False.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><span style="font-weight: bold;">-unwrap</span>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> &#160;This 
 optional parameter defines the unwrap setting for the private key in the 
 newly generated key pair. It must be set to True or False (or 1 or 0), 
 with False being the default. If this parameter is set to True, then the 
 wrap setting for the public key should also be set to True. Note that 
 an HSM is often configured such that no key can have multiple functions. 
 Thus if unwrap is set True, then decrypt and sign need to be False. </p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-extractable</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> This optional parameter defines the extractable setting for the private key in the newly generated key pair. It must be set to True or False (or 1 or 0), with False being the default.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-curvetype</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>  This optional parameter defines the name of a curve type for ECDSA keys. Enter values 1-5 (1-NISTP 192 / 2-NISTP 224 / 3-NISTP 256 / 4-NISTP 384 / 5-NISTP 521).</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-prime</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> This optional parameter defines a prime length for DSA key generation.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1"><b>-subprime</b>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p> This optional parameter defines a subprime bits length for DSA key generation.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1"><b>-base</b>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p> This optional parameter defines a base length for DSA key generation.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3 class="ntoc">Example</h3>
        <h4>RSA</h4><pre xml:space="preserve">C:\Program Files\SafeNet\LunaClient&gt;cmu gen -modulusBits=2048 -publicExp=65537 -sign=T -verify=T </pre><pre xml:space="preserve">Select token</pre><pre xml:space="preserve">[1] Token Label: myPartition1</pre><pre xml:space="preserve">[2] Token Label: myPartition1</pre><pre xml:space="preserve">Enter choice: 2</pre><pre xml:space="preserve">Please enter password for token in slot 2 : *******************</pre><pre xml:space="preserve">C:\Program Files\SafeNet\LunaClient&gt;cmu list</pre><pre xml:space="preserve">Select token</pre><pre xml:space="preserve">[1] Token Label: myPartition1</pre><pre xml:space="preserve">[2] Token Label: myPartition1</pre><pre xml:space="preserve">Enter choice: 2</pre><pre xml:space="preserve">Please enter password for token in slot 2 : *******************</pre><pre xml:space="preserve">handle=14       label=NewPublicVerifyingKey</pre><pre xml:space="preserve">handle=15       label=NewPrivateSigningKey</pre><pre xml:space="preserve">C:\Program Files\SafeNet\LunaClient&gt;</pre>
        <h4>DSA - Domain Parameters at Command Line </h4><pre xml:space="preserve">cmu generatekeypair -keytype DSA -slot 6 -prime 0xfcec6182eb206b43c03e36c0eadabff56a0c2e79def44bc8f2e53699096d1ff270f159785d756921dbff9773ae08483b662fc07df7512ff68b2e5565fd7982e20c244832aba121cc0799cc09f2d5414d5f3966211365f51b83e9ffcccb3d88cdf238f7c2739131ca7aadff662fec1fb0e1d311a404260376fd011fe00d0204c3 -subprime 0xd3807353b51c5f71b22ac3d0c7e394148fcedc61 -base 0x42e3778e6ec31b0db07a6b370d7fb6fb4a0bca6deaac371f6adbcbeba38ddf76a47c3c3d79276a0e579ce4e347180fd9b4ad461d6cf0eac51fb08cf452f624570051e518a75a5bb9c3578a14fd4f27f795b22acea62b1fdf1032c1266da081c7fb99c4266626587093fd381617238ee1578fc325548dc1c08e5f9322c3b1205e</pre>
        <h4>DSA - Domain Parameters Entered Interactively </h4><pre xml:space="preserve">cmu generatekeypair -keytype DSA -slot 6 <br />The prime, subprime and base values must be entered as a HEX byte array. <br />For example, to enter a 1024-bit prime value, enter a 128-byte HEX byte array using this format: 0xa0383ee692f8... </pre><pre xml:space="preserve"> The prime value can be a 1024-bit, 2048-bit or 3072-bit value. <br />Enter a prime value: 0xfcec6182eb206b43c03e36c0eadabff56a0c2e79def44bc8f2e53699096d1ff270f159785d7 56921dbff9773ae08483b662fc07df7512ff68b2e5565fd7982e20c244832aba121cc0799cc09f2d5414d5f3966211365f 51b83e9ffcccb3d88cdf238f7c2739131ca7aadff662fec1fb0e1d311a404260376fd011fe00d0204c3 <br />Enter a 160 bit subprime value: 0xd3807353b51c5f71b22ac3d0c7e394148fcedc61 <br />Enter a 1024-bit base value: 0x42e3778e6ec31b0db07a6b370d7fb6fb4a0bca6deaac371f6adbcbeba38ddf76a47 c3c3d79276a0e579ce4e347180fd9b4ad461d6cf0eac51fb08cf452f624570051e518a75a5bb9c3578a14fd4f27f795b22 acea62b1fdf1032c1266da081c7fb99c4266626587093fd381617238ee1578fc325548dc1c08e5f9322c3b1205e</pre>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#Utilities/cmu/cmu_generatekeypair.htm">Open topic with navigation</a>
        </p>
    </body>
</html>