<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Utilities Reference Guide|Pedserver and Pedclient">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title> The pedserver Command</title>
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#Utilities/ped_client_server/pedserver_commands.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">Utilities Reference Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_client_server.htm">Pedserver and Pedclient</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">The pedserver Command</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2 class="ntoc"> The pedserver Command</h2>
        <p>This is the syntax of the pedServer command, which includes starting and stopping of the service, and an assortment of configuration options. Specify "pedserver" at the command line, plus one of the modes, plus any option applicable to that mode. </p><pre xml:space="preserve">C:\Program Files\SafeNet\LunaClient&gt;pedserver
Ped Server Version 1.0.5 (10005)

        Error: You must specify a mode.

Usage: pedServer [mode] [options...]

   Explanation of the modes:

     To query if a Ped Server is currently running, and to get details about
     the Ped Server, use this command:
        pedServer -mode show [ options... ]

     To shut down an existing Ped Server, use this command:
        pedServer -mode stop [ options... ]

     To start the Ped Server, use this command:
        pedServer -mode start [ options... ]

     To show the existing configuration file settings, use this command:
        pedServer -mode config -show

     To restore the internal default configuration file settings, use this command:
        pedServer -mode config -create [ options... ]

     To modify the existing configuration file settings, use this command:
        pedServer -mode config -set [ options... ]

     To view a more detailed description of the Ped Server, use this command:
        pedServer -mode desc


   Explanation of the options:

   Any options that are not specified on the command line will be read from
   the config file.  If the config file cannot be found, internal default settings
   will be used.  Invalid options do not generate an error and are ignored.

     -mode &lt;mode&gt;               -&gt; Specifies the mode that the Ped Server will be
                                   executed in.  The supported modes are "start",
                                   "stop", "show" and "config".
     -configfile &lt;filename&gt;     -&gt; Specifies the config file to use.  Applicable to all
                                   modes.
     -eserverport &lt;0 or 1&gt;      -&gt; Specifies if the server port is on "localhost"
                                   or listening on the external host name.  Applicable
                                   to "start" and "config set" modes.
     -port &lt;server port&gt;        -&gt; Specifies the server port number.  Applicable to
                                   "start" and "config set" modes.
     -eadmin &lt;0 or 1&gt;           -&gt; Specifies if the administration port is on
                                   "localhost" or listening on the external host
                                   name.  Applicable to "start" and "config set" modes.
     -admin &lt;admin port number&gt; -&gt; Specifies the administration port number.
                                   Applicable to "start", "stop", and "show" modes.
     -force                     -&gt; When used with "-start", specifies that any existing
                                   Ped Server currently running should be shutdown and a new
                                   Ped Server started.  Applicable to "start" mode.
     -set                       -&gt; When used with "-config", specifies that the
                                   configuration file should be updated with values
                                   of the other supplied options.  Applicable to "config"
     -show                      -&gt; When used with "-config", specifies that the
                                   contents of the configuration file should be displayed.
                                   Applicable to "config" mode.
     -idletimeout&lt;int&gt;          -&gt; Specifies the idle connection timeout in seconds.
                                   Applicable to "start" and "config set" modes.
     -socketreadtimeout &lt;int&gt;   -&gt; Specifies the socket read timeout in seconds.
                                   Applicable to "start", "stop", "show" and
                                   "config set" modes.
     -socketwritetimeout &lt;int&gt;  -&gt; Specifies the socket write timeout in seconds.
                                   Applicable to "start", "stop", "show" and
                                   "config set" modes.
     -internalshutdowntimeout &lt;int&gt; -&gt; Specifies the shutdown timeout in seconds for
                                   internal services.
                                   Applicable to "start", "stop" and "config set"
                                   modes.
     -bgprocessstartuptimeout &lt;int&gt; -&gt; Specifies the startup timeout for the detached
                                   process.
                                   Applicable to "start", "stop" and "config set"
                                   modes.
     -bgprocessshutdowntimeout &lt;int&gt; -&gt; Specifies the shutdown timeout for the detached
                                   process.
                                   Applicable to "start", "stop" and "config set"
                                   modes.
     -loginfo &lt;0 or 1&gt;          -&gt; Specifies if the logger should log "info" messages.
                                   Applicable to all modes.
     -logwarning &lt;0 or 1&gt;       -&gt; Specifies if the logger should log "warning" messages.
                                   Applicable to all modes.
     -logerror &lt;0 or 1&gt;         -&gt; Specifies if the logger should log "error" messages.
                                   Applicable to all modes.
     -logtrace &lt;0 or 1&gt;         -&gt; Specifies if the logger should log "trace" messages.
                                   Applicable to all modes.
     -logfilename &lt;filename&gt;    -&gt; Specifies the log file name.
                                   Applicable to all modes.
     -maxlogfilesize &lt;size&gt;     -&gt; Specifies the maximum log file size in KB
                                   Applicable to all modes.
     -pinginterval &lt;int&gt;        -&gt; Specifies the interval in seconds for ping commands.
                                   Applicable to "start" and "config set" modes.
     -pongtimeout &lt;int&gt;         -&gt; Specifies timeout in seconds for the ping response.
                                   Applicable to "start" and "config set" modes

C:\Program Files\SafeNet\LunaClient&gt;</pre><pre xml:space="preserve">&#160;</pre>
        <p>Commands you are likely to use most often are PedServer mode start, to launch the service, and PedServer mode show, to display its current status.</p><pre xml:space="preserve">C:\Program Files\Safenet\LunaClient&gt;PedServer.exe mode start
Ped Server Version 1.0.5 (10005)
Failed to load configuration file.  Using default settings.
Ped Server launched in startup mode.
Starting background process
Background process started
Ped Server Process created, exiting this process.
C:\Program Files\Safenet\LunaClient&gt;

C:\Program Files\Safenet\LunaClient&gt;PedServer.exe mode show
Ped Server Version 1.0.5 (10005)
Failed to load configuration file.  Using default settings.
Ped Server launched in status mode.
   Server Information:
      Hostname:                           OTT1-202311
      IP:                                 172.20.10.190
      Firmware Version:                   2.5.0-1
      PedII Protocol Version:             1.0.1-0
      Software Version:                   1.0.5 (10005)
      Ped2 Connection Status:             Connected
      Ped2 RPK Count                      1
      Ped2 RPK Serial Numbers             (5b420100834a2301)
   Client Information:                    Not Available
   Operating Information:
      Server Port:                        1503
      External Server Interface:          Yes
      Admin Port:                         1502
      External Admin Interface:           No
      Server Up Time:                     8 (secs)
      Server Idle Time:                   8 (secs) (100%)
      Idle Timeout Value:                 1800 (secs)
      Current Connection Time:            0 (secs)
      Current Connection Idle Time:       0 (secs)
      Current Connection Total Idle Time: 0 (secs) (100%)
      Total Connection Time:              0 (secs)
      Total Connection Idle Time:         0 (secs) (100%)
Show command passed.

C:\Program Files\Safenet\LunaClient&gt;
</pre><pre xml:space="preserve">&#160;</pre>
        <p>PedServer is required to run on any computer that has a Luna&#160;Remote PED attached, and is providing PED services. </p>
        <p>PedServer always works with an instance of PedClient. </p>
        <p>PedClient could be running on a distant HSM host computer, or it could be running on the same computer that has the Remote PED attached and PedServer running. This would normally be the case where a Luna&#160;Remote&#160;Backup&#160;HSM or other HSM is also attached or embedded. In other words, the one computer could be carrying on both halves of the PedClient/PedServer conversation over two ports in its own memory.</p>
        <p>See <a href="../../administration/backup/rbs.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"RBS - Remote Backup Service "</span></a>in the <i>Administration Guide</i> for more information.</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#Utilities/ped_client_server/pedserver_commands.htm">Open topic with navigation</a>
        </p>
    </body>
</html>