<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|PED (Trusted Path) Authentication ">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Using the PED</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/ped_auth/ped_general_info.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">HSM Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_auth.htm">PED (Trusted Path) Authentication </a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Using the PED</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2>Using the PED</h2>
        <p> PED (2.x)Front view&#160; 

<img src="../../concepts/lunaped2_front.png" style="border: none;float: none;border-style: none;border-style: none;" border="0" /> <br /><br />Top view<br /><img src="../../concepts/lunaped2_top_421x117.png" style="border: none;float: none;border-style: none;border-style: none;width: 421;height: 117;" border="0" /> 
 is required when you wish to authenticate to your HSM with PED (Trusted 
 Path) Authentication.</p>
        <p>The requirement for Trusted Path Authentication, as opposed to Password 
 Authentication, is part of the specific model of HSM, as configured 
 at the factory (the one exception is the Luna Backup HSM, which configures itself, at backup time, as either Password-authenticated or PED-authenticated, depending on the type of primary HSM it is backing up).</p>
        <p>The PED does not contain any authentication information.  PEDs 
 are interchangeable (within the version range,  PED 
 2.x) - it doesn't matter which local PED 2.x you use. The authentication 
 information is contained on the PED Key<img src="../../Resources/Images/hardwarekey.png" style="border: none;width: 175px;height: 105px;float: none;border-style: none;border-style: none;" width="175" height="105" border="0" />, 
 and PED is the device that provides the interface so that authentication 
 data can pass between PED Key and HSM.</p>
        <p>A locally-connected PED is powered by its connection<img src="../../concepts/lunaped2_top_mdsm_conn_435x180.png" style="border: none;float: none;border-style: none;border-style: none;width: 435;height: 180;" border="0" /> 
 to the HSM appliance. That connection - directly between the PED and 
 the HSM card inside the appliance - bypasses your computer bus and the 
 computer bus of the appliance. It is the only data path between the HSM 
 and the PED and therefore is considered much more secure (trusted) than 
 any authentication path that passes through the appliance's computer data 
 paths. The Trusted Path cannot be monitored by any software (whether authorized 
 by you or not) on your administrative or client computer. Also, because 
 you use the PED Keypad to input the optional <a href="what_is_a_ped_pin.htm">PED 
 PIN</a> password (to unlock the secret that, in turn, unlocks your 
 HSM), nothing is typed on a computer keyboard. No virus, trojan, spyware, 
 remote-session software or other method can be used to acquire those secrets, 
 because they never pass through the normal computer data pathways, never 
 reside in computer memory or on disk.</p>
        <p>With HSM appliances normally tucked away in server farms, which are often run as "lights-off" facilities with the minimum possible human intervention, the PED cannot always be conveniently connected directly to the HSM. Instead, a callback server arrangement (Remote PED) uses a Luna PED connected to a separate computer, at a convenient location, to serve PED interactions over a network connection. The connection is strongly secured and, like the direct connection, prevents unauthorized persons from gaining access to the authentication data.</p>
        <p>The only way for another person to discover a PED PIN password while 
 you are inputting it is if you allow that person to watch while you use 
 the PED keypad.</p>
        <h3>When Do I Need A PED?</h3>
        <p>You need to use the PED whenever you perform any action with the 
HSM that causes it to look for authentication (with some exceptions, 
 see below). For example, using the Luna shell (lunash) you might login as Security 
 Officer, login as User, or initialize the HSM. When the HSM receives such 
 a command, it requests the appropriate data from the PED - or in 
 the case of initialization, the HSM might send data to the PED.</p>
        <p>Therefore, you should have the PED connected and in its ready state 
 ("Awaiting command...") when you issue a command that invokes 
 the PED. One MDSM connector attaches to the matching connector on the 
 HSM or appliance, and the other MDSM (Micro-D Sub-Miniature) connector attaches 
 to its matching connector on the top of the PED (tighten the connector 
 screws if you intend to leave the PED connected; this makes the most reliable 
 connection and provides strain relief to the cable-connector junction 
 during handling of the device).</p>
        <p>If you are using the Activation/autoActivation feature then, after authentication, 
 the data is cached on the HSM, where it remains until you deactivate or 
 you remove power to the HSM. In that case, once the authentication is 
 performed, you can disconnect the PED and store it until the next 
 time it is required.</p>
        <p>If you are not using autoactivation, then authentication data is not 
 cached and every time you or your client application needs access to the 
 HSM, the HSM will look to the PED, which must remain connected.</p>
        <h3>What Do I Do?</h3>
        <p>As soon as it receives power from a connection<img src="../../concepts/lunaped2_top_mdsm_conn_496x205.png" style="border: none;float: none;border-style: none;border-style: none;width: 496;height: 205;" border="0" /> 
 to a powered appliance, or from the supplied power block if you are using Remote PED, the  PED performs its start-up and self-test 
 routines and then goes to its normal operating  mode, displaying 
 the prompt "Awaiting command...". &#160;The 
 PED is ready for use in Local mode, by default.</p>
        <p>There are three things that you can do with the PED at this point:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>Wait for a prompt, which 
 results when a program has caused the HSM to request authentication</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>Change to the Remote Mode (which expects encrypted commands from a computer USB connection, where you would be running Pedserver, rather than from a direct PED-HSM connection) &#160;&#160;</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>Perform standalone PED 
 operations.</p>
        <p>To perform prompted actions, just do what is asked on the PED screen. 
 Normally the prompts are:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>Insert a PED Key </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>Press "YES", 
 "NO" or "ENTER" on the keypad</p>
        <p>Insert and remove<img src="../../concepts/lunaped2_top_key_conn_504x215.png" style="border: none;float: none;border-style: none;border-style: none;width: 504;height: 215;" border="0" /> 
 appropriate PED Keys, type passwords when requested, and so on. The particular 
 sequence depends upon the operation that the HSM needs at the time, which 
 in turn depends on the command-line administrative operations that you 
 are performing (with lunacm, lunadiag, multitoken2, or other SafeNet utilities), 
 or operations triggered by your applications.</p>
        <p>The <a href="../../configuration/initial_setup/initializing_a_luna_hsm_ped-version.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"Initializing a PED-Authenticated HSM"</span></a> and <a href="../../configuration/initial_setup/about_creating_a_partition_ped.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"Prepare to Create a Partition (PED Authenticated)"</span></a> operations are described elsewhere in this Help. </p>
        <p>As a networked HSM appliance, your Luna SA is expected to perform 
 large volumes of client-requested cryptographic operations without human 
 intervention. &#160;Therefore, 
 in normal practice, you would perform initial configuration operations 
 one time before placing the unit in service, then perform only monitoring 
 and occasional maintenance thereafter. See the table below for a simple 
 breakdown of the normal tasks and if/how the PED and PED Keys might 
 apply.</p>
        <table style="border-spacing: 0px;border-spacing: 0px;mc-table-style: url('../../Resources/TableStyles/Page.css');width: 100%;" cellspacing="0" class="TableStyle-Page">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Situation</th>
                    <th class="HeadE-Column1-Header1">Needs</th>
                    <th class="HeadD-Column1-Header1">Action with PED and PED 
 Keys</th>
                </tr>
            </thead>
            <tbody>
                <tr valign="top" class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p>Setup/configuration</p>
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <p>Appliance admin password, blue, red and black PED Keys and PED.</p>
                        <p>Network connection to the appliance from your administrative PC, and 
 preferably also a local serial connection.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>You perform the HSM initialization, create Partition Groups, set up 
 a redundant, load-sharing cluster with other SafeNet HSM appliance(s). This 
 is the kind of chore you must perform before first putting the unit into 
 "production", and then might never need to do again. The PED 
 Keys are required at several stages, as well as the PED.</p>
                    </td>
                </tr>
                <tr valign="top" class="Body-Body1">
                    <td class="BodyE-Column1-Body1">
                        <p>Occasional Maintenance of HSM</p>
                    </td>
                    <td class="BodyE-Column1-Body1">
                        <p>Appliance admin password, blue and black PED Keys, possibly the red 
 if you need to initialize a new cluster member, and the PED.</p>
                        <p>Network connection to the appliance.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">
                        <p>Add and remove cluster members, modify number and assignment of Partitions/Groups, 
 enable and disable... you might need some or all PED Keys for authentication, 
 depending on the activity.</p>
                    </td>
                </tr>
                <tr valign="top" class="Body-Body1">
                    <td colspan="1" rowspan="1" class="BodyE-Column1-Body1">
                        <p>Occasional Maintenance of appliance (non-HSM part)</p>
                    </td>
                    <td colspan="1" rowspan="1" class="BodyE-Column1-Body1">
                        <p>Appliance admin password</p>
                    </td>
                    <td colspan="1" rowspan="1" class="BodyD-Column1-Body1">
                        <p>None. You just login as appliance admin and perform any needed task 
 related to network settings, logging, snmp, or other non-HSM chores. No 
 PED Key or PED use is needed when you are not logging into the HSM, 
 within the appliance.</p>
                    </td>
                </tr>
                <tr valign="top" class="Body-Body1">
                    <td colspan="1" rowspan="1" class="BodyE-Column1-Body1">
                        <p>Client access to their assigned cluster partitions</p>
                    </td>
                    <td colspan="1" rowspan="1" class="BodyE-Column1-Body1">
                        <p>Clients need their own authentication that is set up when clients are 
 registered; no PED Key or PED required. </p>
                        <p>Network connection from the Client(s) - which, depending on your application, 
 might be other servers serving further downstream clients, or might be 
 end-user Client computers.</p>
                    </td>
                    <td colspan="1" rowspan="1" class="BodyD-Column1-Body1">
                        <p>None. You would normally have activated/auto-activated the cluster members 
 (in other sections of this table), and put the PED and PED Keys away in 
 safe storage. They aren't needed in ongoing operation.</p>
                    </td>
                </tr>
                <tr valign="top" class="Body-Body1">
                    <td class="BodyB-Column1-Body1">
                        <p>PED Key administration</p>
                    </td>
                    <td class="BodyB-Column1-Body1">
                        <p>A PED and whichever PED Keys you wish.</p>
                        <p>You can connect to any SafeNet HSM that has the proper connector 
 - this is to power the PED only. Alternatively, you can use the PED power supply kit provided with PED 2 (Remote Capable), and not need any HSM connection.</p>
                    </td>
                    <td class="BodyA-Column1-Body1">
                        <p>While you can perform some PED Key admin during HSM operations (mentioned 
 elsewhere), you can also just power up the PED, go to Admin mode 
 (instead of the default "Local PED" mode), and perform actions like 
 creating duplicates of your existing, imprinted PED Keys. No HSM access 
 is required. See the next section on this page (below) for more detail.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3>Standalone or local or off-line PED operations</h3>
        <p>You can perform some operations on PED Keys without going through the 
 HSM.</p>
        <h5>To perform standalone operations:</h5>
        <p class="ol1Start" data-mc-autonum="1."><span class="autonumber"><span class="ol1Number">1.</span></span>Press the "&lt;" 
 key to exit from SCP mode.</p>
        <p class="ol1" data-mc-autonum="2."><span class="autonumber"><span class="ol1Number">2.</span></span>In Admin mode, 
 select 1 PED Key or 7 Software Update. (The software update function is 
 rarely used and requires that you be sent a PED software file from SafeNet, 
 along with directions about how to use it. Therefore, we'll assume that 
 you are selecting "1 PED Key", which brings the PED to PED Key 
 mode.)</p>
        <p class="ol1" data-mc-autonum="3."><span class="autonumber"><span class="ol1Number">3.</span></span>To perform an 
 operation on a particular PED Key, insert that PED Key into the PED Key 
 connector on top of the PED.</p>
        <p class="ol1" data-mc-autonum="4."><span class="autonumber"><span class="ol1Number">4.</span></span>PED Key mode 
 has an option "1" to login to that PED Key, which applies to 
 models other than iKey 1000 PED Keys - just press "1" to get 
 to the next menu, if you are using iKey 1000 PED Keys, which don't need login.</p>
        <p class="ol1" data-mc-autonum="5."><span class="autonumber"><span class="ol1Number">5.</span></span>At the PED Key 
 Mode menu you have options to Login (which 
 you have just done, but the prompt is available in case you might wish 
 to login to a different PED Key) 

, 
 Logout, or Duplicate the PED Key. Only the "Duplicate" option 
 is meaningful for your iKey 1000 PED Key. To <span style="font-weight: bold;">duplicate</span> 
 the contents of the currently connected and PED Key to another (blank 
 or re-used) PED Key, press "7" on the PED keypad.</p>
        <p class="ol1" data-mc-autonum="6."><span class="autonumber"><span class="ol1Number">6.</span></span>Insert a blank 
 target PED Key, or a non-blank whose data is no longer needed, and press 
 ENTER.</p>
        <p class="ol1" data-mc-autonum="7."><span class="autonumber"><span class="ol1Number">7.</span></span>If data already 
 exists on the target PED Key, you are warned and required to press YES 
 two times, to confirm that you really do wish to overwrite whatever is 
 on the PED Key that is currently connected to the PED. <br />If the source PED Key had an optional PED PIN assigned, then that PED 
 PIN is automatically applied to the duplicate during this process.</p>
        <p class="ol1" data-mc-autonum="8."><span class="autonumber"><span class="ol1Number">8.</span></span>Remove the newly 
 imprinted PED Key and press ENTER. The PED goes back to "PED Key 
 mode" awaiting further commands. If you wish to duplicate another 
 PED Key, repeat the above steps. Otherwise, press "&lt;" to 
 go back to "Admin mode", and press "&lt;" again to 
 reach the main menu, and finally press "1" to resume "SCP 
 mode", which is the normal operating mode of the PED, awaiting 
 commands from the connected HSM.</p>
        <p class="ol1" data-mc-autonum="9."><span class="autonumber"><span class="ol1Number">9.</span></span>Identify the 
 new PED Key with a tag or other marker, and record a PED PIN (if any) 
 in secure fashion, according to your security policies.</p>
        <h3>EXCEPTION: Remote PED</h3>
        <p>The Remote PED 2 functions as described above, when it is in Local or Admin mode. However, when it is placed in Remote mode, it is capable of setting up a secure connection, via a specially-configured computer workstation, to a remotely located HSM. The remote functionality is described separately at <a href="../remote_ped/about_remote_ped.htm" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"&#160;About Remote PED"</span></a>. </p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#administration/ped_auth/ped_general_info.htm">Open topic with navigation</a>
        </p>
    </body>
</html>