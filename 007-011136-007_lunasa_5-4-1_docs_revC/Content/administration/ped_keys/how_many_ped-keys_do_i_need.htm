<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|PED Key Management">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>How Many PED Keys do I Need?</title>
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/ped_keys/how_many_ped-keys_do_i_need.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">HSM Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="ped_keys.htm">PED Key Management</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">How Many PED Keys Do I Need?</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2>How Many PED Keys do I Need?</h2>
        <p>You need enough to satisfy your operational and security-policy requirements. How that translates to an actual number of PED Keys depends on your situation. Here is some guidance.</p>
        <p>The basic amount is described in the topic/page "<a href="../ped_auth/about_ped_keys.htm">About PED Keys</a>".&#160;&#160;How many HSMs do you have?</p>
        <h3>How many off-site full sets do you require? One for many?</h3>
        <p>Do you intend to use common authentication for many Luna HSMs? The authentication secret on a single blue SO PED Key, for example, could be used with as many HSMs as you like. There is no limit. However if you wish to limit the risk of compromise of a common blue PED Key, you will need to have groups of HSMs with a distinct blue PED Key for each group. Each time you initialize, the HSM (via the PED) gives you the opportunity to "Reuse an existing keyset" - make the current HSM part of an existing group that is unlocked by an already-imprinted  PED Key (or an already-imprinted MofN keyset) - or to use a fresh, unique secret generated by the current HSM. </p>
        <h3>How many HSMs per group? One for some?</h3>
        <p>That will tell you the number of groups, and how many different blue PED Keys you need. Now double that number, at least, to allow for off-premises backup copies to be kept in secure storage in case one is lost or damaged. If you have only one blue PED Key for a group of HSMs, and that PED&#160;Key is lost or damaged, the HSMs of that group must be re-initialized (all contents lost) and a new blue PED Key imprinted. In most cases, the contents of an HSM are of some value, so at least one backup per blue PED Key should exist. </p>
        <h3>One for one?</h3>
        <p>You (or your organization's security policy) might prefer to have a separate blue SO PED Key - each containing a distinct/unique Security Officer authentication secret - for each HSM in your system. No single blue PED&#160;Key can unlock more than one HSM in that scenario. The number of blue keys that you need is the number of HSMs that you have. Now double that number in order to have at least one backup of each blue key.</p>
        <h3>Many for one?</h3>
        <p>Does your security policy allow you to trust your personnel? Perhaps you wish to spread the responsibility - and reduce the possibility of unilateral action - by splitting the SO authentication secret, invoking multi-person authentication. Choose the MofN option so that no single blue PED Key is sufficient to unlock an HSM. Two or more blue PED Keys (your choice, up to a maximum of 16 splits of each SO secret) would be needed to access each HSM. Distribute each split to a different person, ensuring that no one person can unlock the HSM. </p>
        <p>Having decided that you want (say) three separate people to be present when the SO authenticates to the HSM, you should also allow a few extra splits of that secret, to accommodate accidents, illness, vacations, business travel, or other reasons that would take some key-holders away from the HSM site. Perhaps you settle on two additional splits as sufficient additional key-holders. You have specified M of N equals 3 of 5. Each HSM's SO secret is split into five components, of which any three from that set can combine to reconstitute the SO secret. </p>
        <p>Whether you assigned SOs to HSMs on a one-for-one or a group basis (see above), you now multiply that number of SOs by N (the number of splits into which each SO secret is separated). There is no overlap - no split can be part of more than one secret. The number of PED Keys to manage has become significant, especially when you consider that each one (each split of each SO secret) should have at least one backup. </p>
        <p>With MofN, you need very good procedures to physically identify and track the various keys.</p>
        <h3>Partition Black PED Keys</h3>
        <p>Each HSM can have multiple partitions. The number depends upon your operational requirement and the number that you purchased, per HSM, up to the product maximum per unit. Each partition requires authentication - a black PED Key. </p>
        <p>You have all the same options as described above for the blue SO PED Key(s) - you should have at least one backup per primary black PED Key. That is, you might have multiple partitions, each with a unique authentication secret; therefore each would have a unique PED Key. Or, you might elect to group your partitions under common ownership, so that groups of partitions (on one or more HSMs) might share black PED Keys.</p>
        <p>As with the SO secret, you can also elect to split the partition black PED Key secret by invoking the MofN option (when prompted by the PED for "M value" and "N value" - those prompts do not appear if you chose to "Reuse an existing keyset" at the beginning of the partition creation operation).</p>
        <h3>Domain Red PED&#160;Keys</h3>
        <p>Each HSM has a domain. Each HSM partition has a domain. That domain is carried on a red PED Key, and must be shared with another HSM  if you wish to clone the HSM content from one to another, for example when making a backup.</p>
        <p>Domains must match across partitions  for you to clone or back up your partitions,  or when assembling HSM partitions into an HA group. </p>
        <p>As above, you can make whatever arrangements you wish regarding uniqueness, grouping, MofN (or not), etc., for the red PED Keys.</p>
        <h3>Other PED Keys</h3>
        <p>In addition, you might have orange PED Keys if you are using the Remote PED option [ orange Remote PED Keys (RPK) containing the Remote PED&#160;Vector (RPV) ], and you might have purple PED Keys if you are using the Secure Recovery option [ purple Secure Recovery Key (SRK) containing the Secure Recovery Vector (the external component of the MTK) ], and you might have white PED Keys if you invoke the Audit role option [ white Audit PED Keys  containing the authentication for the Auditor, who controls the audit logging feature) ] . In any case, you can invoke MofN, or not, as you choose, which affects the number of orange or purple or white PED keys that you must manage.</p>
        <p>Orange Remote PED Keys and white Audit PED Keys can be shared/common among multiple HSMs and PED&#160;workstations, if desired, just like all other PED Key colors except purple. </p>
        <p>SRK secrets are unique per HSM - they are not shared. A purple PED&#160;Key is associated with just one HSM. One additional point to remember about purple PED Keys: you can choose to 're-split' the SRK, which places a new secret on a new purple key (or keys if you invoke MofN), but you cannot overwrite a current purple key for the same HSM. The HSM prevents the imprinting/overwriting of any key that carries the current SRV  for the current HSM. This is a safety measure.</p>
        <p>If you wished, you could overwrite a purple key (or keys) that held an old version of SRV for the current HSM (from a previous re-split). You could also overwrite a purple key that held a current/valid SRV for a different HSM - which would be a problem for that other HSM. The PED and HSM protect the integrity of the current HSM's current SRK, but have no way of knowing whether purple keys from other HSMs are current. In that latter case, you are given the standard PED warning that you are attempting to overwrite a key with data on it (followed by a second reminder "are you sure?"), but you are not prevented from ignoring that warning (twice).</p>
        <p>All other PED Key roles allow you to overwrite any key (any color) with a new secret. A warning is given if a key is not blank, but you have the choice to overwrite, or to pause while you find a blank or outdated key [ "outdated" in this case means a previously imprinted PED&#160;Key that you have made irrelevant by re-initializing an HSM or deleting/re-creating a partition, or other action that makes the secret contained on a particular PED Key no longer relevant; PED Keys do not "age" and become invalid during their service life - only deliberate action on an HSM would cause the secret on a PED Key to become invalid].</p>
        <p>With all of the above in mind, it is not possible to suggest one "correct" number of PED Keys for your situation. It depends upon the choices that you make at several stages. In all cases, we repeat the recommendation to have at least one backup in case a PED Key (any color) is lost or damaged.</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#administration/ped_keys/how_many_ped-keys_do_i_need.htm">Open topic with navigation</a>
        </p>
    </body>
</html>