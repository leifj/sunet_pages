<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|Backup and Restore HSMs and Partitions|Small Form Factor Backup">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Cloning and SFF Backup Option Use Cases</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/backup/sff_and_cloning_use_cases.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix">  <![CDATA[ ]]></span><span class="MCBreadcrumbsSelf">HSM Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="backup.htm">Backup and Restore HSMs and Partitions</a><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="small_form_backup_about.htm">Small Form Factor Backup</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Cloning and Backup Option Use Cases</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h3>Cloning and SFF Backup Option Use Cases</h3>
        <p>This section describes the compatibility of small form factor (SFF) backup with HSM-to-HSM cloning in various configurations.</p>
        <p class="note" data-mc-autonum="&lt;b&gt;Note:&lt;/b&gt; &#160;"><span class="autonumber"><span><b>Note:</b> &#160;</span></span> SFF backup requires  firmware 6.21.0 or greater. HSMs with older firmware do not support SFF backup. </p>
        <p>The SFF backup feature can be added only to cloning HSMs. Cloning and SFF backup are two different HSM features that provide copying or archiving of partition objects in different ways, for different purposes. They can co-exist, but with limitations.</p>
        <p>Changes to cloning behavior were necessary in order to implement the SFF backup feature  on a cloning HSM. These changes come into effect only when an HSM has the SFF backup  capability update file (CUF) installed, and the SFF backup feature is turned on in the HSM policies. </p>
        <p>An HSM that is factory-configured for cloning supports secure HSM-to-HSM copying of objects. That cloning ability remains part of the HSM throughout its life. An HSM that was configured for cloning before the addition of SFF backup is still capable of cloning, but now additionally can archive objects to off-board storage by means of SFF backup. </p>
        <p>A cloning-only HSM (without the SFF capability enabled) can only accept cloning of objects that have never have been stored off the HSM (except keys clearly marked as extractable). Therefore, when SFF backup is installed and enabled on a cloning HSM (cloning plus SFF),  the operation of cloning to or from that HSM becomes restricted to HSMs that also have SFF backup installed and enabled. This is particularly important in HA implementations. If SFF backup is enabled on an HA group member, it must also be enabled for all other members of the HA group. See <a href="#Effect" class="MCXref xref "><span style="color: #6c286b;" class="mcFormatColor">"Effect on HA"</span></a>for more information.</p>
        <h4>Cloning and SFF backup compatibility</h4>
        <p>The following table sets out the compatibility constraints for HSMs with and without the SFF backup capability. </p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/Page.css');" class="TableStyle-Page" cellspacing="0">
            <col class="Column-Column1" style="width: 71px;" />
            <col class="Column-Column1" style="width: 49px;" />
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <col class="Column-Column1" style="width: 49px;" />
            <col class="Column-Column1" />
            <col class="Column-Column1" style="width: 224px;" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1" colspan="3">Source HSM &#160;&#160;</th>
                    <th class="HeadE-Column1-Header1" colspan="3">Target HSM &#160;&#160;</th>
                    <th class="HeadE-Column1-Header1">&#160;</th>
                    <th class="HeadD-Column1-Header1">&#160;</th>
                </tr>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Firmware <br />Version &#160;</th>
                    <th class="HeadE-Column1-Header1">Has <br />CUF?</th>
                    <th class="HeadE-Column1-Header1">
                        <p>Has HSM-<br />level policy <br />set?&#160;</p>
                        <p>[See Note 1] &#160;</p>
                    </th>
                    <th class="HeadE-Column1-Header1">Firmware <br />Version &#160;</th>
                    <th class="HeadE-Column1-Header1">Has <br />CUF?&#160;</th>
                    <th class="HeadE-Column1-Header1">Has HSM-<br />level policy <br />set?&#160;<br /><p>[See Note 1] &#160;</p></th>
                    <th class="HeadE-Column1-Header1">Cloning Outcome &#160;&#160;</th>
                    <th class="HeadD-Column1-Header1">SFF backup? &#160;&#160;</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w prior to version 6.21.0 &#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">F/w prior to version 6.21.0 &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No change. Cloning from one HSM to another is possible if the two HSMs share the same cloning domain. This was always the case.&#160;&#160;</td>
                    <td class="BodyD-Column1-Body1">None &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w prior to version 6.21.0 &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No change. Cloning from one HSM to another is possible if the two HSMs share the same cloning domain. &#160;&#160;</td>
                    <td class="BodyD-Column1-Body1">None &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">F/w prior to version 6.21.0 &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No change. Cloning from one HSM to another is possible if the two HSMs share the same cloning domain. &#160;&#160;</td>
                    <td class="BodyD-Column1-Body1">None &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">F/w prior to version 6.21.0 &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">N/A &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Cloning is NOT possible. Cloning from one HSM to the other is prevented when mismatch of settings is detected.</td>
                    <td class="BodyD-Column1-Body1">Source can use SFF backup, Target cannot &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes</td>
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">No &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Cloning is NOT possible. Cloning from one HSM to the other is prevented when mismatch of settings is detected. &#160;&#160;</td>
                    <td class="BodyD-Column1-Body1">Source can use SFF backup, Target cannot &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">F/w version 6.21.0 or <br />newer &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Yes &#160;&#160;</td>
                    <td class="BodyE-Column1-Body1">Cloning from one HSM to another is possible if the two HSMs share the same cloning domain. &#160;&#160;</td>
                    <td class="BodyD-Column1-Body1">Source and Target can both use SFF backup. Can interchange provided the same SIM secret is on both HSMs &#160;&#160;</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyA-Column1-Body1" colspan="8">
                        <p colspan="8"><b>Note 1:</b> The partition SFF backup policy does not have an effect at this level. The HSM-level policy governs. <br />The partition policy is used when the HSM-level policy is on and the SO wishes to disallow SFF backup for just a particular partition.</p>
                        <p colspan="8"><b>Note 2:</b> In addition to the requirement for minimum firmware level, the Capability Update <b>must</b> be present and the appropriate policy <b>must</b> be set for the feature to work. The above table has separate columns for each condition to highlight them, but does not include possible instances where the CUF&#160;is installed but the policy is off. If any of the three (firmware, CUF, policy) is not correct, the SFF backup feature cannot work.<br /></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h5>SFF&#160;Backup Compatibilty Summary</h5>
        <p>The following rules apply to the SFF backup feature:</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>If your HSM is not factory configured for cloning, you cannot apply the SFF backup capability. </p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>If your HSM has  firmware lower than 6.21.0, you cannot apply the SFF backup capability.</p>
        <p class="ul1" data-mc-autonum="&lt;b&gt;•&lt;/b&gt;"><span class="autonumber"><span class="ul1Bullet"><b>•</b></span></span>If your HSM has version 6.21.0 (or higher) firmware, and is a cloning version HSM, you can apply the SFF backup capability.</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span> If you do not apply the capability then the HSM can clone as it always did.</p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span> If you do apply the capability, but do not switch on the policy, cloning is still not affected. </p>
        <p class="ul2" data-mc-autonum="&lt;b&gt;–&lt;/b&gt;"><span class="autonumber"><span class="ul2Bullet"><b>–</b></span></span> If you do apply the capability, and switch on the policy, you can archive partition objects to a SFF backup eToken. Your ability to clone, however, is restricted to other HSMs that also have the SFF capability applied and the policy switched on. </p>
        <h3><a name="Effect"></a>Effect on HA</h3>
        <p>HSMs that do not have  SFF backup enabled, and have previously been able to participate in an HA group, continue to function in HA, even when updated to a firmware version that can support  SFF backup. This remains true as long as the other members of the HA&#160;group have the previous firmware, or have the newer firmware, but with  SFF backup not enabled. </p>
        <p>HSMs that have the  SFF backup capability applied, and the feature policy switched on, can share an HA group only with other HSMs that have the capability applied and the policy switched on. </p>
        <h3>Applicability</h3>
        <p>The above general rules apply at the HSM-wide level. It is not possible to have different settings, affecting the above-described compatibilities, at the partition level. The only partition-level option is to forbid  SFF backup for a particular partition while the HSM, as a whole, supports and permits it. </p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> </span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> </span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#administration/backup/sff_and_cloning_use_cases.htm">Open topic with navigation</a>
        </p>
    </body>
</html>