<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Primary.Default" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="HSM Administration Guide|Domains">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Legacy Domains and Migration</title>
        <link href="../../Resources/TableStyles/Page.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/Breadcrumbs.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/SafeNet_Template.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#administration/domains/legacy_domains_and_migration.htm">Open topic with navigation</a>
        </p>
        <table style="width: 100%;border-spacing: 0px 0px;mc-table-style: url('../../Resources/TableStyles/Breadcrumbs.css');border-left-style: none;border-left-width: 1px;border-left-color: #000000;border-right-style: none;border-right-width: 1px;border-right-color: #000000;border-top-style: none;border-top-width: 0px;border-top-color: #000000;border-bottom-style: solid;border-bottom-width: 2px;border-bottom-color: #e6e6e6;" class="TableStyle-Breadcrumbs" cellspacing="0">
            <col style="width: 41px;" class="TableStyle-Breadcrumbs-Column-Column1" />
            <col class="TableStyle-Breadcrumbs-Column-Column1" />
            <tbody>
                <tr class="TableStyle-Breadcrumbs-Body-Body1">
                    <th class="TableStyle-Breadcrumbs-BodyB-Column1-Body1">
                        <p class="home" style="font-weight: normal;"><a href="../../Home_sa.htm">Home</a> &gt;
                        </p>
                    </th>
                    <th class="TableStyle-Breadcrumbs-BodyA-Column1-Body1">
                        <div class="MCBreadcrumbsBox_0"><span class="MCBreadcrumbsPrefix"> </span><span class="MCBreadcrumbsSelf">HSM Administration Guide</span><span class="MCBreadcrumbsDivider"> &gt; </span><a class="MCBreadcrumbsLink" href="domains.htm">Domains</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Legacy Domains and Migration</span>
                        </div>
                    </th>
                </tr>
            </tbody>
        </table>
        <h2><a name="kanchor91"></a><a name="kanchor92"></a>Legacy Domains and Migration</h2>
        <p>The "Legacy Cloning Domain" for Password authenticated HSM partitions is the text string that was used as a cloning domain on the legacy token HSM whose contents are to be migrated to the Luna SA HSM&#160;partition. </p>
        <p>The "Legacy Cloning Domain" for PED authenticated HSM partitions is the  cloning domain secret on the red PED&#160;key for the legacy PED authenticated token HSM whose contents are to be migrated to the Luna SA HSM&#160;partition. </p>
        <p>Your <b>target</b> Luna SA HSM partition has, and retains, whatever modern partition cloning domain was imprinted (on a red PED&#160;Key) when the partition was created. The "partition setLegacyDomain" command takes the domain value from your legacy HSM's red PED&#160;Key and associates that with the modern-format domain of the partition, to allow the partition to be the cloning (restore...) recipient of objects from the legacy (token) HSM. </p>
        <p>Once the first legacy domain has been associated with your Luna SA HSM Partition, that legacy domain is attached until the partition is deleted.         </p>
        <p>The following table illustrates what happens when objects from several legacy tokens (Luna CA4) are migrated to Luna SA 5 partitions. Shown are different scenarios for the legacy domain(s) and for the Luna SA&#160;partition domain(s).</p>
        <table class="TableStyle-Page" style="mc-table-style: url('../../Resources/TableStyles/Page.css');margin-left: 0;margin-right: auto;" cellspacing="0">
            <col style="width: 100px;" class="Column-Column1" />
            <col style="width: 160px;" class="Column-Column1" />
            <col style="width: 144px;" class="Column-Column1" />
            <col style="width: 147px;" class="Column-Column1" />
            <col style="width: 150px;" class="Column-Column1" />
            <col style="width: 163px;" class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1" colspan="3">Source Token/HSM</th>
                    <th class="HeadD-Column1-Header1" colspan="3">Target HSM Partition</th>
                </tr>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Token Name</th>
                    <th class="HeadE-Column1-Header1">Token Contents</th>
                    <th class="HeadE-Column1-Header1">Token Domain</th>
                    <th class="HeadE-Column1-Header1">Partition Name</th>
                    <th class="HeadE-Column1-Header1">Partition Contents</th>
                    <th class="HeadD-Column1-Header1">Partition Domain</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyD-Column1-Body1" colspan="6">
                        <br />Example = four legacy tokens (different legacy domains) to four partitions (where all partitions have different modern domains)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain1</td>
                    <td class="BodyE-Column1-Body1">MyPartition1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain2</td>
                    <td class="BodyE-Column1-Body1">MyPartition2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyD-Column1-Body1">ModernDomain2 (with LegacyDomain2 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain3</td>
                    <td class="BodyE-Column1-Body1">MyPartition3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyD-Column1-Body1">ModernDomain3 (with LegacyDomain3 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain4</td>
                    <td class="BodyE-Column1-Body1">MyPartition4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyD-Column1-Body1">ModernDomain4 (with LegacyDomain4 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyD-Column1-Body1" colspan="6">
                        <br />Example = four legacy tokens (different legacy domains) to four partitions (where all partitions have same modern domain)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain1</td>
                    <td class="BodyE-Column1-Body1">MyPartition1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain2</td>
                    <td class="BodyE-Column1-Body1">MyPartition2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain2 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain3</td>
                    <td class="BodyE-Column1-Body1">MyPartition3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain3 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyE-Column1-Body1">LegacyDomain4</td>
                    <td class="BodyE-Column1-Body1">MyPartition4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain4 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyD-Column1-Body1" colspan="6">
                        <br />Example = four legacy tokens (shared legacy domain) to four partitions (where all partitions have different modern domains)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyE-Column1-Body1" rowspan="4">Common<br />LegacyDomain1</td>
                    <td class="BodyE-Column1-Body1">MyPartition1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyD-Column1-Body1">ModernDomain1 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyE-Column1-Body1">MyPartition2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyD-Column1-Body1">ModernDomain2 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyE-Column1-Body1">MyPartition3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyD-Column1-Body1">ModernDomain3 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyE-Column1-Body1">MyPartition4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyD-Column1-Body1">ModernDomain4 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyD-Column1-Body1" colspan="6">
                        <br />Example = four legacy tokens (shared legacy domain) to four partitions (where all partitions have same modern domain)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken1<br /></td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyE-Column1-Body1" rowspan="4">Common<br></br>LegacyDomain1</td>
                    <td class="BodyE-Column1-Body1">MyPartition1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1</td>
                    <td class="BodyD-Column1-Body1" rowspan="4">ModernDomain1 (with LegacyDomain1 set <br />i.e., same modern domain for all 4 partitions and same legacy domain associated to all 4 partitions)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken2<br /></td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                    <td class="BodyE-Column1-Body1">MyPartition2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken3<br /></td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                    <td class="BodyE-Column1-Body1">MyPartition3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken4<br /></td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                    <td class="BodyE-Column1-Body1">MyPartition4</td>
                    <td class="BodyE-Column1-Body1">Key4a, Key4b, Cert4</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyD-Column1-Body1" colspan="6">
                        <br />Example = four legacy tokens to one partition (legacy tokens must all have same domain)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken1</td>
                    <td class="BodyE-Column1-Body1">Key1a, Key1b, Cert1<br /></td>
                    <td class="BodyE-Column1-Body1" rowspan="4">Common<br />LegacyDomain1</td>
                    <td class="BodyE-Column1-Body1" rowspan="4">MyPartition1</td>
                    <td class="BodyE-Column1-Body1" rowspan="4">Key1a, Key1b, Cert1<br />Key2a, Key2b, Cert2<br />Key3a, Key3b, Cert3<br />Key4a, Key4b, Cert4<br />(i.e. contents of 4 tokens into one partition)</td>
                    <td class="BodyD-Column1-Body1" rowspan="4">ModernDomain1 (with LegacyDomain1 set)</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken2</td>
                    <td class="BodyE-Column1-Body1">Key2a, Key2b, Cert2<br /></td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">MyToken3</td>
                    <td class="BodyE-Column1-Body1">Key3a, Key3b, Cert3<br /></td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">MyToken4</td>
                    <td class="BodyB-Column1-Body1">Key4a, Key4b, Cert4<br /></td>
                </tr>
            </tbody>
        </table>
        <p>Contact SafeNet Technical Support -- e-mail: support@safenet-inc.com or phone 800-545-6608 (+1 410-931-7520 International) for the relevant Key Migration document, which includes explicit instructions to migrate your cryptographic objects between different types of Luna HSM (generally from legacy models to current models of HSM).</p>
        <p class="footer"><span class="DefaultProduct">Luna SA</span> <span class="DefaultRelease">5.4.1</span> <span class="DefaultProjectTitle">Product Documentation</span> <br /><span class="DefaultPartNumber">007-011136-007</span> <span class="DefaultRevision">Rev C</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultDateShort">July 2014</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span> <span class="DefaultCopyright">Copyright 2014</span>&#160;<span class="DefaultCompanyNameLong">SafeNet, Inc.</span> <span style="color: #5e5e5c;"> <![CDATA[ ]]></span>All rights reserved. </p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom"><a href="../../../index.html#administration/domains/legacy_domains_and_migration.htm">Open topic with navigation</a>
        </p>
    </body>
</html>